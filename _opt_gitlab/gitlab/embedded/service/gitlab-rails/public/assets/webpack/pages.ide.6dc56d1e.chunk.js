(this.webpackJsonp=this.webpackJsonp||[]).push([[107],{112:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=1024,i="hidden"},1131:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(33);function i(){var e=gon&&gon.relative_url_root||"",t=Object(r.g)(e,"/assets/webpack/");n.p=t,window.__webpack_public_path__=t}},1160:function(e,t,n){"use strict";n(28),n(69),n(89);var r=n(492),i=n.n(r),a=n(8),o=n.n(a),s=n(500),c=n.n(s),l=(n(35),n(72),n(55),n(283),n(45)),u=n(328),d=n(686),p={components:{Icon:l.a,ChangedFileIcon:d.a,FileIcon:u.a},props:{file:{type:Object,required:!0},focused:{type:Boolean,required:!0},searchText:{type:String,required:!0},index:{type:Number,required:!0},showDiffStats:{type:Boolean,required:!1,default:!1}},computed:{pathWithEllipsis:function(){var e=this.file.path;return e.length<60?e:"...".concat(e.substr(e.length-60))},nameSearchTextOccurences:function(){return i.a.match(this.file.name,this.searchText)},pathSearchTextOccurences:function(){return i.a.match(this.pathWithEllipsis,this.searchText)}},methods:{clickRow:function(){this.$emit("click",this.file)},mouseOverRow:function(){this.$emit("mouseover",this.index)},mouseMove:function(){this.$emit("mousemove",this.index)}}},f=(n(1380),n(4)),h=Object(f.a)(p,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{staticClass:"diff-changed-file",class:{"is-focused":e.focused},attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.clickRow(t)},mouseover:e.mouseOverRow,mousemove:e.mouseMove}},[n("file-icon",{attrs:{"file-name":e.file.name,size:16,"css-classes":"diff-file-changed-icon append-right-8"}}),e._v(" "),n("span",{staticClass:"diff-changed-file-content append-right-8"},[n("strong",{staticClass:"diff-changed-file-name"},e._l(e.file.name.split(""),(function(t,r){return n("span",{key:r+t,class:{highlighted:e.nameSearchTextOccurences.indexOf(r)>=0},domProps:{textContent:e._s(t)}})})),0),e._v(" "),n("span",{staticClass:"diff-changed-file-path prepend-top-5"},e._l(e.pathWithEllipsis.split(""),(function(t,r){return n("span",{key:r+t,class:{highlighted:e.pathSearchTextOccurences.indexOf(r)>=0},domProps:{textContent:e._s(t)}})})),0)]),e._v(" "),e.file.changed||e.file.tempFile?e._m(0):e._e()],1)}),[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"diff-changed-stats"},[e.showDiffStats?n("span",[n("span",{staticClass:"cgreen bold"},[n("icon",{staticClass:"align-text-top",attrs:{name:"file-addition"}}),e._v(" "+e._s(e.file.addedLines)+"\n      ")],1),e._v(" "),n("span",{staticClass:"cred bold ml-1"},[n("icon",{staticClass:"align-text-top",attrs:{name:"file-deletion"}}),e._v(" "+e._s(e.file.removedLines)+"\n      ")],1)]):n("changed-file-icon",{attrs:{file:e.file}})],1)}],!1,null,"8bcca2c2",null).exports,m=n(355),g=o.a.stopCallback,b={components:{Item:h,VirtualList:c.a},props:{files:{type:Array,required:!0},visible:{type:Boolean,required:!0},loading:{type:Boolean,required:!0},showDiffStats:{type:Boolean,required:!1,default:!1},clearSearchOnClose:{type:Boolean,required:!1,default:!0}},data:function(){return{focusedIndex:-1,searchText:"",mouseOver:!1,cancelMouseOver:!1}},computed:{filteredBlobs:function(){var e=this.searchText.trim();return""===e?this.files.slice(0,40):i.a.filter(this.files,e,{key:"path",maxResults:40})},filteredBlobsLength:function(){return this.filteredBlobs.length},listShowCount:function(){return this.filteredBlobsLength?Math.min(this.filteredBlobsLength,5):1},listHeight:function(){return this.filteredBlobsLength?55:33},showClearInputButton:function(){return""!==this.searchText.trim()}},watch:{visible:function(){var e=this;this.$nextTick((function(){e.visible?(e.focusedIndex=0,e.$refs.searchInput&&e.$refs.searchInput.focus()):e.clearSearchOnClose&&(e.searchText="")}))},searchText:function(){var e=this;this.focusedIndex=-1,this.$nextTick((function(){e.focusedIndex=0}))},focusedIndex:function(){var e=this;this.mouseOver||this.$nextTick((function(){var t=e.$refs.virtualScrollList.$el,n=55*e.focusedIndex,r=55*e.listShowCount;0===e.focusedIndex?t.scrollTop=0:e.focusedIndex===e.filteredBlobsLength-1?t.scrollTop=55*e.filteredBlobsLength:n>=r+t.scrollTop?t.scrollTop=n-r+55:n<t.scrollTop&&(t.scrollTop=n)}))}},mounted:function(){var e=this;this.files.length&&(this.focusedIndex=0),o.a.bind(["t","command+p","ctrl+p"],(function(t){t.preventDefault&&t.preventDefault(),e.toggle(!e.visible)})),o.a.stopCallback=function(t,n,r){return e.mousetrapStopCallback(t,n,r)}},methods:{toggle:function(e){this.$emit("toggle",e)},clearSearchInput:function(){var e=this;this.searchText="",this.$nextTick((function(){e.$refs.searchInput.focus()}))},onKeydown:function(e){switch(e.keyCode){case m.e:e.preventDefault(),this.mouseOver=!1,this.cancelMouseOver=!0,this.focusedIndex>0?this.focusedIndex-=1:this.focusedIndex=this.filteredBlobsLength-1;break;case m.b:e.preventDefault(),this.mouseOver=!1,this.cancelMouseOver=!0,this.focusedIndex<this.filteredBlobsLength-1?this.focusedIndex+=1:this.focusedIndex=0}},onKeyup:function(e){switch(e.keyCode){case m.c:this.openFile(this.filteredBlobs[this.focusedIndex]);break;case m.d:this.toggle(!1)}},openFile:function(e){this.toggle(!1),this.$emit("click",e)},onMouseOver:function(e){this.cancelMouseOver||(this.mouseOver=!0,this.focusedIndex=e)},onMouseMove:function(e){this.cancelMouseOver=!1,this.onMouseOver(e)},mousetrapStopCallback:function(e,t,n){return!!("t"===n&&t.classList.contains("dropdown-input-field")||t.classList.contains("inputarea"))||"command+p"!==n&&"ctrl+p"!==n&&g(e,t,n)}}},v=(n(1382),Object(f.a)(b,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"file-finder-overlay",on:{mousedown:function(t){return t.target!==t.currentTarget?null:e.toggle(!1)}}},[n("div",{staticClass:"dropdown-menu diff-file-changes file-finder show"},[n("div",{staticClass:"dropdown-input",class:{"has-value":e.showClearInputButton}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.searchText,expression:"searchText"}],ref:"searchInput",staticClass:"dropdown-input-field",attrs:{placeholder:e.__("Search files"),type:"search",autocomplete:"off"},domProps:{value:e.searchText},on:{keydown:function(t){return e.onKeydown(t)},keyup:function(t){return e.onKeyup(t)},input:function(t){t.target.composing||(e.searchText=t.target.value)}}}),e._v(" "),n("i",{staticClass:"fa fa-search dropdown-input-search",class:{hidden:e.showClearInputButton},attrs:{"aria-hidden":"true"}}),e._v(" "),n("i",{staticClass:"fa fa-times dropdown-input-clear",attrs:{"aria-label":e.__("Clear search input"),role:"button"},on:{click:e.clearSearchInput}})]),e._v(" "),n("div",[n("virtual-list",{ref:"virtualScrollList",attrs:{size:e.listHeight,remain:e.listShowCount,wtag:"ul"}},[e.filteredBlobsLength?e._l(e.filteredBlobs,(function(t,r){return n("li",{key:t.key},[n("item",{staticClass:"disable-hover",attrs:{file:t,"search-text":e.searchText,focused:r===e.focusedIndex,index:r,"show-diff-stats":e.showDiffStats},on:{click:e.openFile,mouseover:e.onMouseOver,mousemove:e.onMouseMove}})],1)})):n("li",{staticClass:"dropdown-menu-empty-item"},[n("div",{staticClass:"append-right-default prepend-left-default prepend-top-8 append-bottom-8"},[e.loading?[e._v("\n              "+e._s(e.__("Loading..."))+"\n            ")]:[e._v("\n              "+e._s(e.__("No files found."))+"\n            ")]],2)])],2)],1)])])}),[],!1,null,"7679498a",null));t.a=v.exports},1161:function(e,t,n){"use strict";n(72),n(55),n(91);var r=n(110),i={props:{path:{type:String,required:!0}},computed:{truncatedPath:function(){return Object(r.p)(this.path,40)}}},a=n(4),o=Object(a.a)(i,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"file-row-header bg-white sticky-top p-2 js-file-row-header"},[t("span",{staticClass:"bold"},[this._v(this._s(this.truncatedPath))])])}),[],!1,null,null,null).exports,s=n(328),c=n(33),l={name:"FileRow",components:{FileHeader:o,FileIcon:s.a},props:{file:{type:Object,required:!0},level:{type:Number,required:!0}},computed:{isTree:function(){return"tree"===this.file.type},isBlob:function(){return"blob"===this.file.type},levelIndentation:function(){return{marginLeft:this.level?"".concat(16*this.level,"px"):null}},fileClass:function(){return{"file-open":this.isBlob&&this.file.opened,"is-active":this.isBlob&&this.file.active,folder:this.isTree,"is-open":this.file.opened}}},watch:{"file.active":function(e){"blob"===this.file.type&&e&&this.scrollIntoView()}},mounted:function(){this.hasPathAtCurrentRoute()&&this.scrollIntoView(!0)},methods:{toggleTreeOpen:function(e){this.$emit("toggleTreeOpen",e)},clickedFile:function(e){this.$emit("clickFile",e)},clickFile:function(){this.isTree&&this.hasUrlAtCurrentRoute()&&this.toggleTreeOpen(this.file.path),this.$router&&this.$router.push("/project".concat(this.file.url)),this.isBlob&&this.clickedFile(this.file.path)},scrollIntoView:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=e&&this.isTree?"center":"nearest";this.$el.scrollIntoView({behavior:"smooth",block:t})},hasPathAtCurrentRoute:function(){if(!this.$router||!this.$router.currentRoute)return!1;var e=this.$router.currentRoute.path.replace(/^.*?[\/]-[\/]/g,"").replace(/[\/]$/g,"");return this.file.path.replace(/[\/]$/g,"")===e},hasUrlAtCurrentRoute:function(){return!this.$router||!this.$router.currentRoute||this.$router.currentRoute.path==="/project".concat(Object(c.b)(this.file.url))}}},u=(n(1384),Object(a.a)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.file.isHeader?n("file-header",{attrs:{path:e.file.path}}):n("div",{staticClass:"file-row",class:e.fileClass,attrs:{title:e.file.name,role:"button"},on:{click:e.clickFile,mouseleave:function(t){return e.$emit("mouseleave",t)}}},[n("div",{staticClass:"file-row-name-container"},[n("span",{ref:"textOutput",staticClass:"file-row-name str-truncated",style:e.levelIndentation},[n("file-icon",{staticClass:"file-row-icon",class:{"text-secondary":"tree"===e.file.type},attrs:{"file-name":e.file.name,loading:e.file.loading,folder:e.isTree,opened:e.file.opened,size:16}}),e._v("\n      "+e._s(e.file.name)+"\n    ")],1),e._v(" "),e._t("default")],2)])}),[],!1,null,null,null));t.a=u.exports},1164:function(e,t,n){"use strict";n(72);var r={props:{startSize:{type:Number,required:!0},side:{type:String,required:!0},minSize:{type:Number,required:!1,default:0},maxSize:{type:Number,required:!1,default:Number.MAX_VALUE},enabled:{type:Boolean,required:!1,default:!0}},data:function(){return{size:this.startSize,isDragging:!1}},computed:{className:function(){return["position-".concat(this.side,"-0"),{"is-dragging":this.isDragging}]},cursorStyle:function(){return this.enabled?{cursor:"ew-resize"}:{}}},methods:{resetSize:function(e){var t=this;e.preventDefault(),this.$emit("resize-start",this.size),this.size=this.startSize,this.$emit("update:size",this.size),this.$nextTick((function(){t.$emit("resize-end",t.size)}))},startDrag:function(e){this.enabled&&(e.preventDefault(),this.isDragging=!0,this.startPos=e.clientX,this.currentStartSize=this.size,document.addEventListener("mousemove",this.drag),document.addEventListener("mouseup",this.endDrag,{once:!0}),this.$emit("resize-start",this.size))},drag:function(e){e.preventDefault();var t=e.clientX-this.startPos;"left"===this.side&&(t=-t);var n=this.currentStartSize+t;n<this.minSize?n=this.minSize:n>this.maxSize&&(n=this.maxSize),this.size=n,this.$emit("update:size",n)},endDrag:function(e){e.preventDefault(),this.isDragging=!1,document.removeEventListener("mousemove",this.drag),this.$emit("resize-end",this.size)}}},i=n(4),a=Object(i.a)(r,(function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"position-absolute position-top-0 position-bottom-0 drag-handle",class:this.className,style:this.cursorStyle,on:{mousedown:this.startDrag,dblclick:this.resetSize}})}),[],!1,null,null,null);t.a=a.exports},1165:function(e,t,n){"use strict";n(72);var r={name:"FileTree",props:{fileRowComponent:{type:Object,required:!0},level:{type:Number,required:!0},file:{type:Object,required:!0}},computed:{childFilesLevel:function(){return this.file.isHeader?0:this.level+1}}},i=n(4),a=Object(i.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n(e.fileRowComponent,e._g(e._b({tag:"component",attrs:{level:e.level,file:e.file}},"component",e.$attrs,!1),e.$listeners)),e._v(" "),e.file.opened||e.file.isHeader?e._l(e.file.tree,(function(t){return n("file-tree",e._g(e._b({key:t.key,attrs:{"file-row-component":e.fileRowComponent,level:e.childFilesLevel,file:t}},"file-tree",e.$attrs,!1),e.$listeners))})):e._e()],2)}),[],!1,null,null,null);t.a=a.exports},117:function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return l})),n.d(t,"r",(function(){return u})),n.d(t,"j",(function(){return d})),n.d(t,"l",(function(){return p})),n.d(t,"k",(function(){return f})),n.d(t,"m",(function(){return h})),n.d(t,"p",(function(){return m})),n.d(t,"q",(function(){return g})),n.d(t,"i",(function(){return b})),n.d(t,"n",(function(){return v})),n.d(t,"h",(function(){return y})),n.d(t,"o",(function(){return w}));n(770);var r=750,i=50,a=72,o="editor",s="preview",c="createMergeRequestIn",l="readMergeRequest",u={mr:"mrdiff",edit:"editor",diff:"diff"},d={replaced:"replaced",new:"new",deleted:"deleted",renamed:"renamed",mode_changed:"mode_changed"},p=Object.freeze({not_diffable:"not_diffable",no_preview:"no_preview",added:"added",deleted:"deleted",renamed:"renamed",mode_changed:"mode_changed",text:"text",image:"image"}),f=Object.freeze({too_large:"too_large",stored_externally:"server_side_but_stored_externally"}),h={edit:{name:"ide-tree",keepAlive:!1},review:{name:"ide-review",keepAlive:!1},commit:{name:"repo-commit-section",keepAlive:!1}},m={pipelines:{name:"pipelines-list",keepAlive:!0},jobsDetail:{name:"jobs-detail",keepAlive:!1},mergeRequestInfo:{name:"merge-request-info",keepAlive:!0},clientSidePreview:{name:"clientside",keepAlive:!1}},g={unstaged:"unstaged",staged:"staged"},b={addition:{icon:"file-addition",class:"ide-file-addition"},modified:{icon:"file-modified",class:"ide-file-modified"},deleted:{icon:"file-deletion",class:"ide-file-deletion"}},v={rename:"rename",tree:"tree"},y={move:"move",delete:"delete",create:"create",update:"update"},w="package.json"},125:function(e,t,n){e.exports=n(284)},1378:function(e,t,n){"use strict";var r=n(773);n.n(r).a},1379:function(e,t,n){(e.exports=n(74)(!1)).push([e.i,"\n.file-addition,\n.file-addition-solid {\n  color: #1aaa55;\n}\n.file-modified,\n.file-modified-solid {\n  color: #fc9403;\n}\n.file-deletion,\n.file-deletion-solid {\n  color: #db3b21;\n}\n",""])},1380:function(e,t,n){"use strict";var r=n(774);n.n(r).a},1381:function(e,t,n){(e.exports=n(74)(!1)).push([e.i,"\n.highlighted[data-v-8bcca2c2] {\n  color: #1f78d1;\n  font-weight: 600;\n}\n",""])},1382:function(e,t,n){"use strict";var r=n(775);n.n(r).a},1383:function(e,t,n){(e.exports=n(74)(!1)).push([e.i,"\n.file-finder-overlay[data-v-7679498a] {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 200;\n}\n.file-finder[data-v-7679498a] {\n  top: 10px;\n  left: 50%;\n  transform: translateX(-50%);\n}\n.diff-file-changes[data-v-7679498a] {\n  top: 50px;\n  max-height: 327px;\n}\n",""])},1384:function(e,t,n){"use strict";var r=n(776);n.n(r).a},1385:function(e,t,n){(e.exports=n(74)(!1)).push([e.i,"\n.file-row {\n  display: flex;\n  align-items: center;\n  height: 32px;\n  padding: 4px 8px;\n  margin-left: -8px;\n  margin-right: -8px;\n  border-radius: 3px;\n  text-align: left;\n  cursor: pointer;\n}\n.file-row:hover,\n.file-row:focus {\n  background: #f2f2f2;\n}\n.file-row:active {\n  background: #dfdfdf;\n}\n.file-row.is-active {\n  background: #f2f2f2;\n}\n.file-row-name-container {\n  display: flex;\n  width: 100%;\n  align-items: center;\n  overflow: visible;\n}\n.file-row-name {\n  display: inline-block;\n  flex: 1;\n  max-width: inherit;\n  height: 19px;\n  line-height: 16px;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.file-row-name .file-row-icon {\n  margin-right: 2px;\n  vertical-align: middle;\n}\n",""])},153:function(e,t,n){"use strict";var r=n(295),i=n(103),a=n(203),o=n(25),s=n(60),c=n.n(s);const l={components:{BButton:r.a,GlIcon:i.a},mixins:[a.a],props:{category:{type:String,required:!1,default:o.q.tertiary,validator:function(e){return Object.keys(o.q).includes(e)}},variant:{type:String,required:!1,default:o.t.default,validator:function(e){return Object.keys(o.t).includes(e)}},size:{type:String,required:!1,default:o.r.medium,validator:function(e){return Object.keys(o.r).includes(e)}},selected:{type:Boolean,required:!1,default:!1},icon:{type:String,required:!1,default:""},label:{type:Boolean,required:!1,default:!1}},computed:{hasIcon:function(){return""!==this.icon},hasIconOnly:function(){return 0===Object.keys(this.$slots).length&&this.hasIcon},buttonClasses:function(){return{"btn-icon":this.hasIconOnly,"button-ellipsis-horizontal":this.hasIconOnly&&"ellipsis_h"===this.icon,"btn-secondary":this.category===o.q.secondary,"new-gl-button":this.variant!==o.t.link,"btn-label":this.label,selected:this.selected}},buttonSize:function(){return o.s[this.size]}}};const u=c()({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-button",e._g(e._b({class:e.buttonClasses,attrs:{rel:e.relType,target:e.target,variant:e.variant,size:e.buttonSize}},"b-button",e.$attrs,!1),e.$listeners),[e.hasIcon?n("gl-icon",{attrs:{name:e.icon}}):e._e(),e._v(" "),e._t("emoji"),e._v(" "),e._t("default")],2)},staticRenderFns:[]},void 0,l,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=u},154:function(e,t,n){"use strict";var r={components:{GlLoadingIcon:n(760).a},props:{loading:{type:Boolean,required:!1,default:!1},disabled:{type:Boolean,required:!1,default:!1},label:{type:String,required:!1},containerClass:{type:[String,Array,Object],required:!1,default:"btn btn-align-content"}},methods:{onClick:function(e){this.$emit("click",e)}}},i=n(4),a=Object(i.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{class:e.containerClass,attrs:{disabled:e.loading||e.disabled,type:"button"},on:{click:e.onClick}},[n("transition",{attrs:{name:"fade-in"}},[e.loading?n("gl-loading-icon",{staticClass:"js-loading-button-icon",class:{"append-right-5":e.label},attrs:{inline:!0}}):e._e()],1),e._v(" "),n("transition",{attrs:{name:"fade-in"}},[e._t("default",[e.label?n("span",{staticClass:"js-loading-button-label"},[e._v(" "+e._s(e.label)+" ")]):e._e()])],2)],1)}),[],!1,null,null,null);t.a=a.exports},159:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n(85);var r=n(146),i=n(16);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=t,this.options.data=t.data||{},this.options.notificationCallback=t.notificationCallback||function(){},this.intervalHeader="POLL-INTERVAL",this.timeoutID=null,this.canPoll=!0}var t,n,o;return t=e,(n=[{key:"checkConditions",value:function(e){var t=this,n=Object(i.D)(e.headers),a=parseInt(n[this.intervalHeader],10);a>0&&-1!==r.b.indexOf(e.status)&&this.canPoll&&(this.timeoutID&&clearTimeout(this.timeoutID),this.timeoutID=setTimeout((function(){t.makeRequest()}),a)),this.options.successCallback(e)}},{key:"makeRequest",value:function(){var e=this,t=this.options,n=t.resource,i=t.method,a=t.data,o=t.errorCallback,s=t.notificationCallback;return s(!0),n[i](a).then((function(t){e.checkConditions(t),s(!1)})).catch((function(e){s(!1),e.status!==r.a.ABORTED&&o(e)}))}},{key:"stop",value:function(){this.canPoll=!1,clearTimeout(this.timeoutID)}},{key:"enable",value:function(e){e&&e.data&&(this.options.data=e.data),this.canPoll=!0,e&&e.response&&this.checkConditions(e.response)}},{key:"restart",value:function(e){this.enable(e),this.makeRequest()}}])&&a(t.prototype,n),o&&a(t,o),e}()},1608:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getUserPermissions"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"projectPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userPermissions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createMergeRequestIn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"readMergeRequest"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:167}};n.loc.source={body:"query getUserPermissions($projectPath: ID!) {\n  project(fullPath: $projectPath) {\n    userPermissions {\n      createMergeRequestIn,\n      readMergeRequest\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.getUserPermissions=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);for(var a=r[t]||new Set,o=new Set,s=new Set(a);s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"getUserPermissions")},1609:function(e,t,n){e.exports=function(){return new Worker(n.p+"diff_worker.ed5bec44.worker.js")}},1610:function(e){e.exports=JSON.parse('[{"id":"file-finder","label":"File finder","bindings":["CtrlCmd+KEY_P"],"action":{"name":"toggleFileFinder","params":true}},{"id":"save-files","label":"Save files","bindings":["CtrlCmd+KEY_S"],"action":{"name":"triggerFilesChange"}}]')},1611:function(e,t,n){"use strict";(function(e,r){n.d(t,"a",(function(){return T}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}var o=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},s=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},c=function(){return 1e6*Math.random()+1e6*Math.random()+""},l=function(){function e(e,t,n){var r=this;this.type=e,this.handleMessage=t,this.target=n,this.outgoingMessages=new Set,this._messageListener=function(e){return o(r,void 0,void 0,(function(){var t,n,r;return s(this,(function(i){switch(i.label){case 0:return(t=e.data).$type!==this.getTypeId()?[2]:this.outgoingMessages.has(t.$id)?[2]:[4,this.handleMessage(t.$data)];case 1:return n=i.sent(),r={$originId:this.internalId,$type:this.getTypeId(),$data:n,$id:t.$id},e.source?e.source.postMessage(r,"*"):this._postMessage(r),[2]}}))}))},this.createConnection(),this.internalId=c()}return e.prototype.getTypeId=function(){return"p-"+this.type},e.prototype.createConnection=function(){self.addEventListener("message",this._messageListener)},e.prototype.dispose=function(){self.removeEventListener("message",this._messageListener)},e.prototype.sendMessage=function(e){var t=this;return new Promise((function(n){var r=c(),i={$originId:t.internalId,$type:t.getTypeId(),$data:e,$id:r};t.outgoingMessages.add(r);var a=function(e){var i=e.data;i.$type===t.getTypeId()&&i.$id===r&&i.$originId!==t.internalId&&(n(i.$data),self.removeEventListener("message",a))};self.addEventListener("message",a),t._postMessage(i)}))},e.prototype._postMessage=function(e){"Worker"===this.target.constructor.name||"undefined"!=typeof DedicatedWorkerGlobalScope&&target instanceof DedicatedWorkerGlobalScope?this.target.postMessage(e):this.target.postMessage(e,"*")},e}();Object.freeze({show:function(e,t,n){return void 0===t&&(t="notice"),void 0===n&&(n=2),{type:"action",action:"notification",title:e,notificationType:t,timeAlive:n}}});Object.freeze({openModule:function(e,t,n){return{type:"action",action:"editor.open-module",path:e,lineNumber:t,column:n}}});var u=Object.freeze({add:function(e){return{type:"action",action:"source.dependencies.add",dependency:e}}}),d=Object.freeze({rename:function(e,t){return{type:"action",action:"source.module.rename",path:e,title:t}}});Object.freeze({dependencies:u,modules:d});Object.freeze({show:function(e,t,n){var r=n.line,i=n.column,a=n.lineEnd,o=n.columnEnd;return{title:e,message:t,line:r,column:i,path:n.path,payload:n.payload,lineEnd:a,columnEnd:o,severity:"error",type:"action",action:"show-error",source:n.source||"browser"}},clear:function(e,t){return{type:"action",action:"clear-errors",path:e,source:t}}});Object.freeze({show:function(e,t){var n=void 0===t?{path:"",severity:"warning",source:""}:t,r=n.line,i=n.column,a=n.lineEnd,o=n.columnEnd,s=n.path,c=n.payload,l=n.severity,u=void 0===l?"warning":l,d=n.source;return{message:e,line:r,column:i,lineEnd:a,columnEnd:o,path:s,payload:c,severity:u,source:void 0===d?"":d,type:"action",action:"show-correction"}},clear:function(e,t){return{type:"action",action:"clear-corrections",path:e,source:t}}});Object.freeze({show:function(e){return{line:e.line,path:e.path,className:e.className,type:"action",action:"show-glyph"}}});var p=function(){return(p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},f=new Map;var h="undefined"==typeof window||!!(window.location&&window.location.href.indexOf("?standalone")>-1)||!window.opener&&window.parent===window,m=null,g=function(e){"register-frame"===e.data.type&&(m=e.data.origin,self.removeEventListener("message",g))};function b(e){if(e){var t=p(p({},e),{codesandbox:!0});w(t),function(e){var t=JSON.parse(JSON.stringify(e));f.forEach((function(e,n){n&&n.postMessage&&n.postMessage(p(p({},t),{codesandbox:!0}),e)}))}(t),h||null===m&&"initialized"!==e.type||(window.opener?window.opener.postMessage(t,null===m?"*":m):window.parent.postMessage(t,null===m?"*":m))}}"undefined"!=typeof window&&self.addEventListener("message",g);var v={},y=0;function w(e,t){Object.keys(v).forEach((function(n){v[n]&&v[n](e,t)}))}"undefined"!=typeof window&&window.addEventListener("message",(function(e){var t=e.data;t&&t.codesandbox&&(null===m||e.origin===m)&&w(t,e.source)}));var O="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};function _(e,t){return e(t={exports:{}},t.exports),t.exports}var j,E=_((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMainFile=function(e){return"vue-cli"===e?"src/main.js":"angular-cli"===e?"src/main.ts":"create-react-app-typescript"===e?"src/index.tsx":"parcel"===e?"index.html":"gatsby"===e?"src/pages/index.js":"nuxt"===e?"package.json":"next"===e?"package.json":"apollo"===e?"package.json":"reason"===e?"package.json":"sapper"===e?"package.json":"nest"===e?"src/main.ts":"static"===e?"index.html":"src/index.js"};var n="sandbox.config.json";t.getTemplate=function(e,t){var r=t[n]||t["/"+n];if(r)try{var i=JSON.parse(r.content);if(i.template)return i.template}catch(e){}var a=e.dependencies,o=void 0===a?{}:a,s=e.devDependencies,c=void 0===s?{}:s,l=Object.keys(o).concat(Object.keys(c)),u=["nuxt","nuxt-edge"];if(l.some((function(e){return u.indexOf(e)>-1})))return"nuxt";if(l.indexOf("next")>-1)return"next";var d=["apollo-server","apollo-server-express","apollo-server-hapi","apollo-server-koa","apollo-server-lambda","apollo-server-micro"];if(l.some((function(e){return d.indexOf(e)>-1})))return"apollo";if(l.indexOf("ember-cli")>-1)return"ember";if(l.indexOf("sapper")>-1)return"sapper";var p=Object.keys(t);if(p.some((function(e){return e.endsWith(".vue")})))return"vue-cli";if(p.some((function(e){return e.endsWith(".re")})))return"reason";if(l.indexOf("gatsby")>-1)return"gatsby";if(l.indexOf("parcel-bundler")>-1)return"parcel";if(l.indexOf("react-scripts")>-1)return"create-react-app";if(l.indexOf("react-scripts-ts")>-1)return"create-react-app-typescript";if(l.indexOf("@angular/core")>-1)return"angular-cli";if(l.indexOf("preact-cli")>-1)return"preact-cli";if(l.indexOf("svelte")>-1)return"svelte";if(l.indexOf("vue")>-1)return"vue-cli";var f=["@dojo/core","@dojo/framework"];return l.some((function(e){return f.indexOf(e)>-1}))?"@dojo/cli-create-app":l.indexOf("cx")>-1?"cxjs":l.indexOf("@nestjs/core")>-1||l.indexOf("@nestjs/common")>-1?"nest":void 0}}));(j=E)&&j.__esModule&&Object.prototype.hasOwnProperty.call(j,"default")&&j.default;E.getMainFile;var P=E.getTemplate,C=_((function(e,t){var n=200,r="__lodash_hash_undefined__",i=1,a=2,o=9007199254740991,s="[object Arguments]",c="[object Array]",l="[object AsyncFunction]",u="[object Boolean]",d="[object Date]",p="[object Error]",f="[object Function]",h="[object GeneratorFunction]",m="[object Map]",g="[object Number]",b="[object Null]",v="[object Object]",y="[object Proxy]",w="[object RegExp]",_="[object Set]",j="[object String]",E="[object Symbol]",P="[object Undefined]",C="[object ArrayBuffer]",S="[object DataView]",k=/^\[object .+?Constructor\]$/,T=/^(?:0|[1-9]\d*)$/,x={};x["[object Float32Array]"]=x["[object Float64Array]"]=x["[object Int8Array]"]=x["[object Int16Array]"]=x["[object Int32Array]"]=x["[object Uint8Array]"]=x["[object Uint8ClampedArray]"]=x["[object Uint16Array]"]=x["[object Uint32Array]"]=!0,x[s]=x[c]=x[C]=x[u]=x[S]=x[d]=x[p]=x[f]=x[m]=x[g]=x[v]=x[w]=x[_]=x[j]=x["[object WeakMap]"]=!1;var I="object"==typeof O&&O&&O.Object===Object&&O,D="object"==typeof self&&self&&self.Object===Object&&self,R=I||D||Function("return this")(),M=t&&!t.nodeType&&t,F=M&&e&&!e.nodeType&&e,L=F&&F.exports===M,A=L&&I.process,q=function(){try{return A&&A.binding&&A.binding("util")}catch(e){}}(),N=q&&q.isTypedArray;function B(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function $(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function V(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var z,G,U,H=Array.prototype,W=Function.prototype,J=Object.prototype,K=R["__core-js_shared__"],Y=W.toString,Q=J.hasOwnProperty,X=(z=/[^.]+$/.exec(K&&K.keys&&K.keys.IE_PROTO||""))?"Symbol(src)_1."+z:"",Z=J.toString,ee=RegExp("^"+Y.call(Q).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),te=L?R.Buffer:void 0,ne=R.Symbol,re=R.Uint8Array,ie=J.propertyIsEnumerable,ae=H.splice,oe=ne?ne.toStringTag:void 0,se=Object.getOwnPropertySymbols,ce=te?te.isBuffer:void 0,le=(G=Object.keys,U=Object,function(e){return G(U(e))}),ue=qe(R,"DataView"),de=qe(R,"Map"),pe=qe(R,"Promise"),fe=qe(R,"Set"),he=qe(R,"WeakMap"),me=qe(Object,"create"),ge=Ve(ue),be=Ve(de),ve=Ve(pe),ye=Ve(fe),we=Ve(he),Oe=ne?ne.prototype:void 0,_e=Oe?Oe.valueOf:void 0;function je(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ee(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Pe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ce(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Pe;++t<n;)this.add(e[t])}function Se(e){var t=this.__data__=new Ee(e);this.size=t.size}function ke(e,t){var n=Ue(e),r=!n&&Ge(e),i=!n&&!r&&He(e),a=!n&&!r&&!i&&Qe(e),o=n||r||i||a,s=o?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],c=s.length;for(var l in e)!t&&!Q.call(e,l)||o&&("length"==l||i&&("offset"==l||"parent"==l)||a&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||$e(l,c))||s.push(l);return s}function Te(e,t){for(var n=e.length;n--;)if(ze(e[n][0],t))return n;return-1}function xe(e){return null==e?void 0===e?P:b:oe&&oe in Object(e)?function(e){var t=Q.call(e,oe),n=e[oe];try{e[oe]=void 0;var r=!0}catch(e){}var i=Z.call(e);r&&(t?e[oe]=n:delete e[oe]);return i}(e):function(e){return Z.call(e)}(e)}function Ie(e){return Ye(e)&&xe(e)==s}function De(e,t,n,r,o){return e===t||(null==e||null==t||!Ye(e)&&!Ye(t)?e!=e&&t!=t:function(e,t,n,r,o,l){var f=Ue(e),h=Ue(t),b=f?c:Be(e),y=h?c:Be(t),O=(b=b==s?v:b)==v,P=(y=y==s?v:y)==v,k=b==y;if(k&&He(e)){if(!He(t))return!1;f=!0,O=!1}if(k&&!O)return l||(l=new Se),f||Qe(e)?Fe(e,t,n,r,o,l):function(e,t,n,r,o,s,c){switch(n){case S:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case C:return!(e.byteLength!=t.byteLength||!s(new re(e),new re(t)));case u:case d:case g:return ze(+e,+t);case p:return e.name==t.name&&e.message==t.message;case w:case j:return e==t+"";case m:var l=$;case _:var f=r&i;if(l||(l=V),e.size!=t.size&&!f)return!1;var h=c.get(e);if(h)return h==t;r|=a,c.set(e,t);var b=Fe(l(e),l(t),r,o,s,c);return c.delete(e),b;case E:if(_e)return _e.call(e)==_e.call(t)}return!1}(e,t,b,n,r,o,l);if(!(n&i)){var T=O&&Q.call(e,"__wrapped__"),x=P&&Q.call(t,"__wrapped__");if(T||x){var I=T?e.value():e,D=x?t.value():t;return l||(l=new Se),o(I,D,n,r,l)}}if(!k)return!1;return l||(l=new Se),function(e,t,n,r,a,o){var s=n&i,c=Le(e),l=c.length,u=Le(t).length;if(l!=u&&!s)return!1;var d=l;for(;d--;){var p=c[d];if(!(s?p in t:Q.call(t,p)))return!1}var f=o.get(e);if(f&&o.get(t))return f==t;var h=!0;o.set(e,t),o.set(t,e);var m=s;for(;++d<l;){p=c[d];var g=e[p],b=t[p];if(r)var v=s?r(b,g,p,t,e,o):r(g,b,p,e,t,o);if(!(void 0===v?g===b||a(g,b,n,r,o):v)){h=!1;break}m||(m="constructor"==p)}if(h&&!m){var y=e.constructor,w=t.constructor;y!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof w&&w instanceof w)&&(h=!1)}return o.delete(e),o.delete(t),h}(e,t,n,r,o,l)}(e,t,n,r,De,o))}function Re(e){return!(!Ke(e)||function(e){return!!X&&X in e}(e))&&(We(e)?ee:k).test(Ve(e))}function Me(e){if(n=(t=e)&&t.constructor,r="function"==typeof n&&n.prototype||J,t!==r)return le(e);var t,n,r,i=[];for(var a in Object(e))Q.call(e,a)&&"constructor"!=a&&i.push(a);return i}function Fe(e,t,n,r,o,s){var c=n&i,l=e.length,u=t.length;if(l!=u&&!(c&&u>l))return!1;var d=s.get(e);if(d&&s.get(t))return d==t;var p=-1,f=!0,h=n&a?new Ce:void 0;for(s.set(e,t),s.set(t,e);++p<l;){var m=e[p],g=t[p];if(r)var b=c?r(g,m,p,t,e,s):r(m,g,p,e,t,s);if(void 0!==b){if(b)continue;f=!1;break}if(h){if(!B(t,(function(e,t){if(i=t,!h.has(i)&&(m===e||o(m,e,n,r,s)))return h.push(t);var i}))){f=!1;break}}else if(m!==g&&!o(m,g,n,r,s)){f=!1;break}}return s.delete(e),s.delete(t),f}function Le(e){return function(e,t,n){var r=t(e);return Ue(e)?r:function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}(r,n(e))}(e,Xe,Ne)}function Ae(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function qe(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Re(n)?n:void 0}je.prototype.clear=function(){this.__data__=me?me(null):{},this.size=0},je.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},je.prototype.get=function(e){var t=this.__data__;if(me){var n=t[e];return n===r?void 0:n}return Q.call(t,e)?t[e]:void 0},je.prototype.has=function(e){var t=this.__data__;return me?void 0!==t[e]:Q.call(t,e)},je.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=me&&void 0===t?r:t,this},Ee.prototype.clear=function(){this.__data__=[],this.size=0},Ee.prototype.delete=function(e){var t=this.__data__,n=Te(t,e);return!(n<0)&&(n==t.length-1?t.pop():ae.call(t,n,1),--this.size,!0)},Ee.prototype.get=function(e){var t=this.__data__,n=Te(t,e);return n<0?void 0:t[n][1]},Ee.prototype.has=function(e){return Te(this.__data__,e)>-1},Ee.prototype.set=function(e,t){var n=this.__data__,r=Te(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Pe.prototype.clear=function(){this.size=0,this.__data__={hash:new je,map:new(de||Ee),string:new je}},Pe.prototype.delete=function(e){var t=Ae(this,e).delete(e);return this.size-=t?1:0,t},Pe.prototype.get=function(e){return Ae(this,e).get(e)},Pe.prototype.has=function(e){return Ae(this,e).has(e)},Pe.prototype.set=function(e,t){var n=Ae(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Ce.prototype.add=Ce.prototype.push=function(e){return this.__data__.set(e,r),this},Ce.prototype.has=function(e){return this.__data__.has(e)},Se.prototype.clear=function(){this.__data__=new Ee,this.size=0},Se.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Se.prototype.get=function(e){return this.__data__.get(e)},Se.prototype.has=function(e){return this.__data__.has(e)},Se.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Ee){var i=r.__data__;if(!de||i.length<n-1)return i.push([e,t]),this.size=++r.size,this;r=this.__data__=new Pe(i)}return r.set(e,t),this.size=r.size,this};var Ne=se?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}(se(e),(function(t){return ie.call(e,t)})))}:function(){return[]},Be=xe;function $e(e,t){return!!(t=null==t?o:t)&&("number"==typeof e||T.test(e))&&e>-1&&e%1==0&&e<t}function Ve(e){if(null!=e){try{return Y.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function ze(e,t){return e===t||e!=e&&t!=t}(ue&&Be(new ue(new ArrayBuffer(1)))!=S||de&&Be(new de)!=m||pe&&"[object Promise]"!=Be(pe.resolve())||fe&&Be(new fe)!=_||he&&"[object WeakMap]"!=Be(new he))&&(Be=function(e){var t=xe(e),n=t==v?e.constructor:void 0,r=n?Ve(n):"";if(r)switch(r){case ge:return S;case be:return m;case ve:return"[object Promise]";case ye:return _;case we:return"[object WeakMap]"}return t});var Ge=Ie(function(){return arguments}())?Ie:function(e){return Ye(e)&&Q.call(e,"callee")&&!ie.call(e,"callee")},Ue=Array.isArray;var He=ce||function(){return!1};function We(e){if(!Ke(e))return!1;var t=xe(e);return t==f||t==h||t==l||t==y}function Je(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}function Ke(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ye(e){return null!=e&&"object"==typeof e}var Qe=N?function(e){return function(t){return e(t)}}(N):function(e){return Ye(e)&&Je(e.length)&&!!x[xe(e)]};function Xe(e){return null!=(t=e)&&Je(t.length)&&!We(t)?ke(e):Me(e);var t}e.exports=function(e,t){return De(e,t)}}));function S(e,t){return void 0===e&&(e={}),void 0===t&&(t="/index.js"),JSON.stringify({name:"sandpack-project",main:t,dependencies:e},null,2)}var k="development"===r.env.CODESANDBOX_ENV?"http://localhost:3002":"https://sandpack-"+"0.0.62".replace(/\./g,"-")+".codesandbox.io",T=function(){function e(e,t,n){var r,i,o=this;if(void 0===n&&(n={}),this.options=n,this.sandboxInfo=t,this.bundlerURL=n.bundlerURL||k,"string"==typeof e){this.selector=e;var s=document.querySelector(e);if(!s)throw new Error("No element found for selector '"+e+"'");this.element=s,this.iframe=document.createElement("iframe"),this.initializeElement()}else this.element=e,this.iframe=e;this.iframe.setAttribute("sandbox","allow-forms allow-scripts allow-same-origin allow-modals allow-popups allow-presentation"),this.iframe.src=this.bundlerURL,this.listener=(r=function(e){switch(e.type){case"initialized":o.iframe&&(o.iframe.contentWindow&&(t=o.iframe.contentWindow,n=o.bundlerURL,f.set(t,n),t.postMessage({type:"register-frame",origin:document.location.origin},n),o.options.fileResolver&&(o.fileResolverProtocol=new l("file-resolver",(function(e){return t=o,n=void 0,i=function(){return a(this,(function(t){return"isFile"===e.m?[2,this.options.fileResolver.isFile(e.p)]:[2,this.options.fileResolver.readFile(e.p)]}))},new((r=void 0)||(r=Promise))((function(e,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(t){t.done?e(t.value):new r((function(e){e(t.value)})).then(o,s)}c((i=i.apply(t,n||[])).next())}));var t,n,r,i}),o.iframe.contentWindow))),o.updatePreview())}var t,n},i=++y,v[i]=r,function(){delete v[i]})}return e.prototype.updateOptions=function(e){C(this.options,e)||(this.options=e,this.updatePreview())},e.prototype.updatePreview=function(e){void 0===e&&(e=this.sandboxInfo),this.sandboxInfo=e;var t=this.getFiles(),n=Object.keys(t).reduce((function(e,n){var r;return i(i({},e),((r={})[n]={code:t[n].code,path:n},r))}),{}),r=JSON.parse(S(this.sandboxInfo.dependencies,this.sandboxInfo.entry));try{r=JSON.parse(t["/package.json"].code)}catch(e){console.error("Could not parse package.json file: "+e.message)}var a=Object.keys(t).reduce((function(e,n){var r;return i(i({},e),((r={})[n]={content:t[n].code,path:n},r))}),{});b({type:"compile",codesandbox:!0,version:3,modules:n,externalResources:[],hasFileResolver:Boolean(this.options.fileResolver),disableDependencyPreprocessing:this.sandboxInfo.disableDependencyPreprocessing,template:this.sandboxInfo.template||P(r,a),showOpenInCodeSandbox:null==this.sandboxInfo.showOpenInCodeSandbox||this.sandboxInfo.showOpenInCodeSandbox,skipEval:this.options.skipEval||!1})},e.prototype.dispatch=function(e){b(e)},e.prototype.getCodeSandboxURL=function(){var e=this.getFiles(),t=Object.keys(e).reduce((function(t,n){var r;return i(i({},t),((r={})[n.replace("/","")]={content:e[n].code,isBinary:!1},r))}),{});return fetch("https://codesandbox.io/api/v1/sandboxes/define?json=1",{method:"POST",body:JSON.stringify({files:t}),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return{sandboxId:e.sandbox_id,editorUrl:"https://codesandbox.io/s/"+e.sandbox_id,embedUrl:"https://codesandbox.io/embed/"+e.sandbox_id}}))},e.prototype.getFiles=function(){var e=this.sandboxInfo;return void 0===e.files["/package.json"]?function(e,t,n){var r=i({},e);if(!r["/package.json"]){if(!t)throw new Error("No dependencies specified, please specify either a package.json or dependencies.");if(!n)throw new Error("No entry specified, please specify either a package.json with 'main' field or dependencies.");r["/package.json"]={code:S(t,n)}}return r}(e.files,e.dependencies,e.entry):this.sandboxInfo.files},e.prototype.initializeElement=function(){if(this.iframe.style.border="0",this.iframe.style.width=this.options.width||"100%",this.iframe.style.height=this.options.height||"100%",this.iframe.style.overflow="hidden",!this.element.parentNode)throw new Error("Given element does not have a parent.");this.element.parentNode.replaceChild(this.iframe,this.element)},e}()}).call(this,n(458),n(556))},184:function(e,t,n){var r=n(108),i=n(271),a=n(215),o=n(296),s=n(344),c=n(419);r({target:"Reflect",stat:!0},{get:function e(t,n){var r,l,u=arguments.length<3?t:arguments[2];return a(t)===u?t[n]:(r=s.f(t,n))?o(r,"value")?r.value:void 0===r.get?void 0:r.get.call(u):i(l=c(t))?e(l,n,u):void 0}})},198:function(e,t,n){"use strict";var r=n(828),i=n(189),a=(n(62),{directives:{GlTooltip:r.a},mixins:[i.a],props:{time:{type:String,required:!0},tooltipPlacement:{type:String,required:!1,default:"top"},cssClass:{type:String,required:!1,default:""}}}),o=n(4),s=Object(o.a)(a,(function(){var e=this.$createElement;return(this._self._c||e)("time",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.viewport",value:{placement:this.tooltipPlacement},expression:"{ placement: tooltipPlacement }",modifiers:{viewport:!0}}],class:this.cssClass,attrs:{title:this.tooltipTitle(this.time)},domProps:{textContent:this._s(this.timeFormatted(this.time))}})}),[],!1,null,null,null);t.a=s.exports},2221:function(e,t,n){n(105),e.exports=n(2455)},2455:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"redirectToUrl",(function(){return At})),n.d(r,"setInitialData",(function(){return qt})),n.d(r,"discardAllChanges",(function(){return Nt})),n.d(r,"closeAllFiles",(function(){return Bt})),n.d(r,"setPanelCollapsedStatus",(function(){return $t})),n.d(r,"setResizingStatus",(function(){return Vt})),n.d(r,"createTempEntry",(function(){return zt})),n.d(r,"scrollToTab",(function(){return Gt})),n.d(r,"stageAllChanges",(function(){return Ut})),n.d(r,"unstageAllChanges",(function(){return Ht})),n.d(r,"updateViewer",(function(){return Wt})),n.d(r,"updateDelayViewerUpdated",(function(){return Jt})),n.d(r,"updateActivityBarView",(function(){return Kt})),n.d(r,"setEmptyStateSvgs",(function(){return Yt})),n.d(r,"setCurrentBranchId",(function(){return Qt})),n.d(r,"updateTempFlagForEntry",(function(){return Xt})),n.d(r,"toggleFileFinder",(function(){return Zt})),n.d(r,"setLinks",(function(){return en})),n.d(r,"setErrorMessage",(function(){return tn})),n.d(r,"openNewEntryModal",(function(){return nn})),n.d(r,"deleteEntry",(function(){return rn})),n.d(r,"resetOpenFiles",(function(){return an})),n.d(r,"renameEntry",(function(){return on})),n.d(r,"getBranchData",(function(){return sn})),n.d(r,"toggleTreeOpen",(function(){return tt})),n.d(r,"showTreeEntry",(function(){return nt})),n.d(r,"handleTreeEntryAction",(function(){return rt})),n.d(r,"setDirectoryData",(function(){return it})),n.d(r,"getFiles",(function(){return at})),n.d(r,"restoreTree",(function(){return ot})),n.d(r,"closeFile",(function(){return st})),n.d(r,"setFileActive",(function(){return ct})),n.d(r,"getFileData",(function(){return lt})),n.d(r,"setFileMrChange",(function(){return ut})),n.d(r,"getRawFileData",(function(){return dt})),n.d(r,"changeFileContent",(function(){return pt})),n.d(r,"setFileLanguage",(function(){return ft})),n.d(r,"setFileEOL",(function(){return ht})),n.d(r,"setEditorPosition",(function(){return mt})),n.d(r,"setFileViewMode",(function(){return gt})),n.d(r,"restoreOriginalFile",(function(){return bt})),n.d(r,"discardFileChanges",(function(){return vt})),n.d(r,"stageChange",(function(){return yt})),n.d(r,"unstageChange",(function(){return wt})),n.d(r,"openPendingTab",(function(){return Ot})),n.d(r,"removePendingTab",(function(){return _t})),n.d(r,"triggerFilesChange",(function(){return jt})),n.d(r,"getProjectData",(function(){return Et})),n.d(r,"refreshLastCommitData",(function(){return Pt})),n.d(r,"createNewBranchFromDefault",(function(){return Ct})),n.d(r,"showBranchNotFoundError",(function(){return St})),n.d(r,"showEmptyState",(function(){return kt})),n.d(r,"loadFile",(function(){return Tt})),n.d(r,"loadBranch",(function(){return xt})),n.d(r,"openBranch",(function(){return It})),n.d(r,"getMergeRequestsForBranch",(function(){return Dt})),n.d(r,"getMergeRequestData",(function(){return Rt})),n.d(r,"getMergeRequestChanges",(function(){return Mt})),n.d(r,"getMergeRequestVersions",(function(){return Ft})),n.d(r,"openMergeRequest",(function(){return Lt})),n.d(r,"default",(function(){return cn}));var i={};n.r(i),n.d(i,"activeFile",(function(){return hn})),n.d(i,"addedFiles",(function(){return mn})),n.d(i,"modifiedFiles",(function(){return gn})),n.d(i,"projectsWithTrees",(function(){return bn})),n.d(i,"currentMergeRequest",(function(){return vn})),n.d(i,"findProject",(function(){return yn})),n.d(i,"currentProject",(function(){return wn})),n.d(i,"emptyRepo",(function(){return On})),n.d(i,"currentTree",(function(){return _n})),n.d(i,"hasChanges",(function(){return jn})),n.d(i,"hasMergeRequest",(function(){return En})),n.d(i,"allBlobs",(function(){return Pn})),n.d(i,"getChangedFile",(function(){return Cn})),n.d(i,"getStagedFile",(function(){return Sn})),n.d(i,"getOpenFile",(function(){return kn})),n.d(i,"lastOpenedFile",(function(){return Tn})),n.d(i,"isEditModeActive",(function(){return xn})),n.d(i,"isCommitModeActive",(function(){return In})),n.d(i,"isReviewModeActive",(function(){return Dn})),n.d(i,"someUncommittedChanges",(function(){return Rn})),n.d(i,"getChangesInFolder",(function(){return Mn})),n.d(i,"getUnstagedFilesCountForPath",(function(){return Fn})),n.d(i,"getStagedFilesCountForPath",(function(){return Ln})),n.d(i,"lastCommit",(function(){return An})),n.d(i,"findBranch",(function(){return qn})),n.d(i,"currentBranch",(function(){return Nn})),n.d(i,"branchName",(function(){return Bn})),n.d(i,"packageJson",(function(){return $n})),n.d(i,"isOnDefaultBranch",(function(){return Vn})),n.d(i,"canPushToBranch",(function(){return zn})),n.d(i,"isFileDeletedAndReadded",(function(){return Gn})),n.d(i,"getDiffInfo",(function(){return Un})),n.d(i,"findProjectPermissions",(function(){return Hn})),n.d(i,"canReadMergeRequests",(function(){return Wn})),n.d(i,"canCreateMergeRequests",(function(){return Jn})),n.d(i,"default",(function(){return Kn}));var a={};n.r(a),n.d(a,"updateCommitMessage",(function(){return xr})),n.d(a,"discardDraft",(function(){return Ir})),n.d(a,"updateCommitAction",(function(){return Dr})),n.d(a,"toggleShouldCreateMR",(function(){return Rr})),n.d(a,"updateBranchName",(function(){return Mr})),n.d(a,"setLastCommitMessage",(function(){return Fr})),n.d(a,"updateFilesAfterCommit",(function(){return Lr})),n.d(a,"commitChanges",(function(){return Ar})),n.d(a,"default",(function(){return qr}));var o={};n.r(o),n.d(o,"discardDraftButtonDisabled",(function(){return Br})),n.d(o,"placeholderBranchName",(function(){return $r})),n.d(o,"branchName",(function(){return Vr})),n.d(o,"preBuiltCommitMessage",(function(){return zr})),n.d(o,"isCreatingNewBranch",(function(){return Gr})),n.d(o,"shouldHideNewMrOption",(function(){return Ur})),n.d(o,"shouldDisableNewMrOption",(function(){return Hr})),n.d(o,"shouldCreateMR",(function(){return Wr})),n.d(o,"default",(function(){return Jr}));var s={};n.r(s),n.d(s,"clearEtagPoll",(function(){return ni})),n.d(s,"stopPipelinePolling",(function(){return ri})),n.d(s,"restartPipelinePolling",(function(){return ii})),n.d(s,"forcePipelineRequest",(function(){return ai})),n.d(s,"requestLatestPipeline",(function(){return oi})),n.d(s,"receiveLatestPipelineError",(function(){return si})),n.d(s,"receiveLatestPipelineSuccess",(function(){return ci})),n.d(s,"fetchLatestPipeline",(function(){return li})),n.d(s,"requestJobs",(function(){return ui})),n.d(s,"receiveJobsError",(function(){return di})),n.d(s,"receiveJobsSuccess",(function(){return pi})),n.d(s,"fetchJobs",(function(){return fi})),n.d(s,"toggleStageCollapsed",(function(){return hi})),n.d(s,"setDetailJob",(function(){return mi})),n.d(s,"requestJobTrace",(function(){return gi})),n.d(s,"receiveJobTraceError",(function(){return bi})),n.d(s,"receiveJobTraceSuccess",(function(){return vi})),n.d(s,"fetchJobTrace",(function(){return yi})),n.d(s,"resetLatestPipeline",(function(){return wi})),n.d(s,"default",(function(){return Oi}));var c={};n.r(c),n.d(c,"hasLatestPipeline",(function(){return Ii})),n.d(c,"pipelineFailed",(function(){return Di})),n.d(c,"failedStages",(function(){return Ri})),n.d(c,"failedJobsCount",(function(){return Mi})),n.d(c,"jobsCount",(function(){return Fi})),n.d(c,"default",(function(){return Li}));var l={};n.r(l),n.d(l,"requestMergeRequests",(function(){return Bi})),n.d(l,"receiveMergeRequestsError",(function(){return $i})),n.d(l,"receiveMergeRequestsSuccess",(function(){return Vi})),n.d(l,"fetchMergeRequests",(function(){return zi})),n.d(l,"resetMergeRequests",(function(){return Gi})),n.d(l,"default",(function(){return Ui}));var u={};n.r(u),n.d(u,"requestBranches",(function(){return Yi})),n.d(u,"receiveBranchesError",(function(){return Qi})),n.d(u,"receiveBranchesSuccess",(function(){return Xi})),n.d(u,"fetchBranches",(function(){return Zi})),n.d(u,"resetBranches",(function(){return ea})),n.d(u,"default",(function(){return ta}));var d={};n.r(d),n.d(d,"requestTemplateTypes",(function(){return aa})),n.d(d,"receiveTemplateTypesError",(function(){return oa})),n.d(d,"receiveTemplateTypesSuccess",(function(){return sa})),n.d(d,"fetchTemplateTypes",(function(){return ca})),n.d(d,"setSelectedTemplateType",(function(){return la})),n.d(d,"receiveTemplateError",(function(){return ua})),n.d(d,"fetchTemplate",(function(){return da})),n.d(d,"setFileTemplate",(function(){return pa})),n.d(d,"undoFileTemplate",(function(){return fa})),n.d(d,"default",(function(){return ha}));var p={};n.r(p),n.d(p,"templateTypes",(function(){return ma})),n.d(p,"showFileTemplatesBar",(function(){return ga})),n.d(p,"default",(function(){return ba}));var f={};n.r(f),n.d(f,"toggleOpen",(function(){return Oa})),n.d(f,"open",(function(){return _a})),n.d(f,"close",(function(){return ja})),n.d(f,"default",(function(){return Ea}));var h={};n.r(h),n.d(h,"isActiveView",(function(){return Pa})),n.d(h,"isAliveView",(function(){return Ca}));var m={};n.r(m),n.d(m,"pingUsage",(function(){return Ta})),n.d(m,"default",(function(){return xa}));n(24),n(28),n(26),n(50),n(58),n(38),n(27);var g=n(17),b=n(22),v=n(20),y=n.n(v),w=n(177),O=(n(77),n(553)),_=n(760),j=n(1),E=n(1160),P=(n(85),n(40),n(65),n(35),n(18),n(55),n(67),n(89),n(41),n(0)),C=n.n(P),S=n(14),k=n(304),T=n(117);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var R={components:{GlModal:k.a},data:function(){return{name:""}},computed:I({},Object(b.e)(["entries","entryModal"]),{},Object(b.d)("fileTemplates",["templateTypes"]),{entryName:{get:function(){var e=this.entryModal.entry.path;return this.entryModal.type===T.n.rename?this.name||e:this.name||(e?"".concat(e,"/"):"")},set:function(e){this.name=e.trim()}},modalTitle:function(){return this.entryModal.type===T.n.tree?Object(j.a)("Create new directory"):this.entryModal.type===T.n.rename?this.entryModal.entry.type===T.n.tree?Object(j.a)("Rename folder"):Object(j.a)("Rename file"):Object(j.a)("Create new file")},buttonLabel:function(){return this.entryModal.type===T.n.tree?Object(j.a)("Create directory"):this.entryModal.type===T.n.rename?this.entryModal.entry.type===T.n.tree?Object(j.a)("Rename folder"):Object(j.a)("Rename file"):Object(j.a)("Create file")},isCreatingNewFile:function(){return"blob"===this.entryModal.type},placeholder:function(){return this.isCreatingNewFile?"dir/file_name":"dir/"}}),methods:I({},Object(b.c)(["createTempEntry","renameEntry"]),{submitForm:function(){if(this.entryModal.type===T.n.rename)if(this.entries[this.entryName]&&!this.entries[this.entryName].deleted)Object(S.a)(Object(j.e)(Object(j.d)('The name "%{name}" is already taken in this directory.'),{name:this.entryName}),"alert",document,null,!1,!0);else{var e=this.entryName.split("/"),t=e.pop();e=e.join("/"),this.renameEntry({path:this.entryModal.entry.path,name:t,parentPath:e})}else this.createTempEntry({name:this.name,type:this.entryModal.type})},createFromTemplate:function(e){this.createTempEntry({name:e.name,type:this.entryModal.type}),C()("#ide-new-entry").modal("toggle")},focusInput:function(){var e=this.entries[this.entryName]?this.entries[this.entryName].name:null,t=this.$refs.fieldName.value;this.$refs.fieldName.focus(),e&&this.$refs.fieldName.setSelectionRange(t.indexOf(e),t.length)},closedModal:function(){this.name=""}})},M=n(4),F=Object(M.a)(R,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("gl-modal",{staticClass:"qa-new-file-modal",attrs:{id:"ide-new-entry","header-title-text":e.modalTitle,"footer-primary-button-text":e.buttonLabel,"footer-primary-button-variant":"success","modal-size":"lg"},on:{submit:e.submitForm,open:e.focusInput,closed:e.closedModal}},[n("div",{staticClass:"form-group row"},[n("label",{staticClass:"label-bold col-form-label col-sm-2"},[e._v(" "+e._s(e.__("Name"))+" ")]),e._v(" "),n("div",{staticClass:"col-sm-10"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.entryName,expression:"entryName"}],ref:"fieldName",staticClass:"form-control qa-full-file-path",attrs:{type:"text",placeholder:e.placeholder},domProps:{value:e.entryName},on:{input:function(t){t.target.composing||(e.entryName=t.target.value)}}}),e._v(" "),e.isCreatingNewFile?n("ul",{staticClass:"file-templates prepend-top-default list-inline qa-template-list"},e._l(e.templateTypes,(function(t,r){return n("li",{key:r,staticClass:"list-inline-item"},[n("button",{staticClass:"btn btn-missing p-1 pr-2 pl-2",attrs:{type:"button"},on:{click:function(n){return e.createFromTemplate(t)}}},[e._v("\n            "+e._s(t.name)+"\n          ")])])})),0):e._e()])])])}),[],!1,null,null,null).exports,L=n(2532),A=n(1165),q=n(1161),N=n(99),B=n(45),$=n(686),V=(n(30),n(78),n(36),{directives:{tooltip:N.a},components:{Icon:B.a},props:{label:{type:String,required:!1,default:null},icon:{type:String,required:!0},iconClasses:{type:String,required:!1,default:null},showLabel:{type:Boolean,required:!1,default:!0}},computed:{tooltipTitle:function(){return this.showLabel?"":this.label}},methods:{clicked:function(){this.$emit("click")}}}),z=Object(M.a)(V,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"btn-blank",attrs:{"aria-label":e.label,title:e.tooltipTitle,type:"button"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.clicked(t)}}},[n("icon",{class:e.iconClasses,attrs:{name:e.icon}}),e._v(" "),e.showLabel?[e._v("\n    "+e._s(e.label)+"\n  ")]:e._e()],2)}),[],!1,null,null,null).exports,G=n(687),U={components:{ItemButton:z},props:{path:{type:String,required:!1,default:""},showLabel:{type:Boolean,required:!1,default:!0},buttonCssClasses:{type:String,required:!1,default:null}},methods:{createFile:function(e,t){var n=this,r=t.name,i=e.result.split("base64,")[1],a=i?atob(i):"",o=Object(G.c)(a,t.type,r),s=function(t){return n.$emit("create",{name:"".concat(n.path?"".concat(n.path,"/"):"").concat(r),type:"blob",content:t,base64:!o,binary:!o,rawPath:o?"":e.result})};if(o){var c=new FileReader;c.addEventListener("load",(function(e){return s(e.target.result)}),{once:!0}),c.readAsText(t)}else s(i)},readFile:function(e){var t=this,n=new FileReader;n.addEventListener("load",(function(n){return t.createFile(n.target,e)}),{once:!0}),n.readAsDataURL(e)},openFile:function(){var e=this;Array.from(this.$refs.fileUpload.files).forEach((function(t){return e.readFile(t)}))},startFileUpload:function(){this.$refs.fileUpload.click()}}},H=Object(M.a)(U,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("item-button",{staticClass:"d-flex",class:this.buttonCssClasses,attrs:{"show-label":this.showLabel,"icon-classes":this.showLabel?"mr-2":"",label:this.__("Upload file"),icon:"upload"},on:{click:this.startFileUpload}}),this._v(" "),t("input",{ref:"fileUpload",staticClass:"hidden",attrs:{id:"file-upload",type:"file",multiple:""},on:{change:this.openFile}})],1)}),[],!1,null,null,null).exports;function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var K={components:{icon:B.a,upload:H,ItemButton:z},props:{type:{type:String,required:!0},path:{type:String,required:!1,default:""},isOpen:{type:Boolean,required:!1,default:!1}},watch:{isOpen:function(){var e=this;this.$nextTick((function(){e.$refs.dropdownMenu.scrollIntoView({block:"nearest"})}))}},methods:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){J(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(b.c)(["createTempEntry","openNewEntryModal","deleteEntry"]),{createNewItem:function(e){this.openNewEntryModal({type:e,path:this.path}),this.$emit("toggle",!1)},openDropdown:function(){this.$emit("toggle",!this.isOpen)}}),modalTypes:T.n},Y=Object(M.a)(K,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ide-new-btn"},[n("div",{staticClass:"dropdown d-flex",class:{show:e.isOpen}},[n("button",{staticClass:"rounded border-0 d-flex ide-entry-dropdown-toggle",attrs:{"aria-label":e.__("Create new file or directory"),type:"button"},on:{click:function(t){return t.stopPropagation(),e.openDropdown()}}},[n("icon",{attrs:{name:"ellipsis_v"}}),e._v(" "),n("icon",{attrs:{name:"chevron-down"}})],1),e._v(" "),n("ul",{ref:"dropdownMenu",staticClass:"dropdown-menu dropdown-menu-right"},["tree"===e.type?[n("li",[n("item-button",{staticClass:"d-flex",attrs:{label:e.__("New file"),icon:"doc-new","icon-classes":"mr-2"},on:{click:function(t){return e.createNewItem("blob")}}})],1),e._v(" "),n("li",[n("upload",{attrs:{path:e.path},on:{create:e.createTempEntry}})],1),e._v(" "),n("li",[n("item-button",{staticClass:"d-flex",attrs:{label:e.__("New directory"),icon:"folder-new","icon-classes":"mr-2"},on:{click:function(t){return e.createNewItem(e.$options.modalTypes.tree)}}})],1),e._v(" "),n("li",{staticClass:"divider"})]:e._e(),e._v(" "),n("li",[n("item-button",{staticClass:"d-flex",attrs:{label:e.__("Rename/Move"),icon:"pencil","icon-classes":"mr-2"},on:{click:function(t){return e.createNewItem(e.$options.modalTypes.rename)}}})],1),e._v(" "),n("li",[n("item-button",{staticClass:"d-flex",attrs:{label:e.__("Delete"),icon:"remove","icon-classes":"mr-2"},on:{click:function(t){return e.deleteEntry(e.path)}}})],1)],2)])])}),[],!1,null,null,null).exports,Q={components:{icon:B.a},directives:{tooltip:N.a}},X=Object(M.a)(Q,(function(){var e=this.$createElement;return(this._self._c||e)("icon",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"append-right-8",attrs:{title:this.__("Part of merge request changes"),size:12,name:"git-merge"}})}),[],!1,null,null,null).exports;function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var te={name:"FileRowExtra",directives:{tooltip:N.a},components:{Icon:B.a,NewDropdown:Y,ChangedFileIcon:$.a,MrFileIcon:X},props:{file:{type:Object,required:!0},dropdownOpen:{type:Boolean,required:!0}},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(b.d)(["getChangesInFolder","getUnstagedFilesCountForPath","getStagedFilesCountForPath"]),{isTree:function(){return"tree"===this.file.type},folderUnstagedCount:function(){return this.getUnstagedFilesCountForPath(this.file.path)},folderStagedCount:function(){return this.getStagedFilesCountForPath(this.file.path)},changesCount:function(){return this.getChangesInFolder(this.file.path)},folderChangesTooltip:function(){if(0!==this.changesCount)return Object(j.c)("%d changed file","%d changed files",this.changesCount)},showTreeChangesCount:function(){return this.isTree&&this.changesCount>0&&!this.file.opened},isModified:function(){return this.file.changed||this.file.tempFile||this.file.staged||this.file.prevPath},showChangedFileIcon:function(){return!this.isTree&&this.isModified}})},ne=Object(M.a)(te,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"float-right ide-file-icon-holder"},[e.file.mrChange?n("mr-file-icon"):e._e(),e._v(" "),e.showTreeChangesCount?n("span",{staticClass:"ide-tree-changes"},[e._v("\n    "+e._s(e.changesCount)+"\n    "),n("icon",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"prepend-left-5 ide-file-modified",attrs:{title:e.folderChangesTooltip,size:12,"data-container":"body","data-placement":"right",name:"file-modified"}})],1):e.showChangedFileIcon?n("changed-file-icon",{attrs:{file:e.file,"show-tooltip":!0,"show-staged-icon":!1}}):e._e(),e._v(" "),n("new-dropdown",e._g({staticClass:"prepend-left-8",attrs:{type:e.file.type,path:e.file.path,"is-open":e.dropdownOpen}},e.$listeners))],1)}),[],!1,null,null,null).exports,re={name:"IdeFileRow",components:{FileRow:q.a,FileRowExtra:ne},props:{file:{type:Object,required:!0}},data:function(){return{dropdownOpen:!1}},methods:{toggleDropdown:function(e){this.dropdownOpen=e}}},ie=Object(M.a)(re,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("file-row",e._g(e._b({attrs:{file:e.file},on:{mouseleave:function(t){return e.toggleDropdown(!1)}}},"file-row",e.$attrs,!1),e.$listeners),[n("file-row-extra",{attrs:{file:e.file,"dropdown-open":e.dropdownOpen},on:{toggle:function(t){return e.toggleDropdown(t)}}})],1)}),[],!1,null,null,null).exports,ae=(n(374),n(46),{props:{stopPropagation:{type:Boolean,required:!1,default:!1}},data:function(){return{currentIndex:0,tabs:[]}},mounted:function(){this.updateTabs()},methods:{updateTabs:function(){this.tabs=this.$children.filter((function(e){return e.isTab})),this.currentIndex=this.tabs.findIndex((function(e){return e.localActive}))},setTab:function(e,t){this.stopPropagation&&(e.stopPropagation(),e.preventDefault()),this.tabs[this.currentIndex].localActive=!1,this.tabs[t].localActive=!0,this.currentIndex=t}},render:function(e){var t=this,n=this.tabs.map((function(n,r){return e("li",{key:r},[e("a",{class:n.localActive?"active":null,attrs:{href:"#"},on:{click:function(e){return t.setTab(e,r)}}},n.$slots.title||n.title)])})),r=e("ul",{class:"nav-links tab-links"},[n]),i=e("div",{class:["tab-content"]},[this.$slots.default]);return e("div",{},[[r],i])}}),oe={props:{title:{type:String,required:!1,default:""},active:{type:Boolean,required:!1,default:!1}},data:function(){return{localActive:this.active}},watch:{active:function(){this.localActive=this.active}},created:function(){this.isTab=!0},updated:function(){this.$parent&&this.$parent.$forceUpdate()}},se=Object(M.a)(oe,(function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"tab-pane",class:{active:this.localActive},attrs:{role:"tabpanel"}},[this._t("default")],2)}),[],!1,null,null,null).exports,ce=(n(246),n(198)),le=(n(49),n(56),n(90),n(184),n(748)),ue=n(33);function de(e){return(de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fe(e,t){return!t||"object"!==de(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function he(e,t,n){return(he="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=me(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function me(e){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ge(e,t){return(ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var be=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),fe(this,me(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ge(e,t)}(t,e),n=t,(r=[{key:"push",value:function(e,n,r){he(me(t.prototype),"push",this).call(this,Object(ue.b)(e),n,r)}},{key:"resolve",value:function(e,n,r){return he(me(t.prototype),"resolve",this).call(this,Object(ue.b)(e),n,r)}}])&&pe(n.prototype,r),i&&pe(n,i),t}(le.a),ve=n(443),ye=(n(69),n(258),n(64),n(498),{image:{id:"image",binary:!0},markdown:{id:"markdown",previewTitle:Object(j.a)("Preview Markdown")}}),we={},Oe={jpg:"image",jpeg:"image",gif:"image",png:"image",bmp:"image",ico:"image",md:"markdown",markdown:"markdown"};function _e(e){if(!e)return null;var t=e.split("/").pop(),n=we[t]||Oe[t?t.split(".").pop():""]||"";return ye[n]}n(42),n(129),n(145),n(68),n(91);function je(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ce=function(e){var t=e.id,n=e.projectId,r=e.branchId,i=e.type,a=e.url,o=e.name,s=e.path,c=e.renderError,l=e.content,u=void 0===l?"":l,d=e.tempFile,p=void 0!==d&&d,f=e.active,h=void 0!==f&&f,m=e.opened,g=void 0!==m&&m,b=e.changed,v=void 0!==b&&b,y=e.parentTreeUrl,w=void 0===y?"":y,O=e.base64,_=void 0!==O&&O,j=e.binary,E=void 0!==j&&j,P=e.rawPath,C=void 0===P?"":P,S=e.previewMode,k=e.file_lock,x=e.html,I=e.parentPath,D=void 0===I?"":I;return Object.assign({id:"",key:"",type:"",projectId:"",branchId:"",name:"",url:"",path:"",tempFile:!1,tree:[],loading:!1,opened:!1,active:!1,changed:!1,staged:!1,replaces:!1,lastCommitPath:"",lastCommitSha:"",lastCommit:{id:"",url:"",message:"",updatedAt:"",author:""},blamePath:"",commitsPath:"",permalink:"",rawPath:"",binary:!1,html:"",raw:"",content:"",parentTreeUrl:"",renderError:!1,base64:!1,editorRow:1,editorColumn:1,fileLanguage:"",eol:"",viewMode:T.a,previewMode:null,size:0,parentPath:null,lastOpenedAt:0,mrChange:null,deleted:!1,prevPath:void 0},{id:t,projectId:n,branchId:r,key:"".concat(o,"-").concat(i,"-").concat(t),type:i,name:o,url:a,path:s,tempFile:p,opened:g,active:h,parentTreeUrl:w,changed:v,renderError:c,content:u,base64:_,binary:E,rawPath:C,previewMode:S,file_lock:k,html:x,parentPath:D})},Se=function(e,t){!function(e){document.title=e}([t.path,e.currentBranchId,e.currentProjectId,"GitLab"].join("  "))},ke=function(e){return e.reduce((function(e,t){return"tree"===t.type?e:e.concat(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(n),!0).forEach((function(t){Pe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t))}),[])},Te=function(e,t){return"tree"===e.type&&"blob"===t.type?-1:"blob"===e.type&&"tree"===t.type?1:e.name<t.name?-1:e.name>t.name?1:0},xe=function e(t){return t.map((function(t){return Object.assign(t,{tree:t.tree.length?e(t.tree):[]})})).sort(Te)},Ie=function(e,t){return 0===e.indexOf("".concat(t,"/"))},De=function(e,t){return e.filter((function(e){return Ie(e.path,t)})).length},Re=function(e,t){return t?e.entries[t]:e.trees["".concat(e.currentProjectId,"/").concat(e.currentBranchId)]},Me=function(e,t,n,r){if(n){var i=Re(e,r);if(i){var a=i.tree.filter((function(e){var r=e.key,i=e.path;return r!==t&&i!==n})).concat(e.entries[n]);i.tree=xe(a)}}},Fe=function(e,t,n){["openFiles","changedFiles","stagedFiles"].forEach((function(r){!function(e,t,n,r){Object.assign(e,Pe({},t,e[t].map((function(t){return t.key===n?e.entries[r]:t}))))}(e,r,t,n)}))},Le=function(e){return e.replace(/\/$/,"")},Ae=function(e){return"\n"!==e.charAt(e.length-1)?"".concat(e,"\n"):e};function qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ne=function(e){var t=e.lastIndexOf("/");return{parent:t>=0?e.substring(0,t):null,name:t>=0?e.substring(t+1):e}},Be=function(e){var t,n,r=e.data,i=e.projectId,a=e.branchId,o=e.tempFile,s=void 0!==o&&o,c=e.content,l=void 0===c?"":c,u=e.base64,d=void 0!==u&&u,p=e.binary,f=void 0!==p&&p,h=e.rawPath,m=void 0===h?"":h,g=[],b={};return r.forEach((function(e){var r=Ne(e),o=r.parent,c=r.name,u=o&&function e(t){if(!t)return null;if(b[t])return b[t];var r=Ne(t),o=r.parent,c=r.name,l=o&&e(o);n=l&&l.path;var u=Ce({projectId:i,branchId:a,id:t,name:c,path:t,url:"/".concat(i,"/tree/").concat(a,"/-/").concat(t,"/"),type:"tree",parentTreeUrl:l?l.url:"/".concat(i,"/tree/").concat(a,"/"),tempFile:s,changed:s,opened:s,parentPath:n});return Object.assign(b,qe({},t,u)),l?l.tree.push(u):g.push(u),u}(o);if(c){var p=_e(c);n=u&&u.path,t=Ce({projectId:i,branchId:a,id:e,name:c,path:e,url:"/".concat(i,"/blob/").concat(a,"/-/").concat(e),type:"blob",parentTreeUrl:u?u.url:"/".concat(i,"/blob/").concat(a),tempFile:s,changed:s,content:l,base64:d,binary:p&&p.binary||f,rawPath:m,previewMode:p,parentPath:n}),Object.assign(b,qe({},e,t)),u?u.tree.push(t):g.push(t)}})),{entries:b,treeList:xe(g),file:t,parentPath:n}},$e=n(11),Ve=n(32),ze=n(1608),Ge=n.n(ze),Ue=n(436),He=Object(Ue.a)({},{fetchPolicy:Ue.b.NO_CACHE});function We(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?We(Object(n),!0).forEach((function(t){Ke(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):We(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ye(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Qe=function(e){return Ve.a.project(e).then((function(e){return e.data}))},Xe=function(e){return He.query({query:Ge.a,variables:{projectPath:e}}).then((function(e){return e.data.project}))},Ze={getFileData:function(e){return $e.a.get(e,{params:{format:"json",viewer:"none"}})},getRawFileData:function(e){return e.tempFile&&!e.prevPath?Promise.resolve(e.content):e.raw?Promise.resolve(e.raw):$e.a.get(e.rawPath,{transformResponse:[function(e){return e}]}).then((function(e){return e.data}))},getBaseRawFileData:function(e,t){if(e.tempFile||e.baseRaw)return Promise.resolve(e.baseRaw);var n=e.mrChange&&e.mrChange.renamed_file?e.mrChange.old_path:e.path;return $e.a.get(Object(ue.g)(gon.relative_url_root||"/",e.projectId,"-","raw",t,Object(ue.b)(n)),{transformResponse:[function(e){return e}]}).then((function(e){return e.data}))},getProjectData:function(e,t){var n="".concat(e,"/").concat(t);return Promise.all([Qe(n),Xe(n)]).then((function(e){var t=Ye(e,2);return{data:Je({},t[0],{},t[1])}}))},getProjectMergeRequests:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ve.a.projectMergeRequests(e,t)},getProjectMergeRequestData:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Ve.a.projectMergeRequest(e,t,n)},getProjectMergeRequestChanges:function(e,t){return Ve.a.projectMergeRequestChanges(e,t)},getProjectMergeRequestVersions:function(e,t){return Ve.a.projectMergeRequestVersions(e,t)},getBranchData:function(e,t){return Ve.a.branchSingle(e,t)},commit:function(e,t){return Ve.a.commitMultiple(e,t)},getFiles:function(e,t){var n="".concat(e,"/-/files/").concat(t);return $e.a.get(n,{params:{format:"json"}})},lastCommitPipelines:function(e){var t=e.getters,n=t.lastCommit.id;return Ve.a.commitPipelines(t.currentProject.path_with_namespace,n)}},et=new g.default,tt=function(e,t){(0,e.commit)("TOGGLE_TREE_OPEN",t)},nt=function(e,t){var n=e.commit,r=e.dispatch,i=e.state.entries[t],a=i?i.parentPath:"";a&&(n("SET_TREE_OPEN",a),r("showTreeEntry",a))},rt=function(e,t){var n=e.commit,r=e.dispatch;"tree"===t.type?r("toggleTreeOpen",t.path):"blob"===t.type&&(t.opened||n("TOGGLE_FILE_OPEN",t.path),r("setFileActive",t.path)),r("showTreeEntry",t.path)},it=function(e,t){var n=e.state,r=e.commit,i=t.projectId,a=t.branchId,o=t.treeList,s=n.trees["".concat(i,"/").concat(a)];r("SET_DIRECTORY_DATA",{treePath:"".concat(i,"/").concat(a),data:o}),r("TOGGLE_LOADING",{entry:s,forceValue:!1})},at=function(e){var t=e.state,n=e.commit,r=e.dispatch,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(e,a){var o=i.projectId,s=i.branchId,c=i.ref,l=void 0===c?s:c;if(!t.trees["".concat(o,"/").concat(s)]||t.trees["".concat(o,"/").concat(s)].tree&&0===t.trees["".concat(o,"/").concat(s)].tree.length){var u=t.projects[o];n("CREATE_TREE",{treePath:"".concat(o,"/").concat(s)}),Ze.getFiles(u.web_url,l).then((function(t){var i=t.data,a=Be({data:i,projectId:o,branchId:s}),c=a.entries,l=a.treeList;n("SET_ENTRIES",c),y.a.defer((function(){return r("setDirectoryData",{projectId:o,branchId:s,treeList:l})})),e()})).catch((function(e){r("setErrorMessage",{text:Object(j.a)("An error occurred while loading all the files."),action:function(e){return r("getFiles",e).then((function(){return r("setErrorMessage",null)}))},actionText:Object(j.a)("Please try again"),actionPayload:{projectId:o,branchId:s}}),a(e)}))}else e()}))},ot=function(e,t){var n=e.dispatch,r=e.commit,i=e.state.entries[t];r("RESTORE_TREE",t),i.parentPath&&n("restoreTree",i.parentPath)},st=function(e,t){var n=e.commit,r=e.state,i=e.dispatch,a=t.path,o=r.openFiles.findIndex((function(e){return e.key===t.key})),s=t.active;if(t.pending?n("REMOVE_PENDING_TAB",t):(n("TOGGLE_FILE_OPEN",a),n("SET_FILE_ACTIVE",{path:a,active:!1})),r.openFiles.length>0&&s){var c=0===o?0:o-1,l=r.openFiles[c];l.pending?(i("updateViewer",T.r.diff),i("openPendingTab",{file:l,keyPrefix:l.staged?"staged":"unstaged"})):Ma.push("/project".concat(l.url))}else r.openFiles.length||Ma.push("/project/".concat(t.projectId,"/tree/").concat(t.branchId,"/"));et.$emit("editor.update.model.dispose.".concat(t.key))},ct=function(e,t){var n=e.commit,r=e.state,i=e.getters,a=e.dispatch,o=r.entries[t],s=i.activeFile;o.active||(s&&n("SET_FILE_ACTIVE",{path:s.path,active:!1}),n("SET_FILE_ACTIVE",{path:t,active:!0}),a("scrollToTab"))},lt=function(e,t){var n=e.state,r=e.commit,i=e.dispatch,a=e.getters,o=t.path,s=t.makeFileActive,c=void 0===s||s,l=t.openFile,u=void 0===l?c:l,d=n.entries[o],p=a.isFileDeletedAndReadded(o);if(d.raw||d.tempFile&&!d.prevPath&&!p)return Promise.resolve();r("TOGGLE_LOADING",{entry:d});var f=Object(ue.g)(gon.relative_url_root||"/",n.currentProjectId,"-",d.type,a.lastCommit&&a.lastCommit.id,Object(ue.b)(d.prevPath||d.path));return Ze.getFileData(f).then((function(e){var t=e.data;Se(n,d),t&&r("SET_FILE_DATA",{data:t,file:d}),u&&r("TOGGLE_FILE_OPEN",o),c&&i("setFileActive",o),r("TOGGLE_LOADING",{entry:d})})).catch((function(){r("TOGGLE_LOADING",{entry:d}),i("setErrorMessage",{text:Object(j.a)("An error occurred while loading the file."),action:function(e){return i("getFileData",e).then((function(){return i("setErrorMessage",null)}))},actionText:Object(j.a)("Please try again"),actionPayload:{path:o,makeFileActive:c}})}))},ut=function(e,t){(0,e.commit)("SET_FILE_MERGE_REQUEST_CHANGE",{file:t.file,mrChange:t.mrChange})},dt=function(e,t){var n=e.state,r=e.commit,i=e.dispatch,a=e.getters,o=t.path,s=n.entries[o],c=n.stagedFiles.find((function(e){return e.path===o}));return new Promise((function(e,t){var n=a.isFileDeletedAndReadded(o);Ze.getRawFileData(n?c:s).then((function(i){if((!s.tempFile||s.prevPath||n)&&r("SET_FILE_RAW_DATA",{file:s,raw:i,fileDeletedAndReadded:n}),s.mrChange&&!1===s.mrChange.new_file){var o=a.currentMergeRequest&&a.currentMergeRequest.baseCommitSha||"";Ze.getBaseRawFileData(s,o).then((function(t){r("SET_FILE_BASE_RAW_DATA",{file:s,baseRaw:t}),e(i)})).catch((function(e){t(e)}))}else e(i)})).catch((function(){i("setErrorMessage",{text:Object(j.a)("An error occurred while loading the file content."),action:function(e){return i("getRawFileData",e).then((function(){return i("setErrorMessage",null)}))},actionText:Object(j.a)("Please try again"),actionPayload:{path:o}}),t()}))}))},pt=function(e,t){var n=e.commit,r=e.state,i=e.getters,a=t.path,o=t.content,s=r.entries[a];n("UPDATE_FILE_CONTENT",{path:a,content:Ae(o)});var c=r.changedFiles.findIndex((function(e){return e.path===a}));s.changed&&-1===c?n("STAGE_CHANGE",{path:a,diffInfo:i.getDiffInfo(a)}):s.changed||s.tempFile||-1===c||n("REMOVE_FILE_FROM_CHANGED",a)},ft=function(e,t){var n=e.getters,r=e.commit,i=t.fileLanguage;n.activeFile&&r("SET_FILE_LANGUAGE",{file:n.activeFile,fileLanguage:i})},ht=function(e,t){var n=e.getters,r=e.commit,i=t.eol;n.activeFile&&r("SET_FILE_EOL",{file:n.activeFile,eol:i})},mt=function(e,t){var n=e.getters,r=e.commit,i=t.editorRow,a=t.editorColumn;n.activeFile&&r("SET_FILE_POSITION",{file:n.activeFile,editorRow:i,editorColumn:a})},gt=function(e,t){(0,e.commit)("SET_FILE_VIEWMODE",{file:t.file,viewMode:t.viewMode})},bt=function(e,t){var n=e.dispatch,r=e.state,i=e.commit,a=r.entries[t],o=a.tempFile||a.prevPath;a.deleted&&a.parentPath&&n("restoreTree",a.parentPath),o&&n("closeFile",a),a.tempFile?n("deleteEntry",a.path):i("DISCARD_FILE_CHANGES",a.path),a.prevPath&&n("renameEntry",{path:a.path,name:a.prevName,parentPath:a.prevParentPath})},vt=function(e,t){var n,r=e.dispatch,i=e.state,a=e.commit,o=e.getters,s=i.entries[t],c=s.tempFile||s.prevPath;r("restoreOriginalFile",t),c||s.path!==(null===(n=o.activeFile)||void 0===n?void 0:n.path)||r("updateDelayViewerUpdated",!0).then((function(){Ma.push("/project".concat(s.url))})).catch((function(e){throw e})),a("REMOVE_FILE_FROM_CHANGED",t),et.$emit("editor.update.model.new.content.".concat(s.key),s.content),et.$emit("editor.update.model.dispose.unstaged-".concat(s.key),s.content)},yt=function(e,t){var n=e.commit,r=e.dispatch,i=e.getters,a=i.getStagedFile(t),o=i.getOpenFile(t);n("STAGE_CHANGE",{path:t,diffInfo:i.getDiffInfo(t)}),n("SET_LAST_COMMIT_MSG",""),a&&et.$emit("editor.update.model.new.content.staged-".concat(a.key),a.content);var s=i.getStagedFile(t);o&&o.active&&s&&r("openPendingTab",{file:s,keyPrefix:T.q.staged})},wt=function(e,t){var n=e.commit,r=e.dispatch,i=e.getters,a=i.getOpenFile(t);n("UNSTAGE_CHANGE",{path:t,diffInfo:i.getDiffInfo(t)});var o=i.getChangedFile(t);a&&a.active&&o&&r("openPendingTab",{file:o,keyPrefix:T.q.unstaged})},Ot=function(e,t){var n=e.commit,r=e.getters,i=e.state,a=t.file,o=t.keyPrefix;return(!r.activeFile||r.activeFile.key!=="".concat(o,"-").concat(a.key))&&(i.openFiles.forEach((function(e){return et.$emit("editor.update.model.dispose.".concat(e.key))})),n("ADD_PENDING_TAB",{file:a,keyPrefix:o}),Ma.push("/project/".concat(a.projectId,"/tree/").concat(i.currentBranchId,"/")),!0)},_t=function(e,t){(0,e.commit)("REMOVE_PENDING_TAB",t),et.$emit("editor.update.model.dispose.".concat(t.key))},jt=function(){et.$emit("ide.files.change")},Et=function(e){var t=e.commit,n=e.state,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.namespace,a=r.projectId,o=r.force,s=void 0!==o&&o;return new Promise((function(e,r){!n.projects["".concat(i,"/").concat(a)]||s?(t("TOGGLE_LOADING",{entry:n}),Ze.getProjectData(i,a).then((function(e){return e.data})).then((function(r){t("TOGGLE_LOADING",{entry:n}),t("SET_PROJECT",{projectPath:"".concat(i,"/").concat(a),project:r}),t("SET_CURRENT_PROJECT","".concat(i,"/").concat(a)),e(r)})).catch((function(){Object(S.a)(Object(j.a)("Error loading project data. Please try again."),"alert",document,null,!1,!0),r(new Error("Project not loaded ".concat(i,"/").concat(a)))}))):e(n.projects["".concat(i,"/").concat(a)])}))},Pt=function(e){var t=e.commit,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.projectId,i=n.branchId;return Ze.getBranchData(r,i).then((function(e){var n=e.data;t("SET_BRANCH_COMMIT",{projectId:r,branchId:i,commit:n.commit})})).catch((function(){Object(S.a)(Object(j.a)("Error loading last commit."),"alert",document,null,!1,!0)}))},Ct=function(e,t){var n=e.state,r=e.dispatch,i=e.getters;return Ve.a.createBranch(n.currentProjectId,{ref:i.currentProject.default_branch,branch:t}).then((function(){r("setErrorMessage",null),Ma.push("".concat(Ma.currentRoute.path,"?").concat(Date.now()))})).catch((function(){r("setErrorMessage",{text:Object(j.a)("An error occurred creating the new branch."),action:function(e){return r("createNewBranchFromDefault",e)},actionText:Object(j.a)("Please try again"),actionPayload:t})}))},St=function(e,t){var n=e.dispatch;n("setErrorMessage",{text:Object(j.e)(Object(j.a)("Branch %{branchName} was not found in this project's repository."),{branchName:"<strong>".concat(y.a.escape(t),"</strong>")},!1),action:function(e){return n("createNewBranchFromDefault",e)},actionText:Object(j.a)("Create branch"),actionPayload:t})},kt=function(e,t){var n=e.commit,r=e.state,i=e.dispatch,a=t.projectId,o=t.branchId,s="".concat(a,"/").concat(o);i("setCurrentBranchId",o),n("CREATE_TREE",{treePath:s}),n("TOGGLE_LOADING",{entry:r.trees[s],forceValue:!1})},Tt=function(e,t){var n=e.dispatch,r=e.state,i=t.basePath;if(i){var a="/"===i.slice(-1)?i.slice(0,-1):i,o=Object.keys(r.entries).find((function(e){return e===a&&!r.entries[e].pending})),s=r.entries[o];s?n("handleTreeEntryAction",s):n("createTempEntry",{name:a,type:"blob"})}},xt=function(e,t){var n=e.dispatch,r=e.getters,i=t.projectId,a=t.branchId;return n("getBranchData",{projectId:i,branchId:a}).then((function(){n("getMergeRequestsForBranch",{projectId:i,branchId:a});var e=r.findBranch(i,a);return n("getFiles",{projectId:i,branchId:a,ref:e.commit.id})})).catch((function(e){throw n("showBranchNotFoundError",a),e}))},It=function(e,t){var n=e.dispatch,r=e.state,i=e.getters,a=t.projectId,o=t.branchId,s=t.basePath,c=r.projects[a];return i.emptyRepo?n("showEmptyState",{projectId:a,branchId:o}):c&&c.branches[o]?Promise.resolve(n("loadFile",{basePath:s})):(n("setCurrentBranchId",o),n("loadBranch",{projectId:a,branchId:o}).then((function(){return n("loadFile",{basePath:s})})).catch((function(){return new Error(Object(j.e)(Object(j.a)("An error occurred while getting files for - %{branchId}"),{branchId:"<strong>".concat(y.a.escape(a),"/").concat(y.a.escape(o),"</strong>")},!1))})))},Dt=function(e){var t=e.commit,n=e.state,r=e.getters,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=i.projectId,o=i.branchId;return r.findProjectPermissions(a)[T.g]?Ze.getProjectMergeRequests("".concat(a),{source_branch:o,source_project_id:n.projects[a].id,order_by:"created_at",per_page:1}).then((function(e){var n=e.data;if(n.length>0){var r=n[0];t("SET_MERGE_REQUEST",{projectPath:a,mergeRequestId:r.iid,mergeRequest:r}),t("SET_CURRENT_MERGE_REQUEST","".concat(r.iid))}})).catch((function(e){throw Object(S.a)(Object(j.a)("Error fetching merge requests for ".concat(o)),"alert",document,null,!1,!0),e})):Promise.resolve()},Rt=function(e){var t=e.commit,n=e.dispatch,r=e.state,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=i.projectId,o=i.mergeRequestId,s=i.targetProjectId,c=void 0===s?null:s,l=i.force,u=void 0!==l&&l;return new Promise((function(e,i){!r.projects[a].mergeRequests[o]||u?Ze.getProjectMergeRequestData(c||a,o).then((function(n){var r=n.data;t("SET_MERGE_REQUEST",{projectPath:a,mergeRequestId:o,mergeRequest:r}),t("SET_CURRENT_MERGE_REQUEST",o),e(r)})).catch((function(){n("setErrorMessage",{text:Object(j.a)("An error occurred while loading the merge request."),action:function(e){return n("getMergeRequestData",e).then((function(){return n("setErrorMessage",null)}))},actionText:Object(j.a)("Please try again"),actionPayload:{projectId:a,mergeRequestId:o,force:u}}),i(new Error("Merge Request not loaded ".concat(a)))})):e(r.projects[a].mergeRequests[o])}))},Mt=function(e){var t=e.commit,n=e.dispatch,r=e.state,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=i.projectId,o=i.mergeRequestId,s=i.targetProjectId,c=void 0===s?null:s,l=i.force,u=void 0!==l&&l;return new Promise((function(e,i){!r.projects[a].mergeRequests[o].changes.length||u?Ze.getProjectMergeRequestChanges(c||a,o).then((function(n){var r=n.data;t("SET_MERGE_REQUEST_CHANGES",{projectPath:a,mergeRequestId:o,changes:r}),e(r)})).catch((function(){n("setErrorMessage",{text:Object(j.a)("An error occurred while loading the merge request changes."),action:function(e){return n("getMergeRequestChanges",e).then((function(){return n("setErrorMessage",null)}))},actionText:Object(j.a)("Please try again"),actionPayload:{projectId:a,mergeRequestId:o,force:u}}),i(new Error("Merge Request Changes not loaded ".concat(a)))})):e(r.projects[a].mergeRequests[o].changes)}))},Ft=function(e){var t=e.commit,n=e.dispatch,r=e.state,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=i.projectId,o=i.mergeRequestId,s=i.targetProjectId,c=void 0===s?null:s,l=i.force,u=void 0!==l&&l;return new Promise((function(e,i){!r.projects[a].mergeRequests[o].versions.length||u?Ze.getProjectMergeRequestVersions(c||a,o).then((function(e){return e.data})).then((function(n){t("SET_MERGE_REQUEST_VERSIONS",{projectPath:a,mergeRequestId:o,versions:n}),e(n)})).catch((function(){n("setErrorMessage",{text:Object(j.a)("An error occurred while loading the merge request version data."),action:function(e){return n("getMergeRequestVersions",e).then((function(){return n("setErrorMessage",null)}))},actionText:Object(j.a)("Please try again"),actionPayload:{projectId:a,mergeRequestId:o,force:u}}),i(new Error("Merge Request Versions not loaded ".concat(a)))})):e(r.projects[a].mergeRequests[o].versions)}))},Lt=function(e){var t=e.dispatch,n=e.state,r=e.getters,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=i.projectId,o=i.targetProjectId,s=i.mergeRequestId;return t("getMergeRequestData",{projectId:a,targetProjectId:o,mergeRequestId:s}).then((function(e){return t("setCurrentBranchId",e.source_branch),t("getBranchData",{projectId:a,branchId:e.source_branch}).then((function(){var n=r.findBranch(a,e.source_branch);return t("getFiles",{projectId:a,branchId:e.source_branch,ref:n.commit.id})}))})).then((function(){return t("getMergeRequestVersions",{projectId:a,targetProjectId:o,mergeRequestId:s})})).then((function(){return t("getMergeRequestChanges",{projectId:a,targetProjectId:o,mergeRequestId:s})})).then((function(e){e.changes.length&&t("updateActivityBarView",T.m.review.name),e.changes.forEach((function(e,r){var i=n.entries[e.new_path];i&&(t("setFileMrChange",{file:i,mrChange:e}),r<10&&t("getFileData",{path:e.new_path,makeFileActive:0===r,openFile:!0}))}))})).catch((function(e){throw Object(S.a)(Object(j.a)("Error while loading the merge request. Please try again.")),e}))},At=function(e,t){return Object(ue.s)(t)},qt=function(e,t){return(0,e.commit)("SET_INITIAL_DATA",t)},Nt=function(e){var t=e.state,n=e.commit,r=e.dispatch;t.changedFiles.forEach((function(e){return r("restoreOriginalFile",e.path)})),n("REMOVE_ALL_CHANGES_FILES")},Bt=function(e){var t=e.state,n=e.dispatch;t.openFiles.forEach((function(e){return n("closeFile",e)}))},$t=function(e,t){var n=e.commit,r=t.side,i=t.collapsed;n("left"===r?"SET_LEFT_PANEL_COLLAPSED":"SET_RIGHT_PANEL_COLLAPSED",i)},Vt=function(e,t){(0,e.commit)("SET_RESIZING_STATUS",t)},zt=function(e,t){var n=e.state,r=e.commit,i=e.dispatch,a=e.getters,o=t.name,s=t.type,c=t.content,l=void 0===c?"":c,u=t.base64,d=void 0!==u&&u,p=t.binary,f=void 0!==p&&p,h=t.rawPath,m=void 0===h?"":h,g="/"!==o.slice(-1)&&"tree"===s?"".concat(o,"/"):o;if(!n.entries[o]||n.entries[o].deleted){var b=Be({data:[g],projectId:n.currentProjectId,branchId:n.currentBranchId,type:s,tempFile:!0,content:l,base64:d,binary:f,rawPath:m}),v=b.file,y=b.parentPath;r("CREATE_TMP_ENTRY",{data:b,projectId:n.currentProjectId,branchId:n.currentBranchId}),"blob"===s&&(r("TOGGLE_FILE_OPEN",v.path),r("STAGE_CHANGE",{path:v.path,diffInfo:a.getDiffInfo(v.path)}),i("setFileActive",v.path),i("triggerFilesChange")),y&&!n.entries[y].opened&&r("TOGGLE_TREE_OPEN",y)}else Object(S.a)(Object(j.e)(Object(j.a)('The name "%{name}" is already taken in this directory.'),{name:o.split("/").pop()}),"alert",document,null,!1,!0)},Gt=function(){g.default.nextTick((function(){var e=document.getElementById("tabs");e&&e.querySelector(".active .repo-tab").focus()}))},Ut=function(e){var t=e.state,n=e.commit,r=e.dispatch,i=e.getters,a=t.openFiles[0];n("SET_LAST_COMMIT_MSG",""),t.changedFiles.forEach((function(e){return n("STAGE_CHANGE",{path:e.path,diffInfo:i.getDiffInfo(e.path)})}));var o=i.getStagedFile(a.path);o&&r("openPendingTab",{file:o,keyPrefix:T.q.staged})},Ht=function(e){var t=e.state,n=e.commit,r=e.dispatch,i=e.getters,a=t.openFiles[0];t.stagedFiles.forEach((function(e){return n("UNSTAGE_CHANGE",{path:e.path,diffInfo:i.getDiffInfo(e.path)})}));var o=i.getChangedFile(a.path);o&&r("openPendingTab",{file:o,keyPrefix:T.q.unstaged})},Wt=function(e,t){(0,e.commit)("UPDATE_VIEWER",t)},Jt=function(e,t){(0,e.commit)("UPDATE_DELAY_VIEWER_CHANGE",t)},Kt=function(e,t){(0,e.commit)("UPDATE_ACTIVITY_BAR_VIEW",t)},Yt=function(e,t){(0,e.commit)("SET_EMPTY_STATE_SVGS",t)},Qt=function(e,t){(0,e.commit)("SET_CURRENT_BRANCH",t)},Xt=function(e,t){var n=e.commit,r=e.dispatch,i=e.state,a=t.file,o=t.tempFile;n("UPDATE_TEMP_FLAG",{path:a.path,tempFile:o});var s=a.parentPath&&i.entries[a.parentPath];s&&r("updateTempFlagForEntry",{file:s,tempFile:o})},Zt=function(e,t){return(0,e.commit)("TOGGLE_FILE_FINDER",t)},en=function(e,t){return(0,e.commit)("SET_LINKS",t)},tn=function(e,t){return(0,e.commit)("SET_ERROR_MESSAGE",t)},nn=function(e,t){var n=e.commit,r=t.type,i=t.path;n("OPEN_NEW_ENTRY_MODAL",{type:r,path:void 0===i?"":i}),C()("#ide-new-entry").modal("show")},rn=function(e,t){var n=e.commit,r=e.dispatch,i=e.state,a=i.entries[t],o=a.prevPath,s=a.prevName,c=a.prevParentPath,l="tree"===a.type,u=o&&i.entries[o];if(o&&(!u||u.deleted))return r("renameEntry",{path:t,name:s,parentPath:c}),void r("deleteEntry",o);a.opened&&r("closeFile",a),l&&a.tree.forEach((function(e){return r("deleteEntry",e.path)})),n("DELETE_ENTRY",t),l||a.tempFile||r("stageChange",t),r("triggerFilesChange")},an=function(e){return(0,e.commit)("RESET_OPEN_FILES")},on=function(e,t){var n=e.dispatch,r=e.commit,i=e.state,a=e.getters,o=t.path,s=t.name,c=t.parentPath,l=i.entries[o],u=c?"".concat(c,"/").concat(s):s,d=c&&i.entries[c];if(!c||d&&!d.deleted||n("createTempEntry",{name:c,type:"tree"}),r("RENAME_ENTRY",{path:o,name:s,parentPath:c}),"tree"===l.type)i.entries[u].tree.forEach((function(e){n("renameEntry",{path:e.path,name:e.name,parentPath:u})}));else{var p=i.entries[u],f=u===l.prevPath&&!p.changed&&!p.tempFile,h=i.changedFiles.concat(i.stagedFiles).some((function(e){return e.key===p.key}));f?r("REMOVE_FILE_FROM_STAGED_AND_CHANGED",p):h||r("STAGE_CHANGE",{path:u,diffInfo:a.getDiffInfo(u)}),p.tempFile||et.$emit("editor.update.model.dispose.".concat(l.key)),p.opened&&Ma.push("/project".concat(p.url))}n("triggerFilesChange")},sn=function(e){var t=e.commit,n=e.state,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.projectId,a=r.branchId,o=r.force,s=void 0!==o&&o;return new Promise((function(e,r){var o=n.projects[i];o&&o.branches[a]&&!s?e(o.branches[a]):Ze.getBranchData(i,a).then((function(n){var r=n.data,o=r.commit.id;t("SET_BRANCH",{projectPath:i,branchName:a,branch:r}),t("SET_BRANCH_WORKING_REFERENCE",{projectId:i,branchId:a,reference:o}),e(r)})).catch((function(e){404===e.response.status?r(e):(Object(S.a)(Object(j.a)("Error loading branch data. Please try again."),"alert",document,null,!1,!0),r(new Error(Object(j.e)(Object(j.a)("Branch not loaded - %{branchId}"),{branchId:"<strong>".concat(y.a.escape(i),"/").concat(y.a.escape(a),"</strong>")},!1))))}))}))},cn=function(){};function ln(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function un(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?un(Object(n),!0).forEach((function(t){pn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):un(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fn,hn=function(e){return e.openFiles.find((function(e){return e.active}))||null},mn=function(e){return e.changedFiles.filter((function(e){return e.tempFile}))},gn=function(e){return e.changedFiles.filter((function(e){return!e.tempFile}))},bn=function(e){return Object.keys(e.projects).map((function(t){var n=e.projects[t];return dn({},n,{branches:Object.keys(n.branches).map((function(t){var r=n.branches[t];return dn({},r,{tree:e.trees[r.treeId]})}))})}))},vn=function(e){return e.projects[e.currentProjectId]&&e.projects[e.currentProjectId].mergeRequests?e.projects[e.currentProjectId].mergeRequests[e.currentMergeRequestId]:null},yn=function(e){return function(t){return e.projects[t]}},wn=function(e,t){return t.findProject(e.currentProjectId)},On=function(e){return e.projects[e.currentProjectId]&&e.projects[e.currentProjectId].empty_repo},_n=function(e){return e.trees["".concat(e.currentProjectId,"/").concat(e.currentBranchId)]},jn=function(e){return Boolean(e.changedFiles.length)||Boolean(e.stagedFiles.length)},En=function(e){return Boolean(e.currentMergeRequestId)},Pn=function(e){return Object.keys(e.entries).reduce((function(t,n){var r=e.entries[n];return"blob"===r.type&&t.push(r),t}),[]).sort((function(e,t){return t.lastOpenedAt-e.lastOpenedAt}))},Cn=function(e){return function(t){return e.changedFiles.find((function(e){return e.path===t}))}},Sn=function(e){return function(t){return e.stagedFiles.find((function(e){return e.path===t}))}},kn=function(e){return function(t){return e.openFiles.find((function(e){return e.path===t}))}},Tn=function(e){return[].concat(ln(e.changedFiles),ln(e.stagedFiles)).sort((function(e,t){return t.lastOpenedAt-e.lastOpenedAt}))[0]},xn=function(e){return e.currentActivityView===T.m.edit.name},In=function(e){return e.currentActivityView===T.m.commit.name},Dn=function(e){return e.currentActivityView===T.m.review.name},Rn=function(e){return Boolean(e.changedFiles.length||e.stagedFiles.length)},Mn=function(e){return function(t){return e.changedFiles.filter((function(e){return Ie(e.path,t)})).length+e.stagedFiles.filter((function(n){return Ie(n.path,t)&&!Cn(e)(n.path)})).length}},Fn=function(e){return function(t){return De(e.changedFiles,t)}},Ln=function(e){return function(t){return De(e.stagedFiles,t)}},An=function(e,t){var n=t.currentProject&&t.currentBranch;return n?n.commit:null},qn=function(e,t){return function(e,n){var r=t.findProject(e);return r&&r.branches[n]}},Nn=function(e,t){return t.findBranch(e.currentProjectId,e.currentBranchId)},Bn=function(e,t){return t.currentBranch&&t.currentBranch.name},$n=function(e){return e.entries[T.o]},Vn=function(e,t){return t.currentProject&&t.currentProject.default_branch===t.branchName},zn=function(e,t){return t.currentBranch&&t.currentBranch.can_push},Gn=function(e,t){return function(n){var r=t.getStagedFile(n),i=e.entries[n];return Boolean(r&&r.deleted&&i.tempFile)}},Un=function(e,t){return function(n){var r=t.getStagedFile(n),i=e.entries[n],a=!!i.prevPath&&i.path!==i.prevPath,o=t.isFileDeletedAndReadded(n),s=!o&&i.deleted,c=!o&&i.tempFile,l=i.content!==(o?r.raw:i.raw);return{exists:l||a||s||c,changed:l,renamed:a,deleted:s,tempFile:c}}},Hn=function(e,t){return function(e){var n;return(null===(n=t.findProject(e))||void 0===n?void 0:n.userPermissions)||{}}},Wn=function(e,t){return Boolean(t.findProjectPermissions(e.currentProjectId)[T.g])},Jn=function(e,t){return Boolean(t.findProjectPermissions(e.currentProjectId)[T.f])},Kn=function(){};n(311);function Yn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Qn,Xn=(Yn(fn={},"SET_CURRENT_PROJECT",(function(e,t){Object.assign(e,{currentProjectId:t})})),Yn(fn,"SET_PROJECT",(function(e,t){var n=t.projectPath,r=t.project;Object.assign(r,{tree:[],branches:{},mergeRequests:{},active:!0}),Object.assign(e,{projects:Object.assign({},e.projects,Yn({},n,r))})})),Yn(fn,"TOGGLE_EMPTY_STATE",(function(e,t){var n=t.projectPath,r=t.value;Object.assign(e.projects[n],{empty_repo:r})})),fn);function Zn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function er(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zn(Object(n),!0).forEach((function(t){tr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nr,rr=(tr(Qn={},"SET_CURRENT_MERGE_REQUEST",(function(e,t){Object.assign(e,{currentMergeRequestId:t})})),tr(Qn,"SET_MERGE_REQUEST",(function(e,t){var n=t.projectPath,r=t.mergeRequestId,i=t.mergeRequest,a=e.projects[n].mergeRequests[r]||{};Object.assign(e.projects[n],{mergeRequests:tr({},r,er({},i,{active:!0,changes:[],versions:[],baseCommitSha:null},a))})})),tr(Qn,"SET_MERGE_REQUEST_CHANGES",(function(e,t){var n=t.projectPath,r=t.mergeRequestId,i=t.changes;Object.assign(e.projects[n].mergeRequests[r],{changes:i})})),tr(Qn,"SET_MERGE_REQUEST_VERSIONS",(function(e,t){var n=t.projectPath,r=t.mergeRequestId,i=t.versions;Object.assign(e.projects[n].mergeRequests[r],{versions:i,baseCommitSha:i.length?i[0].base_commit_sha:null})})),Qn),ir=n(16);function ar(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function or(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?or(Object(n),!0).forEach((function(t){cr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):or(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lr,ur=(cr(nr={},"SET_FILE_ACTIVE",(function(e,t){var n=t.path,r=t.active;Object.assign(e.entries[n],{active:r,lastOpenedAt:(new Date).getTime()}),r&&!e.entries[n].pending&&Object.assign(e,{openFiles:e.openFiles.map((function(e){return Object.assign(e,{active:!e.pending&&e.active})}))})})),cr(nr,"TOGGLE_FILE_OPEN",(function(e,t){if(Object.assign(e.entries[t],{opened:!e.entries[t].opened}),e.entries[t].opened)Object.assign(e,{openFiles:e.openFiles.filter((function(e){return e.path!==t})).concat(e.entries[t])});else{var n=e.entries[t];Object.assign(e,{openFiles:e.openFiles.filter((function(e){return e.key!==n.key}))})}})),cr(nr,"SET_FILE_DATA",(function(e,t){var n=t.data,r=t.file,i=e.entries[r.path],a=e.stagedFiles.find((function(e){return e.path===r.path})),o=e.openFiles.find((function(e){return e.path===r.path})),s=e.changedFiles.find((function(e){return e.path===r.path}));[i,a,o,s].forEach((function(e){e&&Object.assign(e,Object(ir.g)(n,{dropKeys:["path","name","raw","baseRaw"]}),{raw:i&&i.raw||null,baseRaw:null})}))})),cr(nr,"SET_FILE_RAW_DATA",(function(e,t){var n=t.file,r=t.raw,i=t.fileDeletedAndReadded,a=void 0!==i&&i,o=e.openFiles.find((function(e){return e.path===n.path&&e.pending&&!(e.tempFile&&!e.prevPath&&!a)})),s=e.stagedFiles.find((function(e){return e.path===n.path}));n.tempFile&&""===n.content&&!a?Object.assign(e.entries[n.path],{content:r}):a?Object.assign(s,{raw:r}):Object.assign(e.entries[n.path],{raw:r}),o&&(o.tempFile?o.tempFile&&!a?o.content=r:a&&Object.assign(s,{raw:r}):o.raw=r)})),cr(nr,"SET_FILE_BASE_RAW_DATA",(function(e,t){var n=t.file,r=t.baseRaw;Object.assign(e.entries[n.path],{baseRaw:r})})),cr(nr,"UPDATE_FILE_CONTENT",(function(e,t){var n=t.path,r=t.content,i=e.stagedFiles.find((function(e){return e.path===n})),a=r!==(i?i.content:e.entries[n].raw);Object.assign(e.entries[n],{content:r,changed:a})})),cr(nr,"SET_FILE_LANGUAGE",(function(e,t){var n=t.file,r=t.fileLanguage;Object.assign(e.entries[n.path],{fileLanguage:r})})),cr(nr,"SET_FILE_EOL",(function(e,t){var n=t.file,r=t.eol;Object.assign(e.entries[n.path],{eol:r})})),cr(nr,"SET_FILE_POSITION",(function(e,t){var n=t.file,r=t.editorRow,i=t.editorColumn;Object.assign(e.entries[n.path],{editorRow:r,editorColumn:i})})),cr(nr,"SET_FILE_MERGE_REQUEST_CHANGE",(function(e,t){var n=t.file,r=t.mrChange,i=T.j.replaced;r.new_file?i=T.j.new:r.deleted_file?i=T.j.deleted:r.renamed_file&&(i=T.j.renamed),Object.assign(e.entries[n.path],{mrChange:sr({},r,{diffMode:i})})})),cr(nr,"SET_FILE_VIEWMODE",(function(e,t){var n=t.file,r=t.viewMode;Object.assign(e.entries[n.path],{viewMode:r})})),cr(nr,"DISCARD_FILE_CHANGES",(function(e,t){var n=e.stagedFiles.find((function(e){return e.path===t})),r=e.entries[t],i=r.deleted;if(Object.assign(e.entries[t],{content:n?n.content:e.entries[t].raw,changed:!1,deleted:!1}),i){var a=r.parentPath?e.entries[r.parentPath]:e.trees["".concat(e.currentProjectId,"/").concat(e.currentBranchId)];a.tree=xe(a.tree.concat(r))}})),cr(nr,"ADD_FILE_TO_CHANGED",(function(e,t){Object.assign(e,{changedFiles:e.changedFiles.concat(e.entries[t]),unusedSeal:!1})})),cr(nr,"REMOVE_FILE_FROM_CHANGED",(function(e,t){Object.assign(e,{changedFiles:e.changedFiles.filter((function(e){return e.path!==t})),unusedSeal:!1})})),cr(nr,"STAGE_CHANGE",(function(e,t){var n=t.path,r=t.diffInfo,i=e.stagedFiles.find((function(e){return e.path===n}));Object.assign(e,{changedFiles:e.changedFiles.filter((function(e){return e.path!==n})),entries:Object.assign(e.entries,cr({},n,Object.assign(e.entries[n],{staged:r.exists,changed:r.changed,tempFile:r.tempFile,deleted:r.deleted}))),unusedSeal:!1}),i?Object.assign(i,sr({},e.entries[n])):e.stagedFiles=[].concat(ar(e.stagedFiles),[sr({},e.entries[n])]),r.exists||(e.stagedFiles=e.stagedFiles.filter((function(e){return e.path!==n})))})),cr(nr,"UNSTAGE_CHANGE",(function(e,t){var n=t.path,r=t.diffInfo,i=e.changedFiles.find((function(e){return e.path===n})),a=e.stagedFiles.find((function(e){return e.path===n}));!i&&a&&(Object.assign(e.entries[n],sr({},a,{key:e.entries[n].key,active:e.entries[n].active,opened:e.entries[n].opened,changed:!0})),e.changedFiles=e.changedFiles.concat(e.entries[n])),r.exists||(e.changedFiles=e.changedFiles.filter((function(e){return e.path!==n}))),Object.assign(e,{stagedFiles:e.stagedFiles.filter((function(e){return e.path!==n})),entries:Object.assign(e.entries,cr({},n,Object.assign(e.entries[n],{staged:!1,changed:r.changed,tempFile:r.tempFile,deleted:r.deleted})))})})),cr(nr,"TOGGLE_FILE_CHANGED",(function(e,t){var n=t.file,r=t.changed;Object.assign(e.entries[n.path],{changed:r})})),cr(nr,"ADD_PENDING_TAB",(function(e,t){var n=t.file,r=t.keyPrefix,i=void 0===r?"pending":r;e.entries[n.path].opened=!1,e.entries[n.path].active=!1,e.entries[n.path].lastOpenedAt=(new Date).getTime(),e.openFiles.forEach((function(e){return Object.assign(e,{opened:!1,active:!1})})),e.openFiles=[sr({},n,{key:"".concat(i,"-").concat(n.key),pending:!0,opened:!0,active:!0})]})),cr(nr,"REMOVE_PENDING_TAB",(function(e,t){Object.assign(e,{openFiles:e.openFiles.filter((function(e){return e.key!==t.key}))})})),cr(nr,"REMOVE_FILE_FROM_STAGED_AND_CHANGED",(function(e,t){Object.assign(e,{changedFiles:e.changedFiles.filter((function(e){return e.key!==t.key})),stagedFiles:e.stagedFiles.filter((function(e){return e.key!==t.key}))}),Object.assign(e.entries[t.path],{changed:!1,staged:!1})})),nr);function dr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pr,fr=(dr(lr={},"TOGGLE_TREE_OPEN",(function(e,t){Object.assign(e.entries[t],{opened:!e.entries[t].opened})})),dr(lr,"SET_TREE_OPEN",(function(e,t){Object.assign(e.entries[t],{opened:!0})})),dr(lr,"CREATE_TREE",(function(e,t){var n=t.treePath;Object.assign(e,{trees:Object.assign({},e.trees,dr({},n,{tree:[],loading:!0}))})})),dr(lr,"SET_DIRECTORY_DATA",(function(e,t){var n=t.data,r=t.treePath,i=e.trees[r],a=i.tree.length?i.loading&&function(e,t){if(!e||!e.length)return t;for(var n=function e(t,n){if(!t)return n;var r=n.find((function(e){return e.path===t.path}));if(r&&t.tree.length>0)r.opened=!0,e(t.tree[0],r.tree);else if(!r){var i=xe(n.concat(t));n.splice.apply(n,[0,n.length+1].concat(je(i)))}return n},r=0,i=e.length;r<i;r+=1)n(e[r],t);return t}(i.tree,n):n;Object.assign(i,{tree:a})})),dr(lr,"SET_LAST_COMMIT_URL",(function(e,t){var n=t.tree,r=void 0===n?e:n,i=t.url;Object.assign(r,{lastCommitPath:i})})),dr(lr,"REMOVE_ALL_CHANGES_FILES",(function(e){Object.assign(e,{changedFiles:[]})})),dr(lr,"RESTORE_TREE",(function(e,t){var n=e.entries[t],r=n.parentPath?e.entries[n.parentPath]:e.trees["".concat(e.currentProjectId,"/").concat(e.currentBranchId)];r.tree.find((function(e){return e.path===t}))||(r.tree=xe(r.tree.concat(n)))})),lr);function hr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hr(Object(n),!0).forEach((function(t){gr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var br,vr=(gr(pr={},"SET_CURRENT_BRANCH",(function(e,t){Object.assign(e,{currentBranchId:t})})),gr(pr,"SET_BRANCH",(function(e,t){var n=t.projectPath,r=t.branchName,i=t.branch;Object.assign(e.projects[n],{branches:gr({},r,mr({},i,{treeId:"".concat(n,"/").concat(r),active:!0,workingReference:""}))})})),gr(pr,"SET_BRANCH_WORKING_REFERENCE",(function(e,t){var n=t.projectId,r=t.branchId,i=t.reference;e.projects[n].branches[r]||Object.assign(e.projects[n].branches,gr({},r,{})),Object.assign(e.projects[n].branches[r],{workingReference:i})})),gr(pr,"SET_BRANCH_COMMIT",(function(e,t){var n=t.projectId,r=t.branchId,i=t.commit;Object.assign(e.projects[n].branches[r],{commit:i})})),pr);function yr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yr(Object(n),!0).forEach((function(t){Or(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Or(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _r,jr=wr((Or(br={},"SET_INITIAL_DATA",(function(e,t){Object.assign(e,t)})),Or(br,"TOGGLE_LOADING",(function(e,t){var n=t.entry,r=t.forceValue,i=void 0===r?void 0:r;n.path?Object.assign(e.entries[n.path],{loading:void 0!==i?i:!e.entries[n.path].loading}):Object.assign(n,{loading:void 0!==i?i:!n.loading})})),Or(br,"SET_LEFT_PANEL_COLLAPSED",(function(e,t){Object.assign(e,{leftPanelCollapsed:t})})),Or(br,"SET_RIGHT_PANEL_COLLAPSED",(function(e,t){Object.assign(e,{rightPanelCollapsed:t})})),Or(br,"SET_RESIZING_STATUS",(function(e,t){Object.assign(e,{panelResizing:t})})),Or(br,"SET_LAST_COMMIT_DATA",(function(e,t){var n=t.entry,r=t.lastCommit;Object.assign(n.lastCommit,{id:r.commit.id,url:r.commit_path,message:r.commit.message,author:r.commit.author_name,updatedAt:r.commit.authored_date})})),Or(br,"SET_LAST_COMMIT_MSG",(function(e,t){Object.assign(e,{lastCommitMsg:t})})),Or(br,"CLEAR_STAGED_CHANGES",(function(e){Object.assign(e,{stagedFiles:[]})})),Or(br,"SET_ENTRIES",(function(e,t){Object.assign(e,{entries:t})})),Or(br,"CREATE_TMP_ENTRY",(function(e,t){var n=t.data,r=t.projectId,i=t.branchId;Object.keys(n.entries).reduce((function(t,r){var i=n.entries[r],a=e.entries[r];if(a)if(a.deleted)Object.assign(e.entries,Or({},r,Object.assign(i,{replaces:!0})));else{var o=i.tree.filter((function(e){return void 0===a.tree.find((function(t){return t.path===e.path}))}));Object.assign(a,{tree:xe(a.tree.concat(o))})}else Object.assign(e.entries,Or({},r,i));return t.concat(r)}),[]),e.trees["".concat(r,"/").concat(i)].tree.find((function(e){return e.path===n.treeList[0].path}))||Object.assign(e.trees["".concat(r,"/").concat(i)],{tree:xe(e.trees["".concat(r,"/").concat(i)].tree.concat(n.treeList))})})),Or(br,"UPDATE_TEMP_FLAG",(function(e,t){var n=t.path,r=t.tempFile;Object.assign(e.entries[n],{tempFile:r,changed:r})})),Or(br,"UPDATE_VIEWER",(function(e,t){Object.assign(e,{viewer:t})})),Or(br,"UPDATE_DELAY_VIEWER_CHANGE",(function(e,t){Object.assign(e,{delayViewerUpdated:t})})),Or(br,"UPDATE_ACTIVITY_BAR_VIEW",(function(e,t){Object.assign(e,{currentActivityView:t})})),Or(br,"SET_EMPTY_STATE_SVGS",(function(e,t){var n=t.emptyStateSvgPath,r=t.noChangesStateSvgPath,i=t.committedStateSvgPath,a=t.pipelinesEmptyStateSvgPath,o=t.promotionSvgPath;Object.assign(e,{emptyStateSvgPath:n,noChangesStateSvgPath:r,committedStateSvgPath:i,pipelinesEmptyStateSvgPath:a,promotionSvgPath:o})})),Or(br,"TOGGLE_FILE_FINDER",(function(e,t){Object.assign(e,{fileFindVisible:t})})),Or(br,"UPDATE_FILE_AFTER_COMMIT",(function(e,t){var n=t.file,r=t.lastCommit,i=e.changedFiles.find((function(e){return e.path===n.path})),a=n.prevPath;if(Object.assign(e.entries[n.path],{raw:n.content,changed:Boolean(i),staged:!1,replaces:!1,lastCommitSha:r.commit.id,prevId:void 0,prevPath:void 0,prevName:void 0,prevUrl:void 0,prevKey:void 0,prevParentPath:void 0}),a){var o=new RegExp("".concat(a,"$"));Object.assign(e.entries[n.path],{rawPath:n.rawPath.replace(o,n.path),permalink:n.permalink.replace(o,n.path),commitsPath:n.commitsPath.replace(o,n.path),blamePath:n.blamePath.replace(o,n.path)})}})),Or(br,"SET_LINKS",(function(e,t){Object.assign(e,{links:t})})),Or(br,"CLEAR_PROJECTS",(function(e){Object.assign(e,{projects:{},trees:{}})})),Or(br,"RESET_OPEN_FILES",(function(e){Object.assign(e,{openFiles:[]})})),Or(br,"SET_ERROR_MESSAGE",(function(e,t){Object.assign(e,{errorMessage:t})})),Or(br,"OPEN_NEW_ENTRY_MODAL",(function(e,t){var n=t.type,r=t.path;Object.assign(e,{entryModal:{type:n,path:r,entry:wr({},e.entries[r])}})})),Or(br,"DELETE_ENTRY",(function(e,t){var n=e.entries[t],r=n.tempFile,i=void 0!==r&&r,a=n.parentPath?e.entries[n.parentPath]:e.trees["".concat(e.currentProjectId,"/").concat(e.currentBranchId)];n.deleted=!0,a&&(a.tree=a.tree.filter((function(e){return e.path!==n.path}))),"blob"===n.type&&(e.changedFiles=i?e.changedFiles.filter((function(e){return e.path!==t})):e.changedFiles.concat(n)),e.unusedSeal=!1})),Or(br,"RENAME_ENTRY",(function(e,t){var n,r,i=t.path,a=t.name,o=t.parentPath,s=e.entries[i],c=o?"".concat(o,"/").concat(a):a,l=c===s.prevPath,u=function(e,t,n){return e.replace("/-/".concat(t),"/-/".concat(n))}(s.url,s.path,c),d=s.key.replace(new RegExp(s.path,"g"),c),p=wr({},s,{name:a,id:c,path:c,url:u,key:d,parentPath:o||""}),f=s.tempFile||l?{prevId:void 0,prevPath:void 0,prevName:void 0,prevUrl:void 0,prevKey:void 0,prevParentPath:void 0}:{prevId:s.prevId||s.id,prevPath:s.prevPath||s.path,prevName:s.prevName||s.name,prevUrl:s.prevUrl||s.url,prevKey:s.prevKey||s.key,prevParentPath:s.prevParentPath||s.parentPath};g.default.set(e.entries,c,wr({},p,{},f)),n=s.parentPath,r=o,(n?Le(n):"")===(r?Le(r):"")?Me(e,s.key,c,o):(!function(e,t,n){var r=Re(e,n);r&&(r.tree=xe(r.tree.filter((function(e){return e.key!==t}))))}(e,s.key,s.parentPath),Me(e,s.key,c,o)),"blob"===s.type&&Fe(e,s.key,c),g.default.delete(e.entries,s.path)})),br),Xn,{},rr,{},ur,{},fr,{},vr);function Er(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pr,Cr,Sr=(Er(_r={},"UPDATE_COMMIT_MESSAGE",(function(e,t){Object.assign(e,{commitMessage:t})})),Er(_r,"UPDATE_COMMIT_ACTION",(function(e,t){var n=t.commitAction;Object.assign(e,{commitAction:n})})),Er(_r,"UPDATE_NEW_BRANCH_NAME",(function(e,t){Object.assign(e,{newBranchName:t})})),Er(_r,"UPDATE_LOADING",(function(e,t){Object.assign(e,{submitCommitLoading:t})})),Er(_r,"TOGGLE_SHOULD_CREATE_MR",(function(e,t){Object.assign(e,{shouldCreateMR:void 0===t?!e.shouldCreateMR:t})})),_r),kr="1",Tr="2",xr=function(e,t){(0,e.commit)("UPDATE_COMMIT_MESSAGE",t)},Ir=function(e){(0,e.commit)("UPDATE_COMMIT_MESSAGE","")},Dr=function(e,t){var n=e.commit,r=e.getters;n("UPDATE_COMMIT_ACTION",{commitAction:t}),n("TOGGLE_SHOULD_CREATE_MR",!r.shouldHideNewMrOption)},Rr=function(e){(0,e.commit)("TOGGLE_SHOULD_CREATE_MR")},Mr=function(e,t){(0,e.commit)("UPDATE_NEW_BRANCH_NAME",t)},Fr=function(e,t){var n=e.commit,r=e.rootGetters.currentProject,i=t.stats?Object(j.e)(Object(j.a)("with %{additions} additions, %{deletions} deletions."),{additions:t.stats.additions,deletions:t.stats.deletions}):"";n("SET_LAST_COMMIT_MSG",Object(j.e)(Object(j.a)("Your changes have been committed. Commit %{commitId} %{commitStats}"),{commitId:'<a href="'.concat(r.web_url,"/-/commit/").concat(t.short_id,'" class="commit-sha">').concat(t.short_id,"</a>"),commitStats:i},!1),{root:!0})},Lr=function(e,t){var n=e.commit,r=e.dispatch,i=e.rootState,a=e.rootGetters,o=t.data,s=a.currentProject,c={commit_path:"".concat(s.web_url,"/-/commit/").concat(o.id),commit:{id:o.id,message:o.message,authored_date:o.committed_date,author_name:o.committer_name}};n("SET_BRANCH_WORKING_REFERENCE",{projectId:i.currentProjectId,branchId:i.currentBranchId,reference:o.id},{root:!0}),i.stagedFiles.forEach((function(e){var t=i.changedFiles.find((function(t){return t.path===e.path}));n("UPDATE_FILE_AFTER_COMMIT",{file:e,lastCommit:c},{root:!0}),n("TOGGLE_FILE_CHANGED",{file:e,changed:!1},{root:!0}),r("updateTempFlagForEntry",{file:e,tempFile:!1},{root:!0}),et.$emit("editor.update.model.content.".concat(e.key),{content:e.content,changed:Boolean(t)})}))},Ar=function(e){var t=e.commit,n=e.state,r=e.getters,i=e.dispatch,a=e.rootState,o=e.rootGetters,s=n.commitAction!==kr,c=a.stagedFiles.length?Promise.resolve():i("stageAllChanges",null,{root:!0});return t("UPDATE_LOADING",!0),c.then((function(){var e=function(e){var t=e.branch,n=e.getters,r=e.newBranch,i=e.state,a=e.rootState,o=e.rootGetters;return{branch:t,commit_message:i.commitMessage||n.preBuiltCommitMessage,actions:ke(a.stagedFiles).map((function(e){return{action:(t=e,t.prevPath?T.h.move:t.deleted?T.h.delete:t.tempFile&&!t.replaces?T.h.create:T.h.update),file_path:e.path,previous_path:e.prevPath||void 0,content:e.prevPath&&!e.changed?null:e.content||void 0,encoding:e.base64?"base64":"text",last_commit_id:r||e.deleted||e.prevPath||e.replaces?void 0:e.lastCommitSha};var t})),start_sha:r?o.lastCommit.id:void 0}}({branch:r.branchName,newBranch:s,getters:r,state:n,rootState:a,rootGetters:o});return Ze.commit(a.currentProjectId,e)})).then((function(e){var n=e.data;return t("UPDATE_LOADING",!1),n.short_id?(n.parent_ids.length||t("TOGGLE_EMPTY_STATE",{projectPath:a.currentProjectId,value:!1},{root:!0}),i("setLastCommitMessage",n),i("updateCommitMessage",""),i("updateFilesAfterCommit",{data:n,branch:r.branchName}).then((function(){if(t("CLEAR_STAGED_CHANGES",null,{root:!0}),setTimeout((function(){t("SET_LAST_COMMIT_MSG","",{root:!0})}),5e3),r.shouldCreateMR){var e=o.currentProject,n=r.isCreatingNewBranch?a.currentBranchId:e.default_branch;i("redirectToUrl",function(e,t,n){return"".concat(e,"/-/merge_requests/new?merge_request[source_branch]=").concat(t,"&merge_request[target_branch]=").concat(n,"&nav_source=webide")}(e.web_url,r.branchName,n),{root:!0})}})).then((function(){o.lastOpenedFile?i("openPendingTab",{file:o.lastOpenedFile},{root:!0}).then((function(e){e&&i("updateViewer","diff",{root:!0})})).catch((function(e){throw e})):(i("updateActivityBarView",T.m.edit.name,{root:!0}),i("updateViewer","editor",{root:!0}),o.activeFile&&Ma.push("/project/".concat(a.currentProjectId,"/blob/").concat(r.branchName,"/-/").concat(o.activeFile.path)))})).then((function(){return i("updateCommitAction",kr)})).then((function(){return i("refreshLastCommitData",{projectId:a.currentProjectId,branchId:a.currentBranchId},{root:!0})}))):(Object(S.a)(n.message,"alert",document,null,!1,!0),null)})).catch((function(e){400===e.response.status?C()("#ide-create-branch-modal").modal("show"):(i("setErrorMessage",{text:Object(j.a)("An error occurred while committing your changes."),action:function(){return i("commitChanges").then((function(){return i("setErrorMessage",null,{root:!0})}))},actionText:Object(j.a)("Please try again")},{root:!0}),window.dispatchEvent(new Event("resize"))),t("UPDATE_LOADING",!1)}))},qr=function(){},Nr=function(e,t){return e.length?Object(j.e)(Object(j.c)("%{text} %{files}","%{text} %{files} files",e.length),{files:e.reduce((function(e,t){return e.concat(t.path)}),[]).join(", "),text:t}):null},Br=function(e){return""===e.commitMessage||e.submitCommitLoading},$r=function(e,t,n){return"".concat(gon.current_username,"-").concat(n.currentBranchId,"-patch-").concat("".concat((new Date).getTime()).substr(-5))},Vr=function(e,t,n){return t.isCreatingNewBranch?""===e.newBranchName?t.placeholderBranchName:e.newBranchName:n.currentBranchId},zr=function(e,t,n){if(e.commitMessage)return e.commitMessage;var r=n.stagedFiles.length?n.stagedFiles:n.changedFiles,i=r.filter((function(e){return!e.deleted})),a=r.filter((function(e){return e.deleted}));return[Nr(i,Object(j.a)("Update")),Nr(a,Object(j.a)("Deleted"))].filter((function(e){return e})).join("\n")},Gr=function(e){return e.commitAction===Tr},Ur=function(e,t,n,r){return!t.isCreatingNewBranch&&(r.hasMergeRequest||!r.hasMergeRequest&&r.isOnDefaultBranch)&&r.canPushToBranch},Hr=function(e,t,n,r){return!r.canCreateMergeRequests},Wr=function(e,t){return e.shouldCreateMR&&!t.shouldDisableNewMrOption},Jr=function(){},Kr={namespaced:!0,state:{commitMessage:"",commitAction:"1",newBranchName:"",submitCommitLoading:!1,shouldCreateMR:!0},mutations:Sr,actions:a,getters:o},Yr=n(125),Qr=n.n(Yr),Xr=n(736),Zr=n.n(Xr),ei=n(146),ti=n(159),ni=function(){Pr=null},ri=function(){Pr&&Pr.stop()},ii=function(){Pr&&Pr.restart()},ai=function(){Pr&&Pr.makeRequest()},oi=function(e){return(0,e.commit)("REQUEST_LATEST_PIPELINE")},si=function(e,t){var n=e.commit,r=e.dispatch;t.status!==ei.a.NOT_FOUND&&r("setErrorMessage",{text:Object(j.a)("An error occurred while fetching the latest pipeline."),action:function(){return r("forcePipelineRequest").then((function(){return r("setErrorMessage",null,{root:!0})}))},actionText:Object(j.a)("Please try again"),actionPayload:null},{root:!0}),n("RECEIVE_LASTEST_PIPELINE_ERROR"),r("stopPipelinePolling")},ci=function(e,t){var n=e.rootGetters,r=e.commit,i=t.pipelines,a=!1;if(i&&i.length){var o=n.lastCommit&&n.lastCommit.id;a=i.find((function(e){return e.commit.id===o}))}r("RECEIVE_LASTEST_PIPELINE_SUCCESS",a)},li=function(e){var t=e.dispatch,n=e.rootGetters;Pr||(t("requestLatestPipeline"),Pr=new ti.a({resource:Ze,method:"lastCommitPipelines",data:{getters:n},successCallback:function(e){var n=e.data;return t("receiveLatestPipelineSuccess",n)},errorCallback:function(e){return t("receiveLatestPipelineError",e)}}),Qr.a.hidden()||Pr.makeRequest(),Qr.a.change((function(){Qr.a.hidden()?t("stopPipelinePolling"):t("restartPipelinePolling")})))},ui=function(e,t){return(0,e.commit)("REQUEST_JOBS",t)},di=function(e,t){var n=e.commit,r=e.dispatch;r("setErrorMessage",{text:Object(j.a)("An error occurred while loading the pipelines jobs."),action:function(e){return r("fetchJobs",e).then((function(){return r("setErrorMessage",null,{root:!0})}))},actionText:Object(j.a)("Please try again"),actionPayload:t},{root:!0}),n("RECEIVE_JOBS_ERROR",t.id)},pi=function(e,t){return(0,e.commit)("RECEIVE_JOBS_SUCCESS",{id:t.id,data:t.data})},fi=function(e,t){var n=e.dispatch;return n("requestJobs",t.id),Zr.a.get(t.dropdownPath).then((function(e){var r=e.data;return n("receiveJobsSuccess",{id:t.id,data:r})})).catch((function(){return n("receiveJobsError",t)}))},hi=function(e,t){return(0,e.commit)("TOGGLE_STAGE_COLLAPSE",t)},mi=function(e,t){var n=e.commit,r=e.dispatch;n("SET_DETAIL_JOB",t),r("rightPane/open",t?T.p.jobsDetail:T.p.pipelines,{root:!0})},gi=function(e){return(0,e.commit)("REQUEST_JOB_TRACE")},bi=function(e){var t=e.commit,n=e.dispatch;n("setErrorMessage",{text:Object(j.a)("An error occurred while fetching the job trace."),action:function(){return n("fetchJobTrace").then((function(){return n("setErrorMessage",null,{root:!0})}))},actionText:Object(j.a)("Please try again"),actionPayload:null},{root:!0}),t("RECEIVE_JOB_TRACE_ERROR")},vi=function(e,t){return(0,e.commit)("RECEIVE_JOB_TRACE_SUCCESS",t)},yi=function(e){var t=e.dispatch,n=e.state;return t("requestJobTrace"),Zr.a.get("".concat(n.detailJob.path,"/trace"),{params:{format:"json"}}).then((function(e){var n=e.data;return t("receiveJobTraceSuccess",n)})).catch((function(){return t("receiveJobTraceError")}))},wi=function(e){var t=e.commit;t("RECEIVE_LASTEST_PIPELINE_SUCCESS",null),t("SET_DETAIL_JOB",null)},Oi=function(){},_i=function(e){return{id:e.id,name:e.name,status:e.status,path:e.build_path,rawPath:"".concat(e.build_path,"/raw"),started:e.started,output:"",isLoading:!1}};function ji(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ei(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ji(Object(n),!0).forEach((function(t){Pi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ji(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ci=(Pi(Cr={},"REQUEST_LATEST_PIPELINE",(function(e){e.isLoadingPipeline=!0})),Pi(Cr,"RECEIVE_LASTEST_PIPELINE_ERROR",(function(e){e.isLoadingPipeline=!1})),Pi(Cr,"RECEIVE_LASTEST_PIPELINE_SUCCESS",(function(e,t){e.isLoadingPipeline=!1,e.hasLoadedPipeline=!0,t?(e.latestPipeline={id:t.id,path:t.path,commit:t.commit,details:{status:t.details.status},yamlError:t.yaml_errors},e.stages=t.details.stages.map((function(t,n){var r=e.stages.find((function(e){return e.id===n}));return{id:n,dropdownPath:t.dropdown_path,name:t.name,status:t.status,isCollapsed:!!r&&r.isCollapsed,isLoading:!!r&&r.isLoading,jobs:r?r.jobs:[]}}))):e.latestPipeline=null})),Pi(Cr,"REQUEST_JOBS",(function(e,t){e.stages=e.stages.map((function(e){return Ei({},e,{isLoading:e.id===t||e.isLoading})}))})),Pi(Cr,"RECEIVE_JOBS_ERROR",(function(e,t){e.stages=e.stages.map((function(e){return Ei({},e,{isLoading:e.id!==t&&e.isLoading})}))})),Pi(Cr,"RECEIVE_JOBS_SUCCESS",(function(e,t){var n=t.id,r=t.data;e.stages=e.stages.map((function(e){return Ei({},e,{isLoading:e.id!==n&&e.isLoading,jobs:e.id===n?r.latest_statuses.map(_i):e.jobs})}))})),Pi(Cr,"TOGGLE_STAGE_COLLAPSE",(function(e,t){e.stages=e.stages.map((function(e){return Ei({},e,{isCollapsed:e.id===t?!e.isCollapsed:e.isCollapsed})}))})),Pi(Cr,"SET_DETAIL_JOB",(function(e,t){e.detailJob=Ei({},t)})),Pi(Cr,"REQUEST_JOB_TRACE",(function(e){e.detailJob.isLoading=!0})),Pi(Cr,"RECEIVE_JOB_TRACE_ERROR",(function(e){e.detailJob.isLoading=!1})),Pi(Cr,"RECEIVE_JOB_TRACE_SUCCESS",(function(e,t){e.detailJob.isLoading=!1,e.detailJob.output=t.html})),Cr),Si="failed";function ki(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ti(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xi,Ii=function(e){return!e.isLoadingPipeline&&Boolean(e.latestPipeline)},Di=function(e){return e.latestPipeline&&e.latestPipeline.details.status.text===Si},Ri=function(e){return e.stages.filter((function(e){return e.status.text.toLowerCase()===Si})).map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ki(Object(n),!0).forEach((function(t){Ti(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ki(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{jobs:e.jobs.filter((function(e){return e.status.text.toLowerCase()===Si}))})}))},Mi=function(e){return e.stages.reduce((function(e,t){return e+t.jobs.filter((function(e){return e.status.text===Si})).length}),0)},Fi=function(e){return e.stages.reduce((function(e,t){return e+t.jobs.length}),0)},Li=function(){},Ai={namespaced:!0,state:{isLoadingPipeline:!0,hasLoadedPipeline:!1,isLoadingJobs:!1,latestPipeline:null,stages:[],detailJob:null},actions:s,mutations:Ci,getters:c},qi={assigned:"assigned-to-me",created:"created-by-me"},Ni="opened",Bi=function(e){return(0,e.commit)("REQUEST_MERGE_REQUESTS")},$i=function(e,t){var n=e.commit,r=e.dispatch,i=t.type,a=t.search;r("setErrorMessage",{text:Object(j.a)("Error loading merge requests."),action:function(e){return r("fetchMergeRequests",e).then((function(){return r("setErrorMessage",null,{root:!0})}))},actionText:Object(j.a)("Please try again"),actionPayload:{type:i,search:a}},{root:!0}),n("RECEIVE_MERGE_REQUESTS_ERROR")},Vi=function(e,t){return(0,e.commit)("RECEIVE_MERGE_REQUESTS_SUCCESS",t)},zi=function(e,t){var n=e.dispatch,r=e.state.state,i=e.rootState.currentProjectId,a=t.type,o=t.search,s=void 0===o?"":o;n("requestMergeRequests"),n("resetMergeRequests");var c=a&&qi[a];return(c?Ve.a.mergeRequests({scope:c,state:r,search:s}):Ve.a.projectMergeRequest(i,"",{state:r,search:s})).then((function(e){var t=e.data;return n("receiveMergeRequestsSuccess",t)})).catch((function(){return n("receiveMergeRequestsError",{type:a,search:s})}))},Gi=function(e){return(0,e.commit)("RESET_MERGE_REQUESTS")},Ui=function(){};function Hi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Wi,Ji=(Hi(xi={},"REQUEST_MERGE_REQUESTS",(function(e){e.isLoading=!0})),Hi(xi,"RECEIVE_MERGE_REQUESTS_ERROR",(function(e){e.isLoading=!1})),Hi(xi,"RECEIVE_MERGE_REQUESTS_SUCCESS",(function(e,t){e.isLoading=!1,e.mergeRequests=t.map((function(e){return{id:e.id,iid:e.iid,title:e.title,projectId:e.project_id,projectPathWithNamespace:e.references.full.replace(e.references.short,"")}}))})),Hi(xi,"RESET_MERGE_REQUESTS",(function(e){e.mergeRequests=[]})),xi),Ki={namespaced:!0,state:{isLoading:!1,mergeRequests:[],state:Ni},actions:l,mutations:Ji},Yi=function(e){return(0,e.commit)("REQUEST_BRANCHES")},Qi=function(e,t){var n=e.commit,r=e.dispatch,i=t.search;r("setErrorMessage",{text:Object(j.a)("Error loading branches."),action:function(e){return r("fetchBranches",e).then((function(){return r("setErrorMessage",null,{root:!0})}))},actionText:Object(j.a)("Please try again"),actionPayload:{search:i}},{root:!0}),n("RECEIVE_BRANCHES_ERROR")},Xi=function(e,t){return(0,e.commit)("RECEIVE_BRANCHES_SUCCESS",t)},Zi=function(e,t){var n=e.dispatch,r=e.rootGetters,i=t.search,a=void 0===i?"":i;return n("requestBranches"),n("resetBranches"),Ve.a.branches(r.currentProject.id,a,{sort:"updated_desc"}).then((function(e){var t=e.data;return n("receiveBranchesSuccess",t)})).catch((function(){return n("receiveBranchesError",{search:a})}))},ea=function(e){return(0,e.commit)("RESET_BRANCHES")},ta=function(){};function na(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ra,ia={namespaced:!0,state:{isLoading:!1,branches:[]},actions:u,mutations:(na(Wi={},"REQUEST_BRANCHES",(function(e){e.isLoading=!0})),na(Wi,"RECEIVE_BRANCHES_ERROR",(function(e){e.isLoading=!1})),na(Wi,"RECEIVE_BRANCHES_SUCCESS",(function(e,t){e.isLoading=!1,e.branches=t.map((function(e){return{name:e.name,committedDate:e.commit.committed_date}}))})),na(Wi,"RESET_BRANCHES",(function(e){e.branches=[]})),Wi)},aa=function(e){return(0,e.commit)("REQUEST_TEMPLATE_TYPES")},oa=function(e){var t=e.commit,n=e.dispatch;t("RECEIVE_TEMPLATE_TYPES_ERROR"),n("setErrorMessage",{text:Object(j.a)("Error loading template types."),action:function(){return n("fetchTemplateTypes").then((function(){return n("setErrorMessage",null,{root:!0})}))},actionText:Object(j.a)("Please try again")},{root:!0})},sa=function(e,t){return(0,e.commit)("RECEIVE_TEMPLATE_TYPES_SUCCESS",t)},ca=function(e){var t=e.dispatch,n=e.state,r=e.rootState;if(!Object.keys(n.selectedTemplateType).length)return Promise.reject();t("requestTemplateTypes");return function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Ve.a.projectTemplates(r.currentProjectId,n.selectedTemplateType.key,{page:i,per_page:100}).then((function(n){var r=n.data,i=n.headers,o=parseInt(Object(ir.D)(i)["X-NEXT-PAGE"],10),s=a.concat(r);return t("receiveTemplateTypesSuccess",s),o?e(o,s):s})).catch((function(){return t("receiveTemplateTypesError")}))}()},la=function(e,t){var n=e.commit,r=e.dispatch,i=e.rootGetters;n("SET_SELECTED_TEMPLATE_TYPE",t),i.activeFile.prevPath===t.name?r("discardFileChanges",i.activeFile.path,{root:!0}):i.activeFile.name!==t.name&&r("renameEntry",{path:i.activeFile.path,name:t.name},{root:!0})},ua=function(e,t){var n=e.dispatch;n("setErrorMessage",{text:Object(j.a)("Error loading template."),action:function(e){return n("fetchTemplateTypes",e).then((function(){return n("setErrorMessage",null,{root:!0})}))},actionText:Object(j.a)("Please try again"),actionPayload:t},{root:!0})},da=function(e,t){var n=e.dispatch,r=e.state,i=e.rootState;return t.content?n("setFileTemplate",t):Ve.a.projectTemplate(i.currentProjectId,r.selectedTemplateType.key,t.key||t.name).then((function(e){var t=e.data;n("setFileTemplate",t)})).catch((function(){return n("receiveTemplateError",t)}))},pa=function(e,t){var n=e.dispatch,r=e.commit,i=e.rootGetters;n("changeFileContent",{path:i.activeFile.path,content:t.content},{root:!0}),r("SET_UPDATE_SUCCESS",!0),et.$emit("editor.update.model.new.content.".concat(i.activeFile.key),t.content)},fa=function(e){var t=e.dispatch,n=e.commit,r=e.rootGetters.activeFile;t("changeFileContent",{path:r.path,content:r.raw},{root:!0}),n("SET_UPDATE_SUCCESS",!1),et.$emit("editor.update.model.new.content.".concat(r.key),r.raw),r.prevPath&&t("discardFileChanges",r.path,{root:!0})},ha=function(){},ma=function(){return[{name:".gitlab-ci.yml",key:"gitlab_ci_ymls"},{name:".gitignore",key:"gitignores"},{name:Object(j.a)("LICENSE"),key:"licenses"},{name:Object(j.a)("Dockerfile"),key:"dockerfiles"}]},ga=function(e,t,n){return function(e){return t.templateTypes.find((function(t){return t.name===e}))&&n.currentActivityView===T.m.edit.name}},ba=function(){};function va(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ya,wa=(va(ra={},"REQUEST_TEMPLATE_TYPES",(function(e){e.isLoading=!0,e.templates=[]})),va(ra,"RECEIVE_TEMPLATE_TYPES_ERROR",(function(e){e.isLoading=!1})),va(ra,"RECEIVE_TEMPLATE_TYPES_SUCCESS",(function(e,t){e.isLoading=!1,e.templates=t})),va(ra,"SET_SELECTED_TEMPLATE_TYPE",(function(e,t){e.selectedTemplateType=t,e.templates=[]})),va(ra,"SET_UPDATE_SUCCESS",(function(e,t){e.updateSuccess=t})),ra),Oa=function(e){var t=e.dispatch;e.state.isOpen?t("close"):t("open")},_a=function(e,t){var n=e.state,r=e.commit;if(r("SET_OPEN",!0),t&&t.name!==n.currentView){var i=t.name,a=t.keepAlive;r("SET_CURRENT_VIEW",i),a&&r("KEEP_ALIVE_VIEW",i)}},ja=function(e){(0,e.commit)("SET_OPEN",!1)},Ea=function(){},Pa=function(e){return function(t){return e.currentView===t}},Ca=function(e,t){return function(n){return e.keepAliveViews[n]||e.isOpen&&t.isActiveView(n)}};function Sa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ka=(Sa(ya={},"SET_OPEN",(function(e,t){Object.assign(e,{isOpen:t})})),Sa(ya,"SET_CURRENT_VIEW",(function(e,t){Object.assign(e,{currentView:t})})),Sa(ya,"KEEP_ALIVE_VIEW",(function(e,t){Object.assign(e.keepAliveViews,Sa({},t,!0))})),ya),Ta=function(e){var t=e.rootGetters.currentProject.web_url,n="".concat(t,"/usage_ping/web_ide_clientside_preview");return $e.a.post(n)},xa=function(){};g.default.use(b.b);var Ia=new b.b.Store({state:{currentProjectId:"",currentBranchId:"",currentMergeRequestId:"",changedFiles:[],stagedFiles:[],endpoints:{},lastCommitMsg:"",lastCommitPath:"",loading:!1,openFiles:[],parentTreeUrl:"",trees:{},projects:{},leftPanelCollapsed:!1,rightPanelCollapsed:!1,panelResizing:!1,entries:{},viewer:T.r.edit,delayViewerUpdated:!1,currentActivityView:T.m.edit.name,unusedSeal:!0,fileFindVisible:!1,links:{},errorMessage:null,entryModal:{type:"",path:"",entry:{}},clientsidePreviewEnabled:!1,renderWhitespaceInCode:!1,editorTheme:ve.a,codesandboxBundlerUrl:null},actions:r,mutations:jr,getters:i,modules:{commit:Kr,pipelines:Ai,mergeRequests:Ki,branches:ia,fileTemplates:{namespaced:!0,actions:d,state:{isLoading:!1,templates:[],selectedTemplateType:{},updateSuccess:!1},getters:p,mutations:wa},rightPane:{namespaced:!0,state:{isOpen:!1,currentView:null,keepAliveViews:{}},actions:f,getters:h,mutations:ka},clientside:{namespaced:!0,actions:m}}});g.default.use(be);var Da={render:function(e){return e("div")}},Ra=new be({mode:"history",base:Object(ue.g)(gon.relative_url_root||"","/-/ide/"),routes:[{path:"/project/:namespace+/:project",component:Da,children:[{path:":targetmode(edit|tree|blob)/:branchid+/-/*",component:Da},{path:":targetmode(edit|tree|blob)/:branchid+/",redirect:function(e){return Object(ue.g)(e.path,"/-/")}},{path:":targetmode(edit|tree|blob)",redirect:function(e){return Object(ue.g)(e.path,"/master/-/")}},{path:"merge_requests/:mrid",component:Da},{path:"",redirect:function(e){return Object(ue.g)(e.path,"/edit/master/-/")}}]}]});Ra.beforeEach((function(e,t,n){e.params.namespace&&e.params.project&&Ia.dispatch("getProjectData",{namespace:e.params.namespace,projectId:e.params.project}).then((function(){var t=e.params.pathMatch||"",n="".concat(e.params.namespace,"/").concat(e.params.project),r=e.params.branchid,i=e.params.mrid;r?Ia.dispatch("openBranch",{projectId:n,branchId:r,basePath:t}):i&&Ia.dispatch("openMergeRequest",{projectId:n,mergeRequestId:i,targetProjectId:e.query.target_project})})).catch((function(e){throw Object(S.a)(Object(j.a)("Error while loading the project data. Please try again."),"alert",document,null,!1,!0),e})),n()}));var Ma=Ra,Fa={components:{Icon:B.a,Timeago:ce.a},props:{item:{type:Object,required:!0},projectId:{type:String,required:!0},isActive:{type:Boolean,required:!1,default:!1}},computed:{branchHref:function(){return Ma.resolve("/project/".concat(this.projectId,"/edit/").concat(this.item.name)).href}}};function La(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Aa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?La(Object(n),!0).forEach((function(t){qa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):La(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Na={components:{Item:Object(M.a)(Fa,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a",{staticClass:"btn-link d-flex align-items-center",attrs:{href:e.branchHref}},[n("span",{staticClass:"d-flex append-right-default ide-search-list-current-icon"},[e.isActive?n("icon",{attrs:{size:18,name:"mobile-issue-close"}}):e._e()],1),e._v(" "),n("span",[n("strong",[e._v(" "+e._s(e.item.name)+" ")]),e._v(" "),n("span",{staticClass:"ide-merge-request-project-path d-block mt-1"},[e._v("\n      Updated "),n("timeago",{attrs:{time:e.item.committedDate||""}})],1)])])}),[],!1,null,null,null).exports,Icon:B.a,GlLoadingIcon:_.a},data:function(){return{search:""}},computed:Aa({},Object(b.e)("branches",["branches","isLoading"]),{},Object(b.e)(["currentBranchId","currentProjectId"]),{hasBranches:function(){return 0!==this.branches.length},hasNoSearchResults:function(){return""!==this.search&&!this.hasBranches}}),watch:{isLoading:{handler:"focusSearch"}},mounted:function(){this.loadBranches()},methods:Aa({},Object(b.c)("branches",["fetchBranches"]),{loadBranches:function(){this.fetchBranches({search:this.search})},searchBranches:y.a.debounce((function(){this.loadBranches()}),250),focusSearch:function(){var e=this;this.isLoading||this.$nextTick((function(){e.$refs.searchInput.focus()}))},isActiveBranch:function(e){return e.name===this.currentBranchId}})},Ba=Object(M.a)(Na,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("label",{staticClass:"dropdown-input pt-3 pb-3 mb-0 border-bottom block position-relative",on:{click:function(e){e.stopPropagation()}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],ref:"searchInput",staticClass:"form-control dropdown-input-field",attrs:{placeholder:e.__("Search branches"),type:"search"},domProps:{value:e.search},on:{input:[function(t){t.target.composing||(e.search=t.target.value)},e.searchBranches]}}),e._v(" "),n("icon",{staticClass:"ml-3 input-icon",attrs:{size:18,name:"search"}})],1),e._v(" "),n("div",{staticClass:"dropdown-content ide-merge-requests-dropdown-content d-flex"},[e.isLoading?n("gl-loading-icon",{staticClass:"mt-3 mb-3 align-self-center ml-auto mr-auto",attrs:{size:2}}):n("ul",{staticClass:"mb-0 w-100"},[e.hasBranches?e._l(e.branches,(function(t){return n("li",{key:t.name},[n("item",{attrs:{item:t,"project-id":e.currentProjectId,"is-active":e.isActiveBranch(t)}})],1)})):n("li",{staticClass:"ide-search-list-empty d-flex align-items-center justify-content-center"},[e.hasNoSearchResults?[e._v("\n          "+e._s(e.__("No branches found"))+"\n        ")]:e._e()],2)],2)],1)])}),[],!1,null,null,null).exports,$a={components:{Icon:B.a},props:{item:{type:Object,required:!0},currentId:{type:String,required:!0},currentProjectId:{type:String,required:!0}},computed:{isActive:function(){return this.item.iid===parseInt(this.currentId,10)&&this.currentProjectId===this.item.projectPathWithNamespace},pathWithID:function(){return"".concat(this.item.projectPathWithNamespace,"!").concat(this.item.iid)},mergeRequestHref:function(){var e="/project/".concat(this.item.projectPathWithNamespace,"/merge_requests/").concat(this.item.iid);return Ma.resolve(e).href}}},Va=Object(M.a)($a,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a",{staticClass:"btn-link d-flex align-items-center",attrs:{href:e.mergeRequestHref}},[n("span",{staticClass:"d-flex append-right-default ide-search-list-current-icon"},[e.isActive?n("icon",{attrs:{size:18,name:"mobile-issue-close"}}):e._e()],1),e._v(" "),n("span",[n("strong",[e._v(" "+e._s(e.item.title)+" ")]),e._v(" "),n("span",{staticClass:"ide-merge-request-project-path d-block mt-1"},[e._v(" "+e._s(e.pathWithID)+" ")])])])}),[],!1,null,null,null).exports,za={components:{Icon:B.a},props:{placeholder:{type:String,required:!1,default:Object(j.a)("Search")},tokens:{type:Array,required:!1,default:function(){return[]}},value:{type:String,required:!1,default:""}},data:function(){return{backspaceCount:0}},computed:{placeholderText:function(){return this.tokens.length?"":this.placeholder}},watch:{tokens:function(){this.$refs.input.focus()}},methods:{onFocus:function(){this.$emit("focus")},onBlur:function(){this.$emit("blur")},onInput:function(e){this.$emit("input",e.target.value)},onBackspace:function(){!this.value&&this.tokens.length?(this.backspaceCount+=1,this.backspaceCount>1&&(this.removeToken(this.tokens[this.tokens.length-1]),this.backspaceCount=0)):this.backspaceCount=0},removeToken:function(e){this.$emit("removeToken",e)}}},Ga=Object(M.a)(za,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"filtered-search-wrapper"},[n("div",{staticClass:"filtered-search-box"},[n("div",{staticClass:"tokens-container list-unstyled"},[e._l(e.tokens,(function(t){return n("div",{key:t.label,staticClass:"filtered-search-token"},[n("button",{staticClass:"selectable btn-blank",attrs:{type:"button"},on:{click:function(n){return n.stopPropagation(),e.removeToken(t)},keyup:function(n){return!n.type.indexOf("key")&&e._k(n.keyCode,"delete",[8,46],n.key,["Backspace","Delete","Del"])?null:e.removeToken(t)}}},[n("div",{staticClass:"value-container rounded"},[n("div",{staticClass:"value"},[e._v(e._s(t.label))]),e._v(" "),n("div",{staticClass:"remove-token inverted"},[n("icon",{attrs:{size:10,name:"close"}})],1)])])])})),e._v(" "),n("div",{staticClass:"input-token"},[n("input",{ref:"input",staticClass:"form-control filtered-search",attrs:{placeholder:e.placeholderText,type:"search"},domProps:{value:e.value},on:{input:e.onInput,focus:e.onFocus,blur:e.onBlur,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"delete",[8,46],t.key,["Backspace","Delete","Del"])?null:e.onBackspace(t)}}})])],2)])])}),[],!1,null,null,null).exports;function Ua(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ha(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ua(Object(n),!0).forEach((function(t){Wa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ua(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ja=[{type:"created",label:Object(j.a)("Created by me")},{type:"assigned",label:Object(j.a)("Assigned to me")}],Ka={components:{TokenedInput:Ga,Item:Va,Icon:B.a,GlLoadingIcon:_.a},data:function(){return{search:"",currentSearchType:null,hasSearchFocus:!1}},computed:Ha({},Object(b.e)("mergeRequests",["mergeRequests","isLoading"]),{},Object(b.e)(["currentMergeRequestId","currentProjectId"]),{hasMergeRequests:function(){return 0!==this.mergeRequests.length},hasNoSearchResults:function(){return""!==this.search&&!this.hasMergeRequests},showSearchTypes:function(){return this.hasSearchFocus&&!this.search&&!this.currentSearchType},type:function(){return this.currentSearchType?this.currentSearchType.type:""},searchTokens:function(){return this.currentSearchType?[this.currentSearchType]:[]}}),watch:{search:function(){this.hasSearchFocus=!1}},mounted:function(){this.loadMergeRequests()},methods:Ha({},Object(b.c)("mergeRequests",["fetchMergeRequests"]),{loadMergeRequests:function(){this.fetchMergeRequests({type:this.type,search:this.search})},searchMergeRequests:y.a.debounce((function(){this.loadMergeRequests()}),250),onSearchFocus:function(){this.hasSearchFocus=!0},setSearchType:function(e){this.currentSearchType=e,this.loadMergeRequests()}}),searchTypes:Ja},Ya={components:{Tabs:ae,Tab:se,BranchesSearchList:Ba,MergeRequestSearchList:Object(M.a)(Ka,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("label",{staticClass:"dropdown-input pt-3 pb-3 mb-0 border-bottom block",on:{click:function(e){e.stopPropagation()}}},[n("tokened-input",{attrs:{tokens:e.searchTokens,placeholder:e.__("Search merge requests")},on:{focus:e.onSearchFocus,input:e.searchMergeRequests,removeToken:function(t){return e.setSearchType(null)}},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),e._v(" "),n("icon",{staticClass:"ml-3 input-icon",attrs:{size:18,name:"search"}})],1),e._v(" "),n("div",{staticClass:"dropdown-content ide-merge-requests-dropdown-content d-flex"},[e.isLoading?n("gl-loading-icon",{staticClass:"mt-3 mb-3 align-self-center ml-auto mr-auto",attrs:{size:2}}):[n("ul",{staticClass:"mb-0 w-100"},[e.showSearchTypes?e._l(e.$options.searchTypes,(function(t){return n("li",{key:t.type},[n("button",{staticClass:"btn-link d-flex align-items-center",attrs:{type:"button"},on:{click:function(n){return n.stopPropagation(),e.setSearchType(t)}}},[n("span",{staticClass:"d-flex append-right-default ide-search-list-current-icon"},[n("icon",{attrs:{size:18,name:"search"}})],1),e._v(" "),n("span",[e._v(e._s(t.label))])])])})):e.hasMergeRequests?e._l(e.mergeRequests,(function(t){return n("li",{key:t.id},[n("item",{attrs:{item:t,"current-id":e.currentMergeRequestId,"current-project-id":e.currentProjectId}})],1)})):n("li",{staticClass:"ide-search-list-empty d-flex align-items-center justify-content-center"},[e._v("\n          "+e._s(e.__("No merge requests found"))+"\n        ")])],2)]],2)])}),[],!1,null,null,null).exports},props:{showMergeRequests:{type:Boolean,required:!1,default:!0}}},Qa=Object(M.a)(Ya,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ide-nav-form p-0"},[e.showMergeRequests?n("tabs",{attrs:{"stop-propagation":""}},[n("tab",{attrs:{active:""}},[n("template",{slot:"title"},[e._v("\n        "+e._s(e.__("Branches"))+"\n      ")]),e._v(" "),n("branches-search-list")],2),e._v(" "),n("tab",[n("template",{slot:"title"},[e._v("\n        "+e._s(e.__("Merge Requests"))+"\n      ")]),e._v(" "),n("merge-request-search-list")],2)],1):n("branches-search-list")],1)}),[],!1,null,null,null).exports,Xa=n(991);function Za(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function eo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var to={components:{Icon:B.a,DropdownButton:Xa.a},props:{showMergeRequests:{type:Boolean,required:!1,default:!0}},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Za(Object(n),!0).forEach((function(t){eo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Za(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(b.e)(["currentBranchId","currentMergeRequestId"]),{mergeRequestLabel:function(){return this.currentMergeRequestId?"!".concat(this.currentMergeRequestId):"-"},branchLabel:function(){return this.currentBranchId||"-"}})};function no(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ro(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var io={components:{NavDropdownButton:Object(M.a)(to,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("dropdown-button",[n("span",{staticClass:"row flex-nowrap"},[n("span",{staticClass:"col-auto flex-fill text-truncate"},[n("icon",{attrs:{size:16,"aria-label":e.__("Current Branch"),name:"branch"}}),e._v(" "+e._s(e.branchLabel)+"\n    ")],1),e._v(" "),e.showMergeRequests?n("span",{staticClass:"col-5 pl-0 text-truncate"},[n("icon",{attrs:{size:16,"aria-label":e.__("Merge Request"),name:"merge-request"}}),e._v("\n      "+e._s(e.mergeRequestLabel)+"\n    ")],1):e._e()])])}),[],!1,null,null,null).exports,NavForm:Qa},data:function(){return{isVisibleDropdown:!1}},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?no(Object(n),!0).forEach((function(t){ro(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):no(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(b.d)(["canReadMergeRequests"])),mounted:function(){this.addDropdownListeners()},beforeDestroy:function(){this.removeDropdownListeners()},methods:{addDropdownListeners:function(){var e=this;C()(this.$refs.dropdown).on("show.bs.dropdown",(function(){return e.showDropdown()})).on("hide.bs.dropdown",(function(){return e.hideDropdown()}))},removeDropdownListeners:function(){C()(this.$refs.dropdown).off("show.bs.dropdown").off("hide.bs.dropdown")},showDropdown:function(){this.isVisibleDropdown=!0},hideDropdown:function(){this.isVisibleDropdown=!1}}},ao=Object(M.a)(io,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{ref:"dropdown",staticClass:"btn-group ide-nav-dropdown dropdown"},[t("nav-dropdown-button",{attrs:{"show-merge-requests":this.canReadMergeRequests}}),this._v(" "),t("div",{staticClass:"dropdown-menu dropdown-menu-left p-0"},[this.isVisibleDropdown?t("nav-form",{attrs:{"show-merge-requests":this.canReadMergeRequests}}):this._e()],1)],1)}),[],!1,null,null,null).exports;function oo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function so(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oo(Object(n),!0).forEach((function(t){co(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function co(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lo={components:{GlSkeletonLoading:L.a,NavDropdown:ao,FileTree:A.a},props:{viewerType:{type:String,required:!0},headerClass:{type:String,required:!1,default:null}},computed:so({},Object(b.e)(["currentBranchId"]),{},Object(b.d)(["currentProject","currentTree"]),{showLoading:function(){return!this.currentTree||this.currentTree.loading}}),mounted:function(){this.updateViewer(this.viewerType)},methods:so({},Object(b.c)(["updateViewer","toggleTreeOpen"])),IdeFileRow:ie},uo=Object(M.a)(lo,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ide-file-list qa-file-list"},[e.showLoading?e._l(3,(function(e){return n("div",{key:e,staticClass:"multi-file-loading-container"},[n("gl-skeleton-loading")],1)})):[n("header",{staticClass:"ide-tree-header",class:e.headerClass},[n("nav-dropdown"),e._v(" "),e._t("header")],2),e._v(" "),n("div",{staticClass:"ide-tree-body h-100"},[e.currentTree.tree.length?e._l(e.currentTree.tree,(function(t){return n("file-tree",{key:t.key,attrs:{file:t,level:0,"file-row-component":e.$options.IdeFileRow},on:{toggleTreeOpen:e.toggleTreeOpen}})})):n("div",{staticClass:"file-row"},[e._v(e._s(e.__("No files")))])],2)]],2)}),[],!1,null,null,null).exports;function po(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?po(Object(n),!0).forEach((function(t){ho(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):po(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ho(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mo={components:{Upload:H,IdeTreeList:uo,NewEntryButton:z},computed:fo({},Object(b.e)(["currentBranchId"]),{},Object(b.d)(["currentProject","currentTree","activeFile"])),mounted:function(){var e=this;this.activeFile&&(this.activeFile.pending&&!this.activeFile.deleted?this.$router.push("/project".concat(this.activeFile.url),(function(){e.updateViewer("editor")})):this.activeFile.deleted&&this.resetOpenFiles())},methods:fo({},Object(b.c)(["updateViewer","openNewEntryModal","createTempEntry","resetOpenFiles"]))},go=Object(M.a)(mo,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ide-tree-list",{attrs:{"viewer-type":"editor"}},[n("template",{slot:"header"},[e._v("\n    "+e._s(e.__("Edit"))+"\n    "),n("div",{staticClass:"ide-tree-actions ml-auto d-flex"},[n("new-entry-button",{staticClass:"d-flex border-0 p-0 mr-3 qa-new-file",attrs:{label:e.__("New file"),"show-label":!1,icon:"doc-new"},on:{click:function(t){return e.openNewEntryModal({type:"blob"})}}}),e._v(" "),n("upload",{staticClass:"d-flex mr-3",attrs:{"show-label":!1,"button-css-classes":"border-0 p-0"},on:{create:e.createTempEntry}}),e._v(" "),n("new-entry-button",{staticClass:"d-flex border-0 p-0",attrs:{label:e.__("New directory"),"show-label":!1,icon:"folder-new"},on:{click:function(t){return e.openNewEntryModal({type:"tree"})}}})],1)])],2)}),[],!1,null,null,null).exports;n(72);function bo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bo(Object(n),!0).forEach((function(t){yo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wo={components:{PanelResizer:n(1164).a},props:{collapsible:{type:Boolean,required:!0},initialWidth:{type:Number,required:!0},minSize:{type:Number,required:!1,default:340},side:{type:String,required:!0}},data:function(){return{width:this.initialWidth}},computed:vo({},Object(b.e)({collapsed:function(e){return e["".concat(this.side,"PanelCollapsed")]}}),{panelStyle:function(){return this.collapsed?{}:{width:"".concat(this.width,"px")}}}),methods:vo({},Object(b.c)(["setPanelCollapsedStatus","setResizingStatus"]),{toggleFullbarCollapsed:function(){this.collapsed&&this.collapsible&&this.setPanelCollapsedStatus({side:this.side,collapsed:!this.collapsed})}}),maxSize:window.innerWidth/2},Oo=Object(M.a)(wo,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"multi-file-commit-panel",class:{"is-collapsed":e.collapsed&&e.collapsible},style:e.panelStyle,on:{click:e.toggleFullbarCollapsed}},[e._t("default"),e._v(" "),n("panel-resizer",{attrs:{size:e.width,enabled:!e.collapsed,"start-size":e.initialWidth,"min-size":e.minSize,"max-size":e.$options.maxSize,side:"right"===e.side?"left":"right"},on:{"update:size":function(t){e.width=t},"resize-start":function(t){return e.setResizingStatus(!0)},"resize-end":function(t){return e.setResizingStatus(!1)}}})],2)}),[],!1,null,null,null).exports;function _o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_o(Object(n),!0).forEach((function(t){Eo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Eo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Po={components:{Icon:B.a},directives:{tooltip:N.a},computed:jo({},Object(b.d)(["hasChanges"]),{},Object(b.e)(["currentActivityView"])),methods:jo({},Object(b.c)(["updateActivityBarView"]),{changedActivityView:function(e,t){e.currentTarget.blur(),this.updateActivityBarView(t),C()(e.currentTarget).tooltip("hide")}}),leftSidebarViews:T.m},Co=Object(M.a)(Po,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("nav",{staticClass:"ide-activity-bar"},[n("ul",{staticClass:"list-unstyled"},[n("li",[n("button",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"ide-sidebar-link js-ide-edit-mode",class:{active:e.currentActivityView===e.$options.leftSidebarViews.edit.name},attrs:{title:e.s__("IDE|Edit"),"aria-label":e.s__("IDE|Edit"),"data-container":"body","data-placement":"right",type:"button"},on:{click:function(t){return t.preventDefault(),e.changedActivityView(t,e.$options.leftSidebarViews.edit.name)}}},[n("icon",{attrs:{name:"code"}})],1)]),e._v(" "),n("li",[n("button",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"ide-sidebar-link js-ide-review-mode",class:{active:e.currentActivityView===e.$options.leftSidebarViews.review.name},attrs:{title:e.s__("IDE|Review"),"aria-label":e.s__("IDE|Review"),"data-container":"body","data-placement":"right",type:"button"},on:{click:function(t){return t.preventDefault(),e.changedActivityView(t,e.$options.leftSidebarViews.review.name)}}},[n("icon",{attrs:{name:"file-modified"}})],1)]),e._v(" "),n("li",{directives:[{name:"show",rawName:"v-show",value:e.hasChanges,expression:"hasChanges"}]},[n("button",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"ide-sidebar-link js-ide-commit-mode qa-commit-mode-tab",class:{active:e.currentActivityView===e.$options.leftSidebarViews.commit.name},attrs:{title:e.s__("IDE|Commit"),"aria-label":e.s__("IDE|Commit"),"data-container":"body","data-placement":"right",type:"button"},on:{click:function(t){return t.preventDefault(),e.changedActivityView(t,e.$options.leftSidebarViews.commit.name)}}},[n("icon",{attrs:{name:"commit"}})],1)])])])}),[],!1,null,null,null).exports,So=n(277),ko=n(328);function To(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Io={components:{Icon:B.a,FileIcon:ko.a},directives:{tooltip:N.a},props:{file:{type:Object,required:!0},keyPrefix:{type:String,required:!1,default:""},stagedList:{type:Boolean,required:!1,default:!1},activeFileKey:{type:String,required:!1,default:null}},computed:{iconName:function(){var e=this.stagedList?"-solid":"";return"".concat(Object(G.b)(this.file).icon).concat(e)},iconClass:function(){return"".concat(Object(G.b)(this.file).class," ml-auto mr-auto")},fullKey:function(){return"".concat(this.keyPrefix,"-").concat(this.file.key)},isActive:function(){return this.activeFileKey===this.fullKey},tooltipTitle:function(){return this.file.path===this.file.name?"":this.file.path}},methods:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?To(Object(n),!0).forEach((function(t){xo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):To(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(b.c)(["discardFileChanges","updateViewer","openPendingTab"]),{openFileInEditor:function(){var e=this;return"tree"===this.file.type?null:this.openPendingTab({file:this.file,keyPrefix:this.keyPrefix}).then((function(t){t&&e.updateViewer(T.r.diff)}))}})},Do=Object(M.a)(Io,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"multi-file-commit-list-item position-relative"},[n("div",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"multi-file-commit-list-path w-100 border-0 ml-0 mr-0",class:{"is-active":e.isActive},attrs:{title:e.tooltipTitle,role:"button"},on:{click:e.openFileInEditor}},[n("span",{staticClass:"multi-file-commit-list-file-path d-flex align-items-center"},[n("file-icon",{staticClass:"append-right-8",attrs:{"file-name":e.file.name}}),e._v(" "),e.file.prevName&&e.file.prevName!==e.file.name?[e._v("\n        "+e._s(e.file.prevName)+" \n      ")]:e._e(),e._v("\n      "+e._s(e.file.name)+"\n    ")],2),e._v(" "),n("div",{staticClass:"ml-auto d-flex align-items-center"},[n("div",{staticClass:"d-flex align-items-center ide-commit-list-changed-icon"},[n("icon",{class:e.iconClass,attrs:{name:e.iconName,size:16}})],1)])])])}),[],!1,null,null,null).exports;function Ro(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fo={components:{Icon:B.a,ListItem:Do,GlModal:k.a},directives:{tooltip:N.a},props:{fileList:{type:Array,required:!0},iconName:{type:String,required:!0},stagedList:{type:Boolean,required:!1,default:!1},activeFileKey:{type:String,required:!1,default:null},keyPrefix:{type:String,required:!0},emptyStateText:{type:String,required:!1,default:Object(j.a)("No changes")}},computed:{titleText:function(){return this.title?Object(j.e)(Object(j.a)("%{title} changes"),{title:this.title}):Object(j.a)("Changes")},filesLength:function(){return this.fileList.length}},methods:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ro(Object(n),!0).forEach((function(t){Mo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ro(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(b.c)(["stageAllChanges","unstageAllChanges","discardAllChanges"]),{openDiscardModal:function(){C()("#discard-all-changes").modal("show")},unstageAndDiscardAllChanges:function(){this.unstageAllChanges(),this.discardAllChanges()}}),discardModalText:Object(j.a)("You will lose all uncommitted changes you've made in this project. This action cannot be undone.")},Lo=Object(M.a)(Fo,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ide-commit-list-container"},[n("header",{staticClass:"multi-file-commit-panel-header d-flex mb-0"},[n("div",{staticClass:"d-flex align-items-center flex-fill"},[e._m(0),e._v(" "),n("strong",[e._v(" "+e._s(e.titleText)+" ")]),e._v(" "),n("div",{staticClass:"d-flex ml-auto"},[e.stagedList?e._e():n("button",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"d-flex ide-staged-action-btn p-0 border-0 align-items-center",class:{"disabled-content":!e.filesLength},attrs:{title:e.__("Discard all changes"),"aria-label":e.__("Discard all changes"),disabled:!e.filesLength,type:"button","data-placement":"bottom","data-container":"body","data-boundary":"viewport"},on:{click:e.openDiscardModal}},[n("icon",{staticClass:"ml-auto mr-auto position-top-0",attrs:{size:16,name:"remove-all"}})],1)])],1)]),e._v(" "),e.filesLength?n("ul",{staticClass:"multi-file-commit-list list-unstyled append-bottom-0"},e._l(e.fileList,(function(t){return n("li",{key:t.key},[n("list-item",{attrs:{file:t,"key-prefix":e.keyPrefix,"staged-list":e.stagedList,"active-file-key":e.activeFileKey}})],1)})),0):n("p",{staticClass:"multi-file-commit-list form-text text-muted text-center"},[e._v("\n    "+e._s(e.emptyStateText)+"\n  ")]),e._v(" "),e.stagedList?e._e():n("gl-modal",{attrs:{id:"discard-all-changes","footer-primary-button-text":e.__("Discard all changes"),"header-title-text":e.__("Discard all changes?"),"footer-primary-button-variant":"danger"},on:{submit:e.unstageAndDiscardAllChanges}},[e._v("\n    "+e._s(e.$options.discardModalText)+"\n  ")])],1)}),[function(){var e=this.$createElement;return(this._self._c||e)("icon",{staticClass:"append-right-8",attrs:{name:this.iconName,size:18}})}],!1,null,null,null).exports;function Ao(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var No={computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ao(Object(n),!0).forEach((function(t){qo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ao(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(b.e)(["lastCommitMsg","noChangesStateSvgPath"]))},Bo=Object(M.a)(No,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.lastCommitMsg?e._e():n("div",{staticClass:"multi-file-commit-panel-section ide-commit-empty-state js-empty-state"},[n("div",{staticClass:"ide-commit-empty-state-container"},[n("div",{staticClass:"svg-content svg-80"},[n("img",{attrs:{src:e.noChangesStateSvgPath}})]),e._v(" "),n("div",{staticClass:"append-right-default prepend-left-default"},[n("div",{staticClass:"text-content text-center"},[n("h4",[e._v(e._s(e.__("No changes")))]),e._v(" "),n("p",[e._v(e._s(e.__("Edit files in the editor and commit changes here")))])])])])])}),[],!1,null,null,null).exports;function $o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$o(Object(n),!0).forEach((function(t){zo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Go={components:{DeprecatedModal:So.a,CommitFilesList:Lo,EmptyState:Bo},directives:{tooltip:N.a},computed:Vo({},Object(b.e)(["changedFiles","stagedFiles","rightPanelCollapsed","lastCommitMsg","unusedSeal"]),{},Object(b.e)("commit",["commitMessage","submitCommitLoading"]),{},Object(b.d)(["lastOpenedFile","hasChanges","someUncommittedChanges","activeFile"]),{},Object(b.d)("commit",["discardDraftButtonDisabled"]),{showStageUnstageArea:function(){return Boolean(this.someUncommittedChanges||this.lastCommitMsg||!this.unusedSeal)},activeFileKey:function(){return this.activeFile?this.activeFile.key:null}}),watch:{hasChanges:function(){this.hasChanges||this.updateActivityBarView(T.m.edit.name)}},mounted:function(){var e=this;this.lastOpenedFile&&"tree"!==this.lastOpenedFile.type&&this.openPendingTab({file:this.lastOpenedFile,keyPrefix:this.lastOpenedFile.changed?T.q.unstaged:T.q.staged}).then((function(t){t&&e.updateViewer("diff")})).catch((function(e){throw e}))},methods:Vo({},Object(b.c)(["openPendingTab","updateViewer","updateActivityBarView"]),{},Object(b.c)("commit",["commitChanges","updateCommitAction"]),{forceCreateNewBranch:function(){var e=this;return this.updateCommitAction(Tr).then((function(){return e.commitChanges()}))}}),stageKeys:T.q},Uo=Object(M.a)(Go,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"multi-file-commit-panel-section"},[n("deprecated-modal",{attrs:{id:"ide-create-branch-modal","primary-button-label":e.__("Create new branch"),title:e.__("Branch has changed"),kind:"success"},on:{submit:e.forceCreateNewBranch}},[n("template",{slot:"body"},[e._v("\n      "+e._s(e.__("This branch has changed since you started editing.\n        Would you like to create a new branch?"))+"\n    ")])],2),e._v(" "),e.showStageUnstageArea?[n("commit-files-list",{staticClass:"is-first",attrs:{"key-prefix":e.$options.stageKeys.staged,"file-list":e.stagedFiles,"active-file-key":e.activeFileKey,"empty-state-text":e.__("There are no changes"),"icon-name":"unstaged"}})]:e._e(),e._v(" "),e.unusedSeal?n("empty-state"):e._e()],2)}),[],!1,null,null,null).exports,Ho=n(154),Wo={directives:{popover:n(657).a},components:{Icon:B.a},props:{text:{type:String,required:!0},placeholder:{type:String,required:!0}},data:function(){return{scrollTop:0,isFocused:!1}},computed:{allLines:function(){var e=this;return this.text.split("\n").map((function(t,n){return{text:t.substr(0,e.getLineLength(n))||" ",highlightedText:t.substr(e.getLineLength(n))}}))}},methods:{handleScroll:function(){var e=this;this.$refs.textarea&&this.$nextTick((function(){e.scrollTop=e.$refs.textarea.scrollTop}))},getLineLength:function(e){return 0===e?T.d:T.c},onInput:function(e){this.$emit("input",e.target.value)},onCtrlEnter:function(){this.isFocused&&this.$emit("submit")},updateIsFocused:function(e){this.isFocused=e}},popoverOptions:{trigger:"hover",placement:"top",content:Object(j.e)(Object(j.a)("\n        The character highlighter helps you keep the subject line to %{titleLength} characters\n        and wrap the body at %{bodyLength} so they are readable in git.\n      "),{titleLength:T.d,bodyLength:T.c})}},Jo=Object(M.a)(Wo,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("fieldset",{staticClass:"common-note-form ide-commit-message-field"},[n("div",{staticClass:"md-area",class:{"is-focused":e.isFocused}},[e._m(0),e._v(" "),n("div",{staticClass:"ide-commit-message-textarea-container"},[n("div",{staticClass:"ide-commit-message-highlights-container"},[n("div",{staticClass:"note-textarea highlights monospace",style:{transform:"translate3d(0, "+-e.scrollTop+"px, 0)"}},e._l(e.allLines,(function(t,r){return n("div",{key:r},[n("span",{domProps:{textContent:e._s(t.text)}}),n("mark",{directives:[{name:"show",rawName:"v-show",value:t.highlightedText,expression:"line.highlightedText"}],domProps:{textContent:e._s(t.highlightedText)}})])})),0)]),e._v(" "),n("textarea",{ref:"textarea",staticClass:"note-textarea ide-commit-message-textarea",attrs:{placeholder:e.placeholder,dir:"auto",name:"commit-message"},domProps:{value:e.text},on:{scroll:e.handleScroll,input:e.onInput,focus:function(t){return e.updateIsFocused(!0)},blur:function(t){return e.updateIsFocused(!1)},keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.ctrlKey?e.onCtrlEnter(t):null},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.metaKey?e.onCtrlEnter(t):null}]}})])])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"md-header"},[t("ul",{staticClass:"nav-links"},[t("li",[this._v("\n          "+this._s(this.__("Commit Message"))+"\n          "),t("span",{directives:[{name:"popover",rawName:"v-popover",value:this.$options.popoverOptions,expression:"$options.popoverOptions"}],staticClass:"form-text text-muted prepend-left-10"},[t("icon",{attrs:{name:"question"}})],1)])])])}],!1,null,null,null).exports,Ko=n(828);function Yo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yo(Object(n),!0).forEach((function(t){Xo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zo={directives:{GlTooltip:Ko.a},props:{value:{type:String,required:!0},label:{type:String,required:!1,default:null},checked:{type:Boolean,required:!1,default:!1},showInput:{type:Boolean,required:!1,default:!1},disabled:{type:Boolean,required:!1,default:!1},title:{type:String,required:!1,default:""}},computed:Qo({},Object(b.e)("commit",["commitAction","newBranchName"]),{},Object(b.d)("commit",["placeholderBranchName"]),{tooltipTitle:function(){return this.disabled?this.title:""}}),methods:Qo({},Object(b.c)("commit",["updateCommitAction","updateBranchName"]))},es=Object(M.a)(Zo,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("fieldset",[n("label",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:e.tooltipTitle,expression:"tooltipTitle"}],class:{"is-disabled":e.disabled}},[n("input",{attrs:{disabled:e.disabled,type:"radio",name:"commit-action"},domProps:{value:e.value,checked:e.commitAction===e.value},on:{change:function(t){return e.updateCommitAction(t.target.value)}}}),e._v(" "),n("span",{staticClass:"prepend-left-10"},[e.label?n("span",{staticClass:"ide-option-label"},[e._v(" "+e._s(e.label)+" ")]):e._t("default")],2)]),e._v(" "),e.commitAction===e.value&&e.showInput?n("div",{staticClass:"ide-commit-new-branch"},[n("input",{staticClass:"form-control monospace",attrs:{placeholder:e.placeholderBranchName,type:"text"},domProps:{value:e.newBranchName},on:{input:function(t){return e.updateBranchName(t.target.value)}}})]):e._e()])}),[],!1,null,null,null).exports;function ts(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ns(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ts(Object(n),!0).forEach((function(t){rs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ts(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var is=Object(b.a)("commit"),as=is.mapActions,os=is.mapGetters,ss={directives:{GlTooltip:Ko.a},computed:ns({},os(["shouldHideNewMrOption","shouldDisableNewMrOption","shouldCreateMR"]),{tooltipText:function(){return this.shouldDisableNewMrOption?Object(j.d)("IDE|This option is disabled because you are not allowed to create merge requests in this project."):""}}),methods:ns({},as(["toggleShouldCreateMR"]))},cs=Object(M.a)(ss,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.shouldHideNewMrOption?e._e():n("fieldset",[n("hr",{staticClass:"my-2"}),e._v(" "),n("label",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:e.tooltipText,expression:"tooltipText"}],staticClass:"mb-0 js-ide-commit-new-mr",class:{"is-disabled":e.shouldDisableNewMrOption}},[n("input",{attrs:{disabled:e.shouldDisableNewMrOption,type:"checkbox","data-qa-selector":"start_new_mr_checkbox"},domProps:{checked:e.shouldCreateMR},on:{change:e.toggleShouldCreateMR}}),e._v(" "),n("span",{staticClass:"prepend-left-10 ide-option-label"},[e._v("\n      "+e._s(e.__("Start a new merge request"))+"\n    ")])])])}),[],!1,null,null,null).exports;function ls(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function us(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ls(Object(n),!0).forEach((function(t){ds(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ls(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ds(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ps=Object(b.a)("commit"),fs=ps.mapState,hs=ps.mapActions,ms={components:{RadioGroup:es,NewMergeRequestOption:cs},computed:us({},Object(b.e)(["currentBranchId","changedFiles","stagedFiles"]),{},fs(["commitAction"]),{},Object(b.d)(["currentBranch"]),{commitToCurrentBranchText:function(){return Object(j.e)(Object(j.d)("IDE|Commit to %{branchName} branch"),{branchName:'<strong class="monospace">'.concat(y.a.escape(this.currentBranchId),"</strong>")},!1)},containsStagedChanges:function(){return this.changedFiles.length>0&&this.stagedFiles.length>0}}),watch:{containsStagedChanges:function(){this.updateSelectedCommitAction()}},mounted:function(){this.updateSelectedCommitAction()},methods:us({},hs(["updateCommitAction"]),{updateSelectedCommitAction:function(){if(this.currentBranch){var e=this.currentBranch,t=e.can_push,n=void 0!==t&&t,r=e.default;n&&!(void 0!==r&&r)?this.updateCommitAction(kr):this.updateCommitAction(Tr)}}}),commitToCurrentBranch:kr,commitToNewBranch:Tr,currentBranchPermissionsTooltip:Object(j.d)("IDE|This option is disabled because you don't have write permissions for the current branch.")},gs=Object(M.a)(ms,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"append-bottom-15 ide-commit-options"},[n("radio-group",{attrs:{value:e.$options.commitToCurrentBranch,disabled:e.currentBranch&&!e.currentBranch.can_push,title:e.$options.currentBranchPermissionsTooltip}},[n("span",{staticClass:"ide-option-label",attrs:{"data-qa-selector":"commit_to_current_branch_radio"},domProps:{innerHTML:e._s(e.commitToCurrentBranchText)}})]),e._v(" "),n("radio-group",{attrs:{value:e.$options.commitToNewBranch,label:e.__("Create a new branch"),"show-input":!0}}),e._v(" "),n("new-merge-request-option")],1)}),[],!1,null,null,null).exports;function bs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ys={computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bs(Object(n),!0).forEach((function(t){vs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(b.e)(["lastCommitMsg","committedStateSvgPath"]))},ws=Object(M.a)(ys,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"multi-file-commit-panel-success-message",attrs:{"aria-live":"assertive"}},[n("div",{staticClass:"svg-content svg-80"},[n("img",{attrs:{src:e.committedStateSvgPath,alt:e.s__("IDE|Successful commit")}})]),e._v(" "),n("div",{staticClass:"append-right-default prepend-left-default"},[n("div",{staticClass:"text-content text-center"},[n("h4",[e._v(e._s(e.__("All changes are committed")))]),e._v(" "),n("p",{domProps:{innerHTML:e._s(e.lastCommitMsg)}})])])])}),[],!1,null,null,null).exports;function Os(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Os(Object(n),!0).forEach((function(t){js(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Os(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function js(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Es={components:{Actions:gs,LoadingButton:Ho.a,CommitMessageField:Jo,SuccessMessage:ws},data:function(){return{isCompact:!0,componentHeight:null}},computed:_s({},Object(b.e)(["changedFiles","stagedFiles","currentActivityView","lastCommitMsg"]),{},Object(b.e)("commit",["commitMessage","submitCommitLoading"]),{},Object(b.d)(["hasChanges"]),{},Object(b.d)("commit",["discardDraftButtonDisabled","preBuiltCommitMessage"]),{overviewText:function(){return Object(j.c)("%d changed file","%d changed files",this.stagedFiles.length)},commitButtonText:function(){return this.stagedFiles.length?Object(j.a)("Commit"):Object(j.a)("Stage & Commit")},currentViewIsCommitView:function(){return this.currentActivityView===T.m.commit.name}}),watch:{currentActivityView:function(){this.lastCommitMsg?this.isCompact=!1:this.isCompact=!(this.currentViewIsCommitView&&window.innerHeight>=T.e)},lastCommitMsg:function(){this.isCompact=this.currentActivityView!==T.m.commit.name&&""===this.lastCommitMsg}},methods:_s({},Object(b.c)(["updateActivityBarView"]),{},Object(b.c)("commit",["updateCommitMessage","discardDraft","commitChanges"]),{toggleIsCompact:function(){var e=this;this.currentViewIsCommitView?this.isCompact=!this.isCompact:this.updateActivityBarView(T.m.commit.name).then((function(){e.isCompact=!1})).catch((function(e){throw e}))},beforeEnterTransition:function(){var e=this.isCompact?this.$refs.formEl&&this.$refs.formEl.offsetHeight:this.$refs.compactEl&&this.$refs.compactEl.offsetHeight;this.componentHeight=e},enterTransition:function(){var e=this;this.$nextTick((function(){var t=e.isCompact?e.$refs.compactEl&&e.$refs.compactEl.offsetHeight:e.$refs.formEl&&e.$refs.formEl.offsetHeight;e.componentHeight=t}))},afterEndTransition:function(){this.componentHeight=null}})},Ps=Object(M.a)(Es,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"multi-file-commit-form",class:{"is-compact":e.isCompact,"is-full":!e.isCompact},style:{height:e.componentHeight?e.componentHeight+"px":null}},[n("transition",{attrs:{name:"commit-form-slide-up"},on:{"before-enter":e.beforeEnterTransition,enter:e.enterTransition,"after-enter":e.afterEndTransition}},[e.isCompact?n("div",{ref:"compactEl",staticClass:"commit-form-compact"},[n("button",{staticClass:"btn btn-primary btn-sm btn-block qa-begin-commit-button",attrs:{disabled:!e.hasChanges,type:"button"},on:{click:e.toggleIsCompact}},[e._v("\n        "+e._s(e.__("Commit"))+"\n      ")]),e._v(" "),n("p",{staticClass:"text-center bold"},[e._v(e._s(e.overviewText))])]):e._e(),e._v(" "),e.isCompact?e._e():n("form",{ref:"formEl",on:{submit:function(t){return t.preventDefault(),t.stopPropagation(),e.commitChanges(t)}}},[n("transition",{attrs:{name:"fade"}},[n("success-message",{directives:[{name:"show",rawName:"v-show",value:e.lastCommitMsg,expression:"lastCommitMsg"}]})],1),e._v(" "),n("commit-message-field",{attrs:{text:e.commitMessage,placeholder:e.preBuiltCommitMessage},on:{input:e.updateCommitMessage,submit:e.commitChanges}}),e._v(" "),n("div",{staticClass:"clearfix prepend-top-15"},[n("actions"),e._v(" "),n("loading-button",{attrs:{loading:e.submitCommitLoading,label:e.commitButtonText,"container-class":"btn btn-success btn-sm float-left qa-commit-button"},on:{click:e.commitChanges}}),e._v(" "),e.discardDraftButtonDisabled?n("button",{staticClass:"btn btn-default btn-sm float-right",attrs:{type:"button"},on:{click:e.toggleIsCompact}},[e._v("\n          "+e._s(e.__("Collapse"))+"\n        ")]):n("button",{staticClass:"btn btn-default btn-sm float-right",attrs:{type:"button"},on:{click:e.discardDraft}},[e._v("\n          "+e._s(e.__("Discard draft"))+"\n        ")])],1)],1)])],1)}),[],!1,null,null,null).exports,Cs={props:{viewer:{type:String,required:!0},mergeRequestId:{type:Number,required:!0}},computed:{mergeReviewLine:function(){return Object(j.e)(Object(j.a)("Reviewing (merge request !%{mergeRequestId})"),{mergeRequestId:this.mergeRequestId})}},methods:{changeMode:function(e){this.$emit("click",e)}},viewerTypes:T.r};function Ss(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ks(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ss(Object(n),!0).forEach((function(t){Ts(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ss(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ts(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xs={components:{IdeTreeList:uo,EditorModeDropdown:Object(M.a)(Cs,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dropdown"},[n("button",{staticClass:"btn btn-link",attrs:{type:"button","data-toggle":"dropdown"}},[e._v(e._s(e.__("Edit")))]),e._v(" "),n("div",{staticClass:"dropdown-menu dropdown-menu-selectable dropdown-open-left"},[n("ul",[n("li",[n("a",{class:{"is-active":e.viewer===e.$options.viewerTypes.mr},attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.changeMode(e.$options.viewerTypes.mr)}}},[n("strong",{staticClass:"dropdown-menu-inner-title"},[e._v(" "+e._s(e.mergeReviewLine)+" ")]),e._v(" "),n("span",{staticClass:"dropdown-menu-inner-content"},[e._v("\n            "+e._s(e.__("Compare changes with the merge request target branch"))+"\n          ")])])]),e._v(" "),n("li",[n("a",{class:{"is-active":e.viewer===e.$options.viewerTypes.diff},attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.changeMode(e.$options.viewerTypes.diff)}}},[n("strong",{staticClass:"dropdown-menu-inner-title"},[e._v(e._s(e.__("Reviewing")))]),e._v(" "),n("span",{staticClass:"dropdown-menu-inner-content"},[e._v("\n            "+e._s(e.__("Compare changes with the last commit"))+"\n          ")])])])])])])}),[],!1,null,null,null).exports},computed:ks({},Object(b.d)(["currentMergeRequest","activeFile"]),{},Object(b.e)(["viewer","currentMergeRequestId"]),{showLatestChangesText:function(){return!this.currentMergeRequestId||this.viewer===T.r.diff},showMergeRequestText:function(){return this.currentMergeRequestId&&this.viewer===T.r.mr},mergeRequestId:function(){return"!".concat(this.currentMergeRequest.iid)}}),mounted:function(){var e=this;this.activeFile&&this.activeFile.pending&&!this.activeFile.deleted?this.$router.push("/project".concat(this.activeFile.url),(function(){e.updateViewer("editor")})):this.activeFile&&this.activeFile.deleted&&this.resetOpenFiles(),this.$nextTick((function(){e.updateViewer(e.currentMergeRequestId?T.r.mr:T.r.diff)}))},methods:ks({},Object(b.c)(["updateViewer","resetOpenFiles"]))},Is=Object(M.a)(xs,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ide-tree-list",{attrs:{"viewer-type":e.viewer,"header-class":"ide-review-header"}},[n("template",{slot:"header"},[n("div",{staticClass:"ide-review-button-holder"},[e._v("\n      "+e._s(e.__("Review"))+"\n      "),e.currentMergeRequest?n("editor-mode-dropdown",{attrs:{viewer:e.viewer,"merge-request-id":e.currentMergeRequest.iid},on:{click:e.updateViewer}}):e._e()],1),e._v(" "),n("div",{staticClass:"prepend-top-5 ide-review-sub-header"},[e.showLatestChangesText?[e._v("\n        "+e._s(e.__("Latest changes"))+"\n      ")]:e.showMergeRequestText?[e._v("\n        "+e._s(e.__("Merge request"))+" ("),e.currentMergeRequest?n("a",{attrs:{href:e.currentMergeRequest.web_url},domProps:{textContent:e._s(e.mergeRequestId)}}):e._e(),e._v(")\n      ")]:e._e()],2)])],2)}),[],!1,null,null,null).exports,Ds=n(390),Rs=n(1048),Ms=n(798),Fs={name:"ProjectAvatarImage",props:{lazy:{type:Boolean,required:!1,default:!1},imgSrc:{type:String,required:!1,default:Rs.a},cssClasses:{type:String,required:!1,default:""},imgAlt:{type:String,required:!1,default:Object(j.a)("project avatar")},size:{type:Number,required:!1,default:20}},computed:{sanitizedSource:function(){return""===this.imgSrc||null===this.imgSrc?Rs.a:this.imgSrc},resultantSrcAttribute:function(){return this.lazy?Ms.b:this.sanitizedSource},avatarSizeClass:function(){return"s".concat(this.size)}}},Ls=Object(M.a)(Fs,(function(){var e,t=this,n=t.$createElement;return(t._self._c||n)("img",{staticClass:"avatar",class:(e={lazy:t.lazy},e[t.avatarSizeClass]=!0,e[t.cssClasses]=!0,e),attrs:{src:t.resultantSrcAttribute,width:t.size,height:t.size,alt:t.imgAlt,"data-src":t.sanitizedSource}})}),[],!1,null,null,null).exports,As={components:{Identicon:Ds.a,ProjectAvatarImage:Ls},props:{project:{type:Object,required:!0},size:{type:Number,default:40}},computed:{sizeClass:function(){return"s".concat(this.size)}}},qs={components:{ProjectAvatarDefault:Object(M.a)(As,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"avatar-container rect-avatar project-avatar",class:e.sizeClass},[e.project.avatar_url?n("project-avatar-image",{attrs:{"link-href":e.project.path,"img-src":e.project.avatar_url,"img-alt":e.project.name,"img-size":e.size}}):n("identicon",{staticClass:"rect-avatar",attrs:{"entity-id":e.project.id,"entity-name":e.project.name,"size-class":e.sizeClass}})],1)}),[],!1,null,null,null).exports},props:{project:{type:Object,required:!0}}},Ns=Object(M.a)(qs,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"context-header ide-context-header"},[n("a",{attrs:{href:e.project.web_url,title:e.s__("IDE|Go to project")}},[n("project-avatar-default",{attrs:{project:e.project,size:48}}),e._v(" "),n("span",{staticClass:"ide-sidebar-project-title"},[n("span",{staticClass:"sidebar-context-title"},[e._v(" "+e._s(e.project.name)+" ")]),e._v(" "),n("span",{staticClass:"sidebar-context-title text-secondary"},[e._v("\n        "+e._s(e.project.path_with_namespace)+"\n      ")])])],1)])}),[],!1,null,null,null).exports;function Bs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vs={components:{GlSkeletonLoading:L.a,ResizablePanel:Oo,ActivityBar:Co,RepoCommitSection:Uo,IdeTree:go,CommitForm:Ps,IdeReview:Is,SuccessMessage:ws,IdeProjectHeader:Ns},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bs(Object(n),!0).forEach((function(t){$s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(b.e)(["loading","currentActivityView","changedFiles","stagedFiles","lastCommitMsg"]),{},Object(b.d)(["currentProject","someUncommittedChanges"]),{showSuccessMessage:function(){return this.currentActivityView===T.m.edit.name&&this.lastCommitMsg&&!this.someUncommittedChanges}})},zs=Object(M.a)(Vs,(function(){var e=this.$createElement,t=this._self._c||e;return t("resizable-panel",{staticClass:"flex-column",attrs:{collapsible:!1,"initial-width":340,side:"left"}},[this.loading?[t("div",{staticClass:"multi-file-commit-panel-inner"},this._l(3,(function(e){return t("div",{key:e,staticClass:"multi-file-loading-container"},[t("gl-skeleton-loading")],1)})),0)]:[t("ide-project-header",{attrs:{project:this.currentProject}}),this._v(" "),t("div",{staticClass:"ide-context-body d-flex flex-fill"},[t("activity-bar"),this._v(" "),t("div",{staticClass:"multi-file-commit-panel-inner"},[t("div",{staticClass:"multi-file-commit-panel-inner-content"},[t(this.currentActivityView,{tag:"component"})],1),this._v(" "),t("commit-form")],1)],1)]],2)}),[],!1,null,null,null).exports,Gs=(n(62),{components:{icon:B.a},directives:{tooltip:N.a},props:{file:{type:Object,required:!0}},computed:{lockTooltip:function(){return Object(j.e)(Object(j.a)("Locked by %{fileLockUserName}"),{fileLockUserName:this.file.file_lock.user.name})}}});function Us(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Hs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ws={components:{FileStatusIcon:Object(M.a)(Gs,(function(){var e=this.$createElement,t=this._self._c||e;return this.file.file_lock?t("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],attrs:{title:this.lockTooltip,"data-container":"body"}},[t("icon",{staticClass:"file-status-icon",attrs:{name:"lock"}})],1):this._e()}),[],!1,null,null,null).exports,FileIcon:ko.a,Icon:B.a,ChangedFileIcon:$.a},props:{tab:{type:Object,required:!0}},data:function(){return{tabMouseOver:!1}},computed:{closeLabel:function(){return this.fileHasChanged?Object(j.e)(Object(j.a)("%{tabname} changed"),{tabname:this.tab.name}):Object(j.e)(Object(j.a)("Close %{tabname}",{tabname:this.tab.name}))},showChangedIcon:function(){return!!this.tab.pending||!!this.fileHasChanged&&!this.tabMouseOver},fileHasChanged:function(){return this.tab.changed||this.tab.tempFile||this.tab.staged||this.tab.deleted}},methods:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Us(Object(n),!0).forEach((function(t){Hs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Us(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(b.c)(["closeFile","updateDelayViewerUpdated","openPendingTab"]),{clickFile:function(e){e.active||(this.updateDelayViewerUpdated(!0),e.pending?this.openPendingTab({file:e,keyPrefix:e.staged?"staged":"unstaged"}):this.$router.push("/project".concat(e.url)))},mouseOverTab:function(){this.fileHasChanged&&(this.tabMouseOver=!0)},mouseOutTab:function(){this.fileHasChanged&&(this.tabMouseOver=!1)}})};function Js(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ks(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ys={components:{RepoTab:Object(M.a)(Ws,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{class:{active:e.tab.active,disabled:e.tab.pending},on:{click:function(t){return e.clickFile(e.tab)},mouseover:e.mouseOverTab,mouseout:e.mouseOutTab}},[n("div",{staticClass:"multi-file-tab",attrs:{title:e.tab.url}},[n("file-icon",{attrs:{"file-name":e.tab.name,size:16}}),e._v("\n    "+e._s(e.tab.name)+"\n    "),n("file-status-icon",{attrs:{file:e.tab}})],1),e._v(" "),n("button",{staticClass:"multi-file-tab-close",attrs:{"aria-label":e.closeLabel,disabled:e.tab.pending,type:"button"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.closeFile(e.tab)}}},[e.showChangedIcon?n("changed-file-icon",{attrs:{file:e.tab}}):n("icon",{attrs:{size:12,name:"close"}})],1)])}),[],!1,null,null,null).exports},props:{activeFile:{type:Object,required:!0},files:{type:Array,required:!0},viewer:{type:String,required:!0},hasChanges:{type:Boolean,required:!0},mergeRequestId:{type:String,required:!1,default:""}},methods:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Js(Object(n),!0).forEach((function(t){Ks(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Js(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(b.c)(["updateViewer","removePendingTab"]),{openFileViewer:function(e){var t=this;return this.updateViewer(e),this.activeFile.pending?this.removePendingTab(this.activeFile).then((function(){Ma.push("/project".concat(t.activeFile.url))})):null}})},Qs=Object(M.a)(Ys,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"multi-file-tabs"},[t("ul",{ref:"tabsScroller",staticClass:"list-unstyled append-bottom-0"},this._l(this.files,(function(e){return t("repo-tab",{key:e.key,attrs:{tab:e}})})),1)])}),[],!1,null,null,null).exports;function Xs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ec={computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xs(Object(n),!0).forEach((function(t){Zs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(b.d)(["activeFile"]))},tc=Object(M.a)(ec,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ide-status-list d-flex"},[e.activeFile?[n("div",{staticClass:"ide-status-file"},[e._v(e._s(e.activeFile.name))]),e._v(" "),n("div",{staticClass:"ide-status-file"},[e._v(e._s(e.activeFile.eol))]),e._v(" "),e.activeFile.binary?e._e():n("div",{staticClass:"ide-status-file"},[e._v("\n      "+e._s(e.activeFile.editorRow)+":"+e._s(e.activeFile.editorColumn)+"\n    ")]),e._v(" "),n("div",{staticClass:"ide-status-file"},[e._v(e._s(e.activeFile.fileLanguage))])]:e._e(),e._v(" "),e._t("default")],2)}),[],!1,null,null,null).exports,nc=n(103),rc=n(301),ic={components:{GlIcon:nc.a,GlLink:rc.a},props:{text:{type:String,required:!0},url:{type:String,required:!0}}},ac=Object(M.a)(ic,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex-center flex-nowrap text-nowrap js-ide-status-mr"},[n("gl-icon",{attrs:{name:"merge-request"}}),e._v(" "),n("span",{staticClass:"ml-1 d-none d-sm-block"},[e._v(e._s(e.s__("WebIDE|Merge request")))]),e._v(" "),n("gl-link",{staticClass:"ml-1",attrs:{href:e.url}},[e._v(e._s(e.text))])],1)}),[],!1,null,null,null).exports,oc=n(189),sc=n(197),cc=n(236);function lc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function uc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lc(Object(n),!0).forEach((function(t){dc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pc,fc={components:{icon:B.a,userAvatarImage:cc.a,CiIcon:sc.a,IdeStatusList:tc,IdeStatusMr:ac},directives:{tooltip:N.a},mixins:[oc.a],data:function(){return{lastCommitFormattedAge:null}},computed:uc({},Object(b.e)(["currentBranchId","currentProjectId"]),{},Object(b.d)(["currentProject","lastCommit","currentMergeRequest"]),{},Object(b.e)("pipelines",["latestPipeline"])),watch:{lastCommit:function(){this.initPipelinePolling()}},mounted:function(){this.startTimer()},beforeDestroy:function(){this.intervalId&&clearInterval(this.intervalId),this.stopPipelinePolling()},methods:uc({},Object(b.c)("rightPane",{openRightPane:"open"}),{},Object(b.c)("pipelines",["fetchLatestPipeline","stopPipelinePolling"]),{startTimer:function(){var e=this;this.intervalId=setInterval((function(){e.commitAgeUpdate()}),1e3)},initPipelinePolling:function(){this.lastCommit&&this.fetchLatestPipeline()},commitAgeUpdate:function(){this.lastCommit&&(this.lastCommitFormattedAge=this.timeFormatted(this.lastCommit.committed_date))},getCommitPath:function(e){return"".concat(this.currentProject.web_url,"/commit/").concat(e)}}),rightSidebarViews:T.p},hc=Object(M.a)(fc,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("footer",{staticClass:"ide-status-bar"},[e.lastCommit?n("div",{staticClass:"ide-status-branch"},[e.latestPipeline&&e.latestPipeline.details?n("span",{staticClass:"ide-status-pipeline"},[n("button",{staticClass:"p-0 border-0 bg-transparent",attrs:{type:"button"},on:{click:function(t){return e.openRightPane(e.$options.rightSidebarViews.pipelines)}}},[n("ci-icon",{directives:[{name:"tooltip",rawName:"v-tooltip"}],attrs:{status:e.latestPipeline.details.status,title:e.latestPipeline.details.status.text}})],1),e._v("\n      Pipeline\n      "),n("a",{staticClass:"monospace",attrs:{href:e.latestPipeline.details.status.details_path}},[e._v("#"+e._s(e.latestPipeline.id))]),e._v("\n      "+e._s(e.latestPipeline.details.status.text)+" for\n    ")]):e._e(),e._v(" "),n("icon",{attrs:{name:"commit"}}),e._v(" "),n("a",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"commit-sha",attrs:{title:e.lastCommit.message,href:e.getCommitPath(e.lastCommit.short_id)}},[e._v(e._s(e.lastCommit.short_id))]),e._v("\n    by\n    "),n("user-avatar-image",{attrs:{"css-classes":"ide-status-avatar",size:18,"img-src":e.latestPipeline&&e.latestPipeline.commit.author_gravatar_url,"img-alt":e.lastCommit.author_name,"tooltip-text":e.lastCommit.author_name}}),e._v("\n    "+e._s(e.lastCommit.author_name)+"\n    "),n("time",{directives:[{name:"tooltip",rawName:"v-tooltip"}],attrs:{datetime:e.lastCommit.committed_date,title:e.tooltipTitle(e.lastCommit.committed_date),"data-placement":"top","data-container":"body"}},[e._v(e._s(e.lastCommitFormattedAge))])],1):e._e(),e._v(" "),e.currentMergeRequest?n("ide-status-mr",{staticClass:"mx-3",attrs:{url:e.currentMergeRequest.web_url,text:e.currentMergeRequest.references.short}}):e._e(),e._v(" "),n("ide-status-list",{staticClass:"ml-auto"})],1)}),[],!1,null,null,null).exports,mc=$e.a.CancelToken,gc={components:{GlSkeletonLoading:L.a},props:{content:{type:String,required:!0},filePath:{type:String,required:!1,default:""},projectPath:{type:String,required:!0}},data:function(){return{previewContent:null,isLoading:!1}},watch:{content:function(){this.previewContent=null}},created:function(){pc=mc.source(),this.fetchMarkdownPreview()},updated:function(){this.fetchMarkdownPreview()},destroyed:function(){this.isLoading&&pc.cancel(Object(j.a)("Cancelling Preview"))},methods:{fetchMarkdownPreview:function(){var e=this;if(this.content&&null===this.previewContent){this.isLoading=!0;var t={text:this.content,path:this.filePath},n={cancelToken:pc.token};$e.a.post("".concat(gon.relative_url_root,"/").concat(this.projectPath,"/preview_markdown"),t,n).then((function(t){var n=t.data;e.previewContent=n.body,e.isLoading=!1,e.$nextTick((function(){C()(e.$refs["markdown-preview"]).renderGFM()}))})).catch((function(){e.previewContent=Object(j.a)("An error occurred while fetching markdown preview"),e.isLoading=!1}))}}}},bc=Object(M.a)(gc,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{ref:"markdown-preview",staticClass:"md-previewer"},[this.isLoading?t("gl-skeleton-loading"):t("div",{staticClass:"md",domProps:{innerHTML:this._s(this.previewContent)}})],1)}),[],!1,null,null,null).exports,vc=n(326),yc=n(671),wc={props:{content:{type:String,default:""},path:{type:String,required:!0},fileSize:{type:Number,required:!1,default:0},filePath:{type:String,required:!1,default:""},projectPath:{type:String,required:!1,default:""},type:{type:String,required:!1,default:""}},computed:{viewer:function(){if(!this.path)return null;if(!this.type)return yc.a;switch(this.type){case"markdown":return bc;case"image":return vc.a;default:return yc.a}}}},Oc=Object(M.a)(wc,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"preview-container"},[t(this.viewer,{tag:"component",attrs:{path:this.path,"file-path":this.filePath,"file-size":this.fileSize,"project-path":this.projectPath,content:this.content}})],1)}),[],!1,null,null,null).exports,_c=n(682),jc=n(245);n(1063),n(1064),n(1065),n(1066),n(1067),n(1068),n(1069),n(1070),n(1071),n(1072),n(1073),n(1074),n(1075),n(1076);function Ec(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Pc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Cc=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.editor=t,this.decorations=new Map,this.editorDecorations=new Map}var t,n,r;return t=e,(n=[{key:"getAllDecorationsForModel",value:function(e){if(!this.decorations.has(e.url))return[];var t=this.decorations.get(e.url),n=[];return t.forEach((function(e){return n.push.apply(n,Ec(e))})),n}},{key:"addDecorations",value:function(e,t,n){var r=this.decorations.get(e.url)||new Map;r.set(t,n),this.decorations.set(e.url,r),this.decorate(e)}},{key:"decorate",value:function(e){if(this.editor.instance){var t=this.getAllDecorationsForModel(e),n=this.editorDecorations.get(e.url)||[];this.editorDecorations.set(e.url,this.editor.instance.deltaDecorations(n,t))}}},{key:"hasDecorations",value:function(e){return this.decorations.has(e.url)}},{key:"removeDecorations",value:function(e){this.decorations.delete(e.url),this.editorDecorations.delete(e.url)}},{key:"dispose",value:function(){this.decorations.clear(),this.editorDecorations.clear()}}])&&Pc(t.prototype,n),r&&Pc(t,r),e}(),Sc=n(1609),kc=n.n(Sc);n(1022),n(1023),n(1024),n(1025),n(1026),n(1027),n(1028),n(1029),n(1030),n(1031),n(1032),n(1033),n(1034),n(1035),n(1036),n(1037),n(1038);function Tc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var xc=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.disposers=new Set}var t,n,r;return t=e,(n=[{key:"add",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];n.forEach((function(t){return e.disposers.add(t)}))}},{key:"dispose",value:function(){this.disposers.forEach((function(e){return e.dispose()})),this.disposers.clear()}}])&&Tc(t.prototype,n),r&&Tc(t,r),e}();function Ic(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Dc=function(e){return e.modified?"modified":e.added?"added":e.removed?"removed":""},Rc=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.disposable=new xc,this.models=new Map,this.editorSimpleWorker=null,this.modelManager=t,this.decorationsController=n,this.dirtyDiffWorker=new kc.a,this.throttledComputeDiff=Object(v.throttle)(this.computeDiff,250),this.decorate=this.decorate.bind(this),this.dirtyDiffWorker.addEventListener("message",this.decorate)}var t,n,r;return t=e,(n=[{key:"attachModel",value:function(e){var t=this;this.models.has(e.url)||(e.onChange((function(){return t.throttledComputeDiff(e)})),e.onDispose((function(){t.decorationsController.removeDecorations(e),t.models.delete(e.url)})),this.models.set(e.url,e))}},{key:"computeDiff",value:function(e){this.dirtyDiffWorker.postMessage({path:e.path,originalContent:e.getOriginalModel().getValue(),newContent:e.getModel().getValue()})}},{key:"reDecorate",value:function(e){this.decorationsController.hasDecorations(e)?this.decorationsController.decorate(e):this.computeDiff(e)}},{key:"decorate",value:function(e){var t=e.data,n=t.changes.map((function(e){return function(e){return{range:new jc.Range(e.lineNumber,1,e.endLineNumber,1),options:{isWholeLine:!0,linesDecorationsClassName:"dirty-diff dirty-diff-".concat(Dc(e))}}}(e)})),r=this.modelManager.getModel(t.path);this.decorationsController.addDecorations(r,"dirtyDiff",n)}},{key:"dispose",value:function(){this.disposable.dispose(),this.models.clear(),this.dirtyDiffWorker.removeEventListener("message",this.decorate),this.dirtyDiffWorker.terminate()}}])&&Ic(t.prototype,n),r&&Ic(t,r),e}();function Mc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Fc=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.disposable=new xc,this.file=t,this.head=n,this.content=""!==t.content||t.deleted?t.content:t.raw,this.disposable.add(this.originalModel=jc.editor.createModel(n?n.content:this.file.raw,void 0,new jc.Uri("gitlab",!1,"original/".concat(this.path))),this.model=jc.editor.createModel(this.content,void 0,new jc.Uri("gitlab",!1,this.path))),this.file.mrChange&&this.disposable.add(this.baseModel=jc.editor.createModel(this.file.baseRaw,void 0,new jc.Uri("gitlab",!1,"target/".concat(this.path)))),this.events=new Set,this.updateContent=this.updateContent.bind(this),this.updateNewContent=this.updateNewContent.bind(this),this.dispose=this.dispose.bind(this),et.$on("editor.update.model.dispose.".concat(this.file.key),this.dispose),et.$on("editor.update.model.content.".concat(this.file.key),this.updateContent),et.$on("editor.update.model.new.content.".concat(this.file.key),this.updateNewContent)}var t,n,r;return t=e,(n=[{key:"getModel",value:function(){return this.model}},{key:"getOriginalModel",value:function(){return this.originalModel}},{key:"getBaseModel",value:function(){return this.baseModel}},{key:"setValue",value:function(e){this.getModel().setValue(e)}},{key:"onChange",value:function(e){var t=this;this.events.add(this.disposable.add(this.model.onDidChangeContent((function(n){return e(t,n)}))))}},{key:"onDispose",value:function(e){this.events.add(e)}},{key:"updateContent",value:function(e){var t=e.content,n=e.changed;this.getOriginalModel().setValue(t),n||this.getModel().setValue(t)}},{key:"updateNewContent",value:function(e){this.getModel().setValue(e)}},{key:"dispose",value:function(){this.disposable.dispose(),this.events.forEach((function(e){"function"==typeof e&&e()})),this.events.clear(),et.$off("editor.update.model.dispose.".concat(this.file.key),this.dispose),et.$off("editor.update.model.content.".concat(this.file.key),this.updateContent),et.$off("editor.update.model.new.content.".concat(this.file.key),this.updateNewContent)}},{key:"url",get:function(){return this.model.uri.toString()}},{key:"language",get:function(){return this.model.getModeId()}},{key:"eol",get:function(){return"\n"===this.model.getEOL()?"LF":"CRLF"}},{key:"path",get:function(){return this.file.key}}])&&Mc(t.prototype,n),r&&Mc(t,r),e}();function Lc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ac=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.disposable=new xc,this.models=new Map}var t,n,r;return t=e,(n=[{key:"hasCachedModel",value:function(e){return this.models.has(e)}},{key:"getModel",value:function(e){return this.models.get(e)}},{key:"addModel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.hasCachedModel(e.key))return this.getModel(e.key);var n=new Fc(e,t);return this.models.set(n.path,n),this.disposable.add(n),et.$on("editor.update.model.dispose.".concat(e.key),this.removeCachedModel.bind(this,e)),n}},{key:"removeCachedModel",value:function(e){this.models.delete(e.key),et.$off("editor.update.model.dispose.".concat(e.key),this.removeCachedModel)}},{key:"dispose",value:function(){this.disposable.dispose(),this.models.clear()}}])&&Lc(t.prototype,n),r&&Lc(t,r),e}(),qc=n(684),Nc=n(1610),Bc=n(685);function $c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$c(Object(n),!0).forEach((function(t){zc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Uc(e,t,n){return t&&Gc(e.prototype,t),n&&Gc(e,n),e}var Hc=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.currentModel=null,this.instance=null,this.dirtyDiffController=null,this.disposable=new xc,this.modelManager=new Ac,this.decorationsController=new Cc(this),this.options=Vc({},qc.b,{},n),ve.b.forEach((function(e){jc.editor.defineTheme(e.name,e.data)})),this.debouncedUpdate=y.a.debounce((function(){t.updateDimensions()}),200)}return Uc(e,null,[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.editorInstance||(this.editorInstance=new e(t)),this.editorInstance}}]),Uc(e,[{key:"createInstance",value:function(e){this.instance||(Object(Bc.a)(e),this.disposable.add(this.instance=jc.editor.create(e,Vc({},this.options)),this.dirtyDiffController=new Rc(this.modelManager,this.decorationsController)),this.addCommands(),window.addEventListener("resize",this.debouncedUpdate,!1))}},{key:"createDiffInstance",value:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.instance||(Object(Bc.a)(t),this.disposable.add(this.instance=jc.editor.createDiffEditor(t,Vc({},this.options,{quickSuggestions:!1,occurrencesHighlight:!1,renderSideBySide:e.renderSideBySide(t),readOnly:n,renderLineHighlight:n?"all":"none",hideCursorInOverviewRuler:!n}))),this.addCommands(),window.addEventListener("resize",this.debouncedUpdate,!1))}},{key:"createModel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.modelManager.addModel(e,t)}},{key:"attachModel",value:function(e){this.isDiffEditorType?this.instance.setModel({original:e.getOriginalModel(),modified:e.getModel()}):(this.instance.setModel(e.getModel()),this.dirtyDiffController&&this.dirtyDiffController.attachModel(e),this.currentModel=e,this.instance.updateOptions(qc.a.reduce((function(t,n){return Object.keys(n).forEach((function(r){Object.assign(t,zc({},r,n[r](e)))})),t}),{})),this.dirtyDiffController&&this.dirtyDiffController.reDecorate(e))}},{key:"attachMergeRequestModel",value:function(e){this.instance.setModel({original:e.getBaseModel(),modified:e.getModel()}),jc.editor.createDiffNavigator(this.instance,{alwaysRevealFirst:!0})}},{key:"clearEditor",value:function(){this.instance&&this.instance.setModel(null)}},{key:"dispose",value:function(){window.removeEventListener("resize",this.debouncedUpdate);try{this.disposable.dispose(),this.instance=null}catch(e){this.instance=null,console.error(e)}}},{key:"updateDimensions",value:function(){this.instance.layout(),this.updateDiffView()}},{key:"setPosition",value:function(e){var t=e.lineNumber,n=e.column;this.instance.revealPositionInCenter({lineNumber:t,column:n}),this.instance.setPosition({lineNumber:t,column:n})}},{key:"onPositionChange",value:function(e){var t=this;this.instance.onDidChangeCursorPosition&&this.disposable.add(this.instance.onDidChangeCursorPosition((function(n){return e(t.instance,n)})))}},{key:"updateDiffView",value:function(){this.isDiffEditorType&&this.instance.updateOptions({renderSideBySide:e.renderSideBySide(this.instance.getDomNode())})}},{key:"addCommands",value:function(){var e=this,t=function(e){return 0===e.indexOf("KEY_")?jc.KeyCode[e]:jc.KeyMod[e]};Nc.forEach((function(n){var r=n.bindings.map((function(e){var n=e.split("+");return n.length>1?t(n[0])|t(n[1]):t(n[0])}));e.instance.addAction({id:n.id,label:n.label,keybindings:r,run:function(){return Ia.dispatch(n.action.name,n.action.params),null}})}))}},{key:"isDiffEditorType",get:function(){return"vs.editor.IDiffEditor"===this.instance.getEditorType()}}],[{key:"renderSideBySide",value:function(e){return e.offsetWidth>=700}}]),e}(),Wc={components:{Icon:B.a},props:{file:{type:Object,required:!0}},computed:{showButtons:function(){return this.file.permalink}}},Jc=Object(M.a)(Wc,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.showButtons?n("div",{staticClass:"pull-right ide-btn-group"},[n("a",{attrs:{href:e.file.permalink,title:e.s__("IDE|Open in file view"),target:"_blank",rel:"noopener noreferrer"}},[n("span",{staticClass:"vertical-align-middle"},[e._v(e._s(e.__("Open in file view")))]),e._v(" "),n("icon",{staticClass:"vertical-align-middle space-right",attrs:{size:16,name:"external-link"}})],1)]):e._e()}),[],!1,null,null,null).exports;function Kc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kc(Object(n),!0).forEach((function(t){Qc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xc={components:{DropdownButton:Xa.a,GlLoadingIcon:_.a},props:{data:{type:Array,required:!1,default:function(){return[]}},label:{type:String,required:!0},title:{type:String,required:!1,default:null},isAsyncData:{type:Boolean,required:!1,default:!1},searchable:{type:Boolean,required:!1,default:!1}},data:function(){return{search:""}},computed:Yc({},Object(b.e)("fileTemplates",["templates","isLoading"]),{outputData:function(){var e=this;return(this.isAsyncData?this.templates:this.data).filter((function(t){return!e.searchable||t.name.toLowerCase().indexOf(e.search.toLowerCase())>=0}))},showLoading:function(){return!!this.isAsyncData&&this.isLoading}}),mounted:function(){C()(this.$el).on("show.bs.dropdown",this.fetchTemplatesIfAsync)},beforeDestroy:function(){C()(this.$el).off("show.bs.dropdown",this.fetchTemplatesIfAsync)},methods:Yc({},Object(b.c)("fileTemplates",["fetchTemplateTypes"]),{fetchTemplatesIfAsync:function(){this.isAsyncData&&this.fetchTemplateTypes()},clickItem:function(e){this.$emit("click",e)}})};function Zc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function el(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zc(Object(n),!0).forEach((function(t){tl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nl={components:{Dropdown:Object(M.a)(Xc,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dropdown"},[n("dropdown-button",{attrs:{"toggle-text":e.label,"data-display":"static"}}),e._v(" "),n("div",{staticClass:"dropdown-menu pb-0"},[e.title?n("div",{staticClass:"dropdown-title ml-0 mr-0"},[e._v(e._s(e.title))]):e._e(),e._v(" "),!e.showLoading&&e.searchable?n("div",{staticClass:"dropdown-input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],staticClass:"dropdown-input-field qa-dropdown-filter-input",attrs:{placeholder:e.__("Filter..."),type:"search"},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}}),e._v(" "),n("i",{staticClass:"fa fa-search dropdown-input-search",attrs:{"aria-hidden":"true"}})]):e._e(),e._v(" "),n("div",{staticClass:"dropdown-content"},[e.showLoading?n("gl-loading-icon",{attrs:{size:2}}):n("ul",e._l(e.outputData,(function(t,r){return n("li",{key:r},[n("button",{attrs:{type:"button"},on:{click:function(n){return e.clickItem(t)}}},[e._v(e._s(t.name))])])})),0)],1)])],1)}),[],!1,null,null,null).exports},computed:el({},Object(b.d)(["activeFile"]),{},Object(b.d)("fileTemplates",["templateTypes"]),{},Object(b.e)("fileTemplates",["selectedTemplateType","updateSuccess"]),{showTemplatesDropdown:function(){return Object.keys(this.selectedTemplateType).length>0}}),watch:{activeFile:"setInitialType"},mounted:function(){this.setInitialType()},methods:el({},Object(b.c)("fileTemplates",["setSelectedTemplateType","fetchTemplate","undoFileTemplate"]),{setInitialType:function(){var e=this,t=this.templateTypes.find((function(t){return t.name===e.activeFile.name}));t&&this.setSelectedTemplateType(t)},selectTemplateType:function(e){this.setSelectedTemplateType(e)},selectTemplate:function(e){this.fetchTemplate(e)},undo:function(){this.undoFileTemplate()}})},rl=Object(M.a)(nl,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex align-items-center ide-file-templates qa-file-templates-bar"},[n("strong",{staticClass:"append-right-default"},[e._v(" "+e._s(e.__("File templates"))+" ")]),e._v(" "),n("dropdown",{staticClass:"mr-2",attrs:{data:e.templateTypes,label:e.selectedTemplateType.name||e.__("Choose a type...")},on:{click:e.selectTemplateType}}),e._v(" "),e.showTemplatesDropdown?n("dropdown",{staticClass:"mr-2 qa-file-template-dropdown",attrs:{label:e.__("Choose a template..."),"is-async-data":!0,searchable:!0,title:e.__("File templates")},on:{click:e.selectTemplate}}):e._e(),e._v(" "),n("transition",{attrs:{name:"fade"}},[n("button",{directives:[{name:"show",rawName:"v-show",value:e.updateSuccess,expression:"updateSuccess"}],staticClass:"btn btn-default",attrs:{type:"button"},on:{click:e.undo}},[e._v("\n      "+e._s(e.__("Undo"))+"\n    ")])])],1)}),[],!1,null,null,null).exports;function il(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function al(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?il(Object(n),!0).forEach((function(t){ol(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):il(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ol(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sl={components:{ContentViewer:Oc,DiffViewer:_c.a,ExternalLink:Jc,FileTemplatesBar:rl},props:{file:{type:Object,required:!0}},computed:al({},Object(b.e)("rightPane",{rightPaneIsOpen:"isOpen"}),{},Object(b.e)(["rightPanelCollapsed","viewer","panelResizing","currentActivityView","renderWhitespaceInCode","editorTheme"]),{},Object(b.d)(["currentMergeRequest","getStagedFile","isEditModeActive","isCommitModeActive","isReviewModeActive"]),{},Object(b.d)("fileTemplates",["showFileTemplatesBar"]),{shouldHideEditor:function(){return this.file&&this.file.binary},showContentViewer:function(){return(this.shouldHideEditor||this.isPreviewViewMode)&&(this.viewer!==T.r.mr||!this.file.mrChange)},showDiffViewer:function(){return this.shouldHideEditor&&this.file.mrChange&&this.viewer===T.r.mr},isEditorViewMode:function(){return this.file.viewMode===T.a},isPreviewViewMode:function(){return this.file.viewMode===T.b},editTabCSS:function(){return{active:this.isEditorViewMode}},previewTabCSS:function(){return{active:this.isPreviewViewMode}},fileType:function(){var e=_e(this.file.path);return e&&e.id||""},showEditor:function(){return!this.shouldHideEditor&&this.isEditorViewMode},editorOptions:function(){return{renderWhitespace:this.renderWhitespaceInCode?"all":"none",theme:this.editorTheme}}}),watch:{file:function(e,t){t.pending&&this.removePendingTab(t),t.key!==this.file.key&&(this.initEditor(),this.currentActivityView!==T.m.edit.name&&this.setFileViewMode({file:this.file,viewMode:T.a}))},currentActivityView:function(){this.currentActivityView!==T.m.edit.name&&this.setFileViewMode({file:this.file,viewMode:T.a})},rightPanelCollapsed:function(){this.refreshEditorDimensions()},viewer:function(){this.file.pending||this.createEditorInstance()},panelResizing:function(){this.panelResizing||this.refreshEditorDimensions()},rightPaneIsOpen:function(){this.refreshEditorDimensions()},showEditor:function(e){var t=this;e&&this.$nextTick((function(){return t.refreshEditorDimensions()}))}},beforeDestroy:function(){this.editor.dispose()},mounted:function(){this.editor||(this.editor=Hc.create(this.editorOptions)),this.initEditor()},methods:al({},Object(b.c)(["getFileData","getRawFileData","changeFileContent","setFileLanguage","setEditorPosition","setFileViewMode","setFileEOL","updateViewer","removePendingTab","triggerFilesChange"]),{initEditor:function(){var e=this;this.shouldHideEditor&&(this.file.content||this.file.raw)||(this.editor.clearEditor(),this.fetchFileData().then((function(){e.createEditorInstance()})).catch((function(e){throw Object(S.a)(Object(j.a)("Error setting up editor. Please try again."),"alert",document,null,!1,!0),e})))},fetchFileData:function(){var e=this;return this.file.tempFile?Promise.resolve():this.getFileData({path:this.file.path,makeFileActive:!1}).then((function(){return e.getRawFileData({path:e.file.path})}))},createEditorInstance:function(){var e=this;this.editor.dispose(),this.$nextTick((function(){e.viewer===T.r.edit?e.editor.createInstance(e.$refs.editor):e.editor.createDiffInstance(e.$refs.editor,!e.isReviewModeActive),e.setupEditor()}))},setupEditor:function(){var e=this;if(this.file&&this.editor.instance){var t=this.getStagedFile(this.file.path);this.model=this.editor.createModel(this.file,this.file.staged&&0===this.file.key.indexOf("unstaged-")?t:null),this.viewer===T.r.mr&&this.file.mrChange?this.editor.attachMergeRequestModel(this.model):this.editor.attachModel(this.model),this.model.onChange((function(t){var n=t.file;n.active&&e.changeFileContent({path:n.path,content:t.getModel().getValue()})})),this.editor.onPositionChange((function(t,n){e.setEditorPosition({editorRow:n.position.lineNumber,editorColumn:n.position.column})})),this.editor.setPosition({lineNumber:this.file.editorRow,column:this.file.editorColumn}),this.setFileLanguage({fileLanguage:this.model.language}),this.setFileEOL({eol:this.model.eol})}},refreshEditorDimensions:function(){this.showEditor&&this.editor.updateDimensions()}}),viewerTypes:T.r,FILE_VIEW_MODE_EDITOR:T.a,FILE_VIEW_MODE_PREVIEW:T.b},cl=Object(M.a)(sl,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"blob-viewer-container blob-editor-container",attrs:{id:"ide"}},[n("div",{staticClass:"ide-mode-tabs clearfix"},[!e.shouldHideEditor&&e.isEditModeActive?n("ul",{staticClass:"nav-links float-left border-bottom-0"},[n("li",{class:e.editTabCSS},[n("a",{attrs:{href:"javascript:void(0);",role:"button"},on:{click:function(t){return t.preventDefault(),e.setFileViewMode({file:e.file,viewMode:e.$options.FILE_VIEW_MODE_EDITOR})}}},[e.viewer===e.$options.viewerTypes.edit?[e._v(e._s(e.__("Edit")))]:[e._v(e._s(e.__("Review")))]],2)]),e._v(" "),e.file.previewMode?n("li",{class:e.previewTabCSS},[n("a",{attrs:{href:"javascript:void(0);",role:"button"},on:{click:function(t){return t.preventDefault(),e.setFileViewMode({file:e.file,viewMode:e.$options.FILE_VIEW_MODE_PREVIEW})}}},[e._v(e._s(e.file.previewMode.previewTitle))])]):e._e()]):e._e(),e._v(" "),n("external-link",{attrs:{file:e.file}})],1),e._v(" "),e.showFileTemplatesBar(e.file.name)?n("file-templates-bar"):e._e(),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showEditor,expression:"showEditor"}],ref:"editor",staticClass:"multi-file-editor-holder",class:{"is-readonly":e.isCommitModeActive,"is-deleted":e.file.deleted,"is-added":e.file.tempFile},attrs:{"data-qa-selector":"editor_container"},on:{focusout:e.triggerFilesChange}}),e._v(" "),e.showContentViewer?n("content-viewer",{attrs:{content:e.file.content||e.file.raw,path:e.file.rawPath||e.file.path,"file-path":e.file.path,"file-size":e.file.size,"project-path":e.file.projectId,type:e.fileType}}):e._e(),e._v(" "),e.showDiffViewer?n("diff-viewer",{attrs:{"diff-mode":e.file.mrChange.diffMode,"new-path":e.file.mrChange.new_path,"new-sha":e.currentMergeRequest.sha,"old-path":e.file.mrChange.old_path,"old-sha":e.currentMergeRequest.baseCommitSha,"project-path":e.file.projectId}}):e._e()],1)}),[],!1,null,null,null).exports;function ll(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ul(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ul(Object(n),!0).forEach((function(t){pl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ul(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fl={name:"CollapsibleSidebar",directives:{tooltip:N.a},components:{Icon:B.a,ResizablePanel:Oo,GlSkeletonLoading:L.a},props:{extensionTabs:{type:Array,required:!1,default:function(){return[]}},side:{type:String,required:!0},width:{type:Number,required:!0}},computed:dl({},Object(b.e)(["loading"]),{},Object(b.e)({isOpen:function(e){return e[this.namespace].isOpen},currentView:function(e){return e[this.namespace].currentView},isActiveView:function(e,t){return t["".concat(this.namespace,"/isActiveView")]},isAliveView:function(e,t){return t["".concat(this.namespace,"/isAliveView")]}}),{namespace:function(){return"".concat(this.side,"Pane")},tabs:function(){return this.extensionTabs.filter((function(e){return e.show}))},tabViews:function(){return y.a.flatten(this.tabs.map((function(e){return e.views})))},aliveTabViews:function(){var e=this;return this.tabViews.filter((function(t){return e.isAliveView(t.name)}))},otherSide:function(){return"right"===this.side?"left":"right"}}),methods:dl({},Object(b.c)({toggleOpen:function(e){return e("".concat(this.namespace,"/toggleOpen"))},open:function(e,t){return e("".concat(this.namespace,"/open"),t)}}),{clickTab:function(e,t){e.target.blur(),this.isActiveTab(t)?this.toggleOpen():this.open(t.views[0])},isActiveTab:function(e){var t=this;return e.views.some((function(e){return t.isActiveView(e.name)}))},buttonClasses:function(e){return["right"===this.side?"is-right":"",this.isActiveTab(e)&&this.isOpen?"active":""].concat(ll(e.buttonClasses||[]))}})},hl=Object(M.a)(fl,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"multi-file-commit-panel ide-sidebar",class:"ide-"+e.side+"-sidebar",attrs:{"data-qa-selector":"ide_"+e.side+"_sidebar"}},[n("resizable-panel",{directives:[{name:"show",rawName:"v-show",value:e.isOpen,expression:"isOpen"}],staticClass:"multi-file-commit-panel-inner",class:"ide-"+e.side+"-sidebar-"+e.currentView,attrs:{collapsible:!1,"initial-width":e.width,"min-size":e.width,side:e.side}},[n("div",{staticClass:"h-100 d-flex flex-column align-items-stretch"},[e.isOpen?e._t("header"):e._e(),e._v(" "),e._l(e.aliveTabViews,(function(t){return n("div",{directives:[{name:"show",rawName:"v-show",value:e.isActiveView(t.name),expression:"isActiveView(tabView.name)"}],key:t.name,staticClass:"flex-fill js-tab-view"},[n(t.component,{tag:"component"})],1)})),e._v(" "),e._t("footer")],2)]),e._v(" "),n("nav",{staticClass:"ide-activity-bar"},[n("ul",{staticClass:"list-unstyled"},[n("li",[e._t("header-icon")],2),e._v(" "),e._l(e.tabs,(function(t){return n("li",{key:t.title},[n("button",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"ide-sidebar-link",class:e.buttonClasses(t),attrs:{title:t.title,"aria-label":t.title,"data-container":"body","data-placement":e.otherSide,"data-qa-selector":t.title.toLowerCase()+"_tab_button",type:"button"},on:{click:function(n){return e.clickTab(n,t)}}},[n("icon",{attrs:{size:16,name:t.icon}})],1)])}))],2)])],1)}),[],!1,null,null,null).exports,ml=n(660),gl={components:{Icon:B.a,CiIcon:sc.a},props:{job:{type:Object,required:!0}},computed:{jobId:function(){return"#".concat(this.job.id)}}},bl=Object(M.a)(gl,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex align-items-center"},[n("ci-icon",{staticClass:"d-flex",attrs:{status:e.job.status,borderless:!0,size:24}}),e._v(" "),n("span",{staticClass:"prepend-left-8"},[e._v("\n    "+e._s(e.job.name)+"\n    "),n("a",{staticClass:"ide-external-link position-relative",attrs:{href:e.job.path,target:"_blank"}},[e._v("\n      "+e._s(e.jobId)+" "),n("icon",{attrs:{size:12,name:"external-link"}})],1)])],1)}),[],!1,null,null,null).exports,vl={components:{JobDescription:bl},props:{job:{type:Object,required:!0}},computed:{jobId:function(){return"#".concat(this.job.id)}},methods:{clickViewLog:function(){this.$emit("clickViewLog",this.job)}}},yl=Object(M.a)(vl,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ide-job-item"},[n("job-description",{staticClass:"append-right-default",attrs:{job:e.job}}),e._v(" "),n("div",{staticClass:"ml-auto align-self-center"},[e.job.started?n("button",{staticClass:"btn btn-default btn-sm",attrs:{type:"button"},on:{click:e.clickViewLog}},[e._v("\n      "+e._s(e.__("View log"))+"\n    ")]):e._e()])],1)}),[],!1,null,null,null).exports,wl={directives:{tooltip:N.a},components:{Icon:B.a,CiIcon:sc.a,Item:yl,GlLoadingIcon:_.a},props:{stage:{type:Object,required:!0}},data:function(){return{showTooltip:!1}},computed:{collapseIcon:function(){return this.stage.isCollapsed?"angle-left":"angle-down"},showLoadingIcon:function(){return this.stage.isLoading&&!this.stage.jobs.length},jobsCount:function(){return this.stage.jobs.length}},mounted:function(){var e=this.$refs.stageTitle;this.showTooltip=e.scrollWidth>e.offsetWidth,this.$emit("fetch",this.stage)},methods:{toggleCollapsed:function(){this.$emit("toggleCollapsed",this.stage.id)},clickViewLog:function(e){this.$emit("clickViewLog",e)}}};function Ol(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var jl={components:{Stage:Object(M.a)(wl,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ide-stage card prepend-top-default"},[n("div",{ref:"cardHeader",staticClass:"card-header",class:{"border-bottom-0":e.stage.isCollapsed},on:{click:e.toggleCollapsed}},[n("ci-icon",{attrs:{status:e.stage.status,size:24}}),e._v(" "),n("strong",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.showTooltip,expression:"showTooltip"}],ref:"stageTitle",staticClass:"prepend-left-8 text-truncate",attrs:{title:e.showTooltip?e.stage.name:null,"data-container":"body"}},[e._v("\n      "+e._s(e.stage.name)+"\n    ")]),e._v(" "),!e.stage.isLoading||e.stage.jobs.length?n("div",{staticClass:"append-right-8 prepend-left-4"},[n("span",{staticClass:"badge badge-pill"},[e._v(" "+e._s(e.jobsCount)+" ")])]):e._e(),e._v(" "),n("icon",{staticClass:"ide-stage-collapse-icon",attrs:{name:e.collapseIcon}})],1),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.stage.isCollapsed,expression:"!stage.isCollapsed"}],ref:"jobList",staticClass:"card-body p-0"},[e.showLoadingIcon?n("gl-loading-icon"):e._l(e.stage.jobs,(function(t){return n("item",{key:t.id,attrs:{job:t},on:{clickViewLog:e.clickViewLog}})}))],2)])}),[],!1,null,null,null).exports,GlLoadingIcon:_.a},props:{stages:{type:Array,required:!0},loading:{type:Boolean,required:!0}},methods:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ol(Object(n),!0).forEach((function(t){_l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ol(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(b.c)("pipelines",["fetchJobs","toggleStageCollapsed","setDetailJob"]))},El=Object(M.a)(jl,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.loading&&!e.stages.length?n("gl-loading-icon",{staticClass:"prepend-top-default",attrs:{size:2}}):e._l(e.stages,(function(t){return n("stage",{key:t.id,attrs:{stage:t},on:{fetch:e.fetchJobs,toggleCollapsed:e.toggleStageCollapsed,clickViewLog:e.setDetailJob}})}))],2)}),[],!1,null,null,null).exports;function Pl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pl(Object(n),!0).forEach((function(t){Sl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Sl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kl={components:{Icon:B.a,CiIcon:sc.a,Tabs:ae,Tab:se,JobsList:El,EmptyState:ml.a,GlLoadingIcon:_.a},computed:Cl({},Object(b.e)(["pipelinesEmptyStateSvgPath","links"]),{},Object(b.d)(["currentProject"]),{},Object(b.d)("pipelines",["jobsCount","failedJobsCount","failedStages","pipelineFailed"]),{},Object(b.e)("pipelines",["isLoadingPipeline","hasLoadedPipeline","latestPipeline","stages","isLoadingJobs"]),{ciLintText:function(){return Object(j.e)(Object(j.a)("You can test your .gitlab-ci.yml in %{linkStart}CI Lint%{linkEnd}."),{linkStart:'<a href="'.concat(y.a.escape(this.currentProject.web_url),'/-/ci/lint">'),linkEnd:"</a>"},!1)},showLoadingIcon:function(){return this.isLoadingPipeline&&!this.hasLoadedPipeline}}),created:function(){this.fetchLatestPipeline()},methods:Cl({},Object(b.c)("pipelines",["fetchLatestPipeline"]))},Tl=Object(M.a)(kl,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ide-pipeline"},[e.showLoadingIcon?n("gl-loading-icon",{staticClass:"prepend-top-default",attrs:{size:2}}):e.hasLoadedPipeline?[e.latestPipeline?n("header",{staticClass:"ide-tree-header ide-pipeline-header"},[n("ci-icon",{staticClass:"d-flex",attrs:{status:e.latestPipeline.details.status,size:24}}),e._v(" "),n("span",{staticClass:"prepend-left-8"},[n("strong",[e._v(" "+e._s(e.__("Pipeline"))+" ")]),e._v(" "),n("a",{staticClass:"ide-external-link position-relative",attrs:{href:e.latestPipeline.path,target:"_blank"}},[e._v("\n          #"+e._s(e.latestPipeline.id)+" "),n("icon",{attrs:{size:12,name:"external-link"}})],1)])],1):e._e(),e._v(" "),e.latestPipeline?e.latestPipeline.yamlError?n("div",{staticClass:"bs-callout bs-callout-danger"},[n("p",{staticClass:"append-bottom-0"},[e._v(e._s(e.__("Found errors in your .gitlab-ci.yml:")))]),e._v(" "),n("p",{staticClass:"append-bottom-0 break-word"},[e._v(e._s(e.latestPipeline.yamlError))]),e._v(" "),n("p",{staticClass:"append-bottom-0",domProps:{innerHTML:e._s(e.ciLintText)}})]):n("tabs",{staticClass:"ide-pipeline-list"},[n("tab",{attrs:{active:!e.pipelineFailed}},[n("template",{slot:"title"},[e._v("\n          "+e._s(e.__("Jobs"))+"\n          "),e.jobsCount?n("span",{staticClass:"badge badge-pill"},[e._v(" "+e._s(e.jobsCount)+" ")]):e._e()]),e._v(" "),n("jobs-list",{attrs:{loading:e.isLoadingJobs,stages:e.stages}})],2),e._v(" "),n("tab",{attrs:{active:e.pipelineFailed}},[n("template",{slot:"title"},[e._v("\n          "+e._s(e.__("Failed Jobs"))+"\n          "),e.failedJobsCount?n("span",{staticClass:"badge badge-pill"},[e._v(" "+e._s(e.failedJobsCount)+" ")]):e._e()]),e._v(" "),n("jobs-list",{attrs:{loading:e.isLoadingJobs,stages:e.failedStages}})],2)],1):n("empty-state",{staticClass:"mb-auto mt-auto",attrs:{"help-page-path":e.links.ciHelpPagePath,"empty-state-svg-path":e.pipelinesEmptyStateSvgPath,"can-set-ci":!0}})]:e._e()],2)}),[],!1,null,null,null).exports,xl=(n(104),n(122),{up:"up",down:"down"}),Il={directives:{tooltip:N.a},components:{Icon:B.a},props:{direction:{type:String,required:!0,validator:function(e){return Object.keys(xl).includes(e)}},disabled:{type:Boolean,required:!0}},computed:{tooltipTitle:function(){return this.direction===xl.up?Object(j.a)("Scroll to top"):Object(j.a)("Scroll to bottom")},iconName:function(){return"scroll_".concat(this.direction)}},methods:{clickedScroll:function(){this.$emit("click")}}},Dl=Object(M.a)(Il,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"controllers-buttons",attrs:{title:this.tooltipTitle,"data-container":"body","data-placement":"top"}},[t("button",{staticClass:"btn-scroll btn-transparent btn-blank",attrs:{disabled:this.disabled,type:"button"},on:{click:this.clickedScroll}},[t("icon",{attrs:{name:this.iconName}})],1)])}),[],!1,null,null,null).exports;function Rl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ml(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rl(Object(n),!0).forEach((function(t){Fl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ll=0,Al=1,ql={directives:{tooltip:N.a},components:{Icon:B.a,ScrollButton:Dl,JobDescription:bl},data:function(){return{scrollPos:Ll}},computed:Ml({},Object(b.e)("pipelines",["detailJob"]),{isScrolledToBottom:function(){return this.scrollPos===Al},isScrolledToTop:function(){return this.scrollPos===Ll},jobOutput:function(){return this.detailJob.output||Object(j.a)("No messages were logged")}}),mounted:function(){this.getTrace()},methods:Ml({},Object(b.c)("pipelines",["fetchJobTrace","setDetailJob"]),{scrollDown:function(){this.$refs.buildTrace&&this.$refs.buildTrace.scrollTo(0,this.$refs.buildTrace.scrollHeight)},scrollUp:function(){this.$refs.buildTrace&&this.$refs.buildTrace.scrollTo(0,0)},scrollBuildLog:y.a.throttle((function(){var e=this.$refs.buildTrace.scrollTop,t=this.$refs.buildTrace,n=t.offsetHeight,r=t.scrollHeight;this.scrollPos=e+n===r?Al:0===e?Ll:""})),getTrace:function(){var e=this;return this.fetchJobTrace().then((function(){return e.scrollDown()}))}})},Nl=Object(M.a)(ql,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ide-pipeline build-page d-flex flex-column flex-fill"},[n("header",{staticClass:"ide-job-header d-flex align-items-center"},[n("button",{staticClass:"btn btn-default btn-sm d-flex",on:{click:function(t){return e.setDetailJob(null)}}},[n("icon",{attrs:{name:"chevron-left"}}),e._v(" "+e._s(e.__("View jobs"))+"\n    ")],1)]),e._v(" "),n("div",{staticClass:"top-bar d-flex border-left-0"},[n("job-description",{attrs:{job:e.detailJob}}),e._v(" "),n("div",{staticClass:"controllers ml-auto"},[n("a",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"controllers-buttons",attrs:{title:e.__("Show complete raw log"),href:e.detailJob.rawPath,"data-placement":"top","data-container":"body",target:"_blank"}},[n("i",{staticClass:"fa fa-file-text-o",attrs:{"aria-hidden":"true"}})]),e._v(" "),n("scroll-button",{attrs:{disabled:e.isScrolledToTop,direction:"up"},on:{click:e.scrollUp}}),e._v(" "),n("scroll-button",{attrs:{disabled:e.isScrolledToBottom,direction:"down"},on:{click:e.scrollDown}})],1)],1),e._v(" "),n("pre",{ref:"buildTrace",staticClass:"build-trace mb-0 h-100",on:{scroll:e.scrollBuildLog}},[e._v("    "),n("code",{directives:[{name:"show",rawName:"v-show",value:!e.detailJob.isLoading,expression:"!detailJob.isLoading"}],staticClass:"bash",domProps:{innerHTML:e._s(e.jobOutput)}},[e._v("\n    ")]),e._v("\n    "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.detailJob.isLoading,expression:"detailJob.isLoading"}],staticClass:"build-loader-animation"},[e._v("\n      "),n("div",{staticClass:"dot"}),e._v("\n      "),n("div",{staticClass:"dot"}),e._v("\n      "),n("div",{staticClass:"dot"}),e._v("\n    ")]),e._v("\n  ")])])}),[],!1,null,null,null).exports,Bl=n(1611);var $l=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},Vl=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},zl=function(){return 1e6*Math.random()+1e6*Math.random()+""};!function(){function e(e,t,n){var r=this;this.type=e,this.handleMessage=t,this.target=n,this.outgoingMessages=new Set,this._messageListener=function(e){return $l(r,void 0,void 0,(function(){var t,n,r;return Vl(this,(function(i){switch(i.label){case 0:return(t=e.data).$type!==this.getTypeId()?[2]:this.outgoingMessages.has(t.$id)?[2]:[4,this.handleMessage(t.$data)];case 1:return n=i.sent(),r={$originId:this.internalId,$type:this.getTypeId(),$data:n,$id:t.$id},e.source?e.source.postMessage(r,"*"):this._postMessage(r),[2]}}))}))},this.createConnection(),this.internalId=zl()}e.prototype.getTypeId=function(){return"p-"+this.type},e.prototype.createConnection=function(){self.addEventListener("message",this._messageListener)},e.prototype.dispose=function(){self.removeEventListener("message",this._messageListener)},e.prototype.sendMessage=function(e){var t=this;return new Promise((function(n){var r=zl(),i={$originId:t.internalId,$type:t.getTypeId(),$data:e,$id:r};t.outgoingMessages.add(r);var a=function(e){var i=e.data;i.$type===t.getTypeId()&&i.$id===r&&i.$originId!==t.internalId&&(n(i.$data),self.removeEventListener("message",a))};self.addEventListener("message",a),t._postMessage(i)}))},e.prototype._postMessage=function(e){"Worker"===this.target.constructor.name||"undefined"!=typeof DedicatedWorkerGlobalScope&&target instanceof DedicatedWorkerGlobalScope?this.target.postMessage(e):this.target.postMessage(e,"*")}}();Object.freeze({show:function(e,t,n){return void 0===t&&(t="notice"),void 0===n&&(n=2),{type:"action",action:"notification",title:e,notificationType:t,timeAlive:n}}});Object.freeze({openModule:function(e,t,n){return{type:"action",action:"editor.open-module",path:e,lineNumber:t,column:n}}});var Gl=Object.freeze({add:function(e){return{type:"action",action:"source.dependencies.add",dependency:e}}}),Ul=Object.freeze({rename:function(e,t){return{type:"action",action:"source.module.rename",path:e,title:t}}});Object.freeze({dependencies:Gl,modules:Ul}),Object.freeze({show:function(e,t,n){var r=n.line,i=n.column,a=n.lineEnd,o=n.columnEnd;return{title:e,message:t,line:r,column:i,path:n.path,payload:n.payload,lineEnd:a,columnEnd:o,severity:"error",type:"action",action:"show-error",source:n.source||"browser"}},clear:function(e,t){return{type:"action",action:"clear-errors",path:e,source:t}}}),Object.freeze({show:function(e,t){var n=void 0===t?{path:"",severity:"warning",source:""}:t,r=n.line,i=n.column,a=n.lineEnd,o=n.columnEnd,s=n.path,c=n.payload,l=n.severity,u=void 0===l?"warning":l,d=n.source;return{message:e,line:r,column:i,lineEnd:a,columnEnd:o,path:s,payload:c,severity:u,source:void 0===d?"":d,type:"action",action:"show-correction"}},clear:function(e,t){return{type:"action",action:"clear-corrections",path:e,source:t}}}),Object.freeze({show:function(e){return{line:e.line,path:e.path,className:e.className,type:"action",action:"show-glyph"}}}),new Map;"undefined"==typeof window||!!(window.location&&window.location.href.indexOf("?standalone")>-1)||!window.opener&&(window.parent,window);var Hl=null,Wl=function(e){"register-frame"===e.data.type&&(Hl=e.data.origin,self.removeEventListener("message",Wl))};"undefined"!=typeof window&&self.addEventListener("message",Wl);var Jl={},Kl=0;function Yl(e){var t=++Kl;return Jl[t]=e,function(){delete Jl[t]}}function Ql(e,t){Object.keys(Jl).forEach((function(n){Jl[n]&&Jl[n](e,t)}))}function Xl(e){var t=e.data;t&&t.codesandbox&&(null===Hl||e.origin===Hl)&&Ql(t,e.source)}"undefined"!=typeof window&&window.addEventListener("message",Xl);var Zl={components:{Icon:B.a,GlLoadingIcon:_.a},props:{manager:{type:Object,required:!0}},data:function(){return{currentBrowsingIndex:null,navigationStack:[],forwardNavigationStack:[],path:"",loading:!0}},computed:{backButtonDisabled:function(){return this.navigationStack.length<=1},forwardButtonDisabled:function(){return!this.forwardNavigationStack.length}},mounted:function(){var e=this;this.listener=Yl((function(t){switch(t.type){case"urlchange":e.onUrlChange(t);break;case"done":e.loading=!1}}))},beforeDestroy:function(){this.listener()},methods:{onUrlChange:function(e){var t=this.path;this.path=e.url.replace(this.manager.bundlerURL,"")||"/",t!==this.path&&(this.currentBrowsingIndex=null===this.currentBrowsingIndex?0:this.currentBrowsingIndex+1,this.navigationStack.push(this.path))},back:function(){var e=this.path;this.visitPath(this.navigationStack[this.currentBrowsingIndex-1]),this.forwardNavigationStack.push(e),1===this.currentBrowsingIndex&&(this.currentBrowsingIndex=null,this.navigationStack=[])},forward:function(){this.visitPath(this.forwardNavigationStack.splice(0,1)[0])},refresh:function(){this.visitPath(this.path)},visitPath:function(e){this.manager.iframe.src="".concat(this.manager.bundlerURL).concat(e)}}};function eu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eu(Object(n),!0).forEach((function(t){nu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ru={components:{Navigator:Object(M.a)(Zl,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",{staticClass:"ide-preview-header d-flex align-items-center"},[n("button",{staticClass:"ide-navigator-btn d-flex align-items-center d-transparent border-0 bg-transparent",class:{"disabled-content":e.backButtonDisabled},attrs:{"aria-label":e.s__("IDE|Back"),disabled:e.backButtonDisabled,type:"button"},on:{click:e.back}},[n("icon",{staticClass:"m-auto",attrs:{size:24,name:"chevron-left"}})],1),e._v(" "),n("button",{staticClass:"ide-navigator-btn d-flex align-items-center d-transparent border-0 bg-transparent",class:{"disabled-content":e.forwardButtonDisabled},attrs:{"aria-label":e.s__("IDE|Back"),disabled:e.forwardButtonDisabled,type:"button"},on:{click:e.forward}},[n("icon",{staticClass:"m-auto",attrs:{size:24,name:"chevron-right"}})],1),e._v(" "),n("button",{staticClass:"ide-navigator-btn d-flex align-items-center d-transparent border-0 bg-transparent",attrs:{"aria-label":e.s__("IDE|Refresh preview"),type:"button"},on:{click:e.refresh}},[n("icon",{staticClass:"m-auto",attrs:{size:18,name:"retry"}})],1),e._v(" "),n("div",{staticClass:"position-relative w-100 prepend-left-4"},[n("input",{staticClass:"ide-navigator-location form-control bg-white",attrs:{type:"text",readonly:""},domProps:{value:e.path||"/"}}),e._v(" "),e.loading?n("gl-loading-icon",{staticClass:"position-absolute ide-preview-loading-icon"}):e._e()],1)])}),[],!1,null,null,null).exports,GlLoadingIcon:_.a},data:function(){return{manager:{},loading:!1,sandpackReady:!1}},computed:tu({},Object(b.e)(["entries","promotionSvgPath","links","codesandboxBundlerUrl"]),{},Object(b.d)(["packageJson","currentProject"]),{normalizedEntries:function(){var e=this;return Object.keys(this.entries).reduce((function(t,n){var r=e.entries[n];return"tree"===r.type||!r.raw&&!r.content?t:tu({},t,nu({},"/".concat(n),{code:r.content||r.raw}))}),{})},mainEntry:function(){return!!this.packageJson.raw&&JSON.parse(this.packageJson.raw).main},showPreview:function(){return this.mainEntry&&!this.loading},showEmptyState:function(){return!this.mainEntry&&!this.loading},showOpenInCodeSandbox:function(){return this.currentProject&&"public"===this.currentProject.visibility},sandboxOpts:function(){return{files:tu({},this.normalizedEntries),entry:"/".concat(this.mainEntry),showOpenInCodeSandbox:this.showOpenInCodeSandbox}}}),watch:{entries:{deep:!0,handler:"update"}},mounted:function(){var e=this;return this.loading=!0,this.loadFileContent(T.o).then((function(){e.loading=!1})).then((function(){return e.$nextTick()})).then((function(){return e.initPreview()}))},beforeDestroy:function(){y.a.isEmpty(this.manager)||this.manager.listener(),this.manager={},this.listener&&this.listener(),clearTimeout(this.timeout),this.timeout=null},methods:tu({},Object(b.c)(["getFileData","getRawFileData"]),{},Object(b.c)("clientside",["pingUsage"]),{loadFileContent:function(e){var t=this;return this.getFileData({path:e,makeFileActive:!1}).then((function(){return t.getRawFileData({path:e})}))},initPreview:function(){var e=this;return this.mainEntry?(this.pingUsage(),this.loadFileContent(this.mainEntry).then((function(){return e.$nextTick()})).then((function(){e.initManager(),e.listener=Yl((function(t){switch(t.type){case"done":e.sandpackReady=!0}}))}))):null},update:function(){var e=this;this.sandpackReady&&(clearTimeout(this.timeout),this.timeout=setTimeout((function(){y.a.isEmpty(e.manager)?e.initPreview():e.manager.updatePreview(e.sandboxOpts)}),250))},initManager:function(){var e=this,t=this.codesandboxBundlerUrl,n=tu({fileResolver:{isFile:function(t){return Promise.resolve(Boolean(e.entries[Object(G.a)(t)]))},readFile:function(t){return e.loadFileContent(Object(G.a)(t)).then((function(e){return e}))}}},t?{bundlerURL:t}:{});this.manager=new Bl.a("#ide-preview",this.sandboxOpts,n)}})},iu=Object(M.a)(ru,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"preview h-100 w-100 d-flex flex-column"},[this.showPreview?[t("navigator",{attrs:{manager:this.manager}}),this._v(" "),t("div",{attrs:{id:"ide-preview"}})]:this.showEmptyState?this._m(0):t("gl-loading-icon",{staticClass:"align-self-center mt-auto mb-auto",attrs:{size:2}})],2)}),[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex h-100 flex-column align-items-center justify-content-center svg-content"},[n("img",{attrs:{src:e.promotionSvgPath,alt:e.s__("IDE|Live Preview"),width:"130",height:"100"}}),e._v(" "),n("h3",[e._v(e._s(e.s__("IDE|Live Preview")))]),e._v(" "),n("p",{staticClass:"text-center"},[e._v("\n      "+e._s(e.s__("IDE|Preview your web application using Web IDE client-side evaluation."))+"\n    ")]),e._v(" "),n("a",{staticClass:"btn btn-primary",attrs:{href:e.links.webIDEHelpPagePath,target:"_blank",rel:"noopener noreferrer"}},[e._v("\n      "+e._s(e.s__("IDE|Get started with Live Preview"))+"\n    ")])])}],!1,null,null,null).exports;function au(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ou(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function su(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ou(Object(n),!0).forEach((function(t){cu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ou(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lu={name:"RightPane",components:{CollapsibleSidebar:hl},props:{extensionTabs:{type:Array,required:!1,default:function(){return[]}}},computed:su({},Object(b.e)(["currentMergeRequestId","clientsidePreviewEnabled"]),{},Object(b.d)(["packageJson"]),{showLivePreview:function(){return this.packageJson&&this.clientsidePreviewEnabled},rightExtensionTabs:function(){return[{show:!0,title:Object(j.a)("Pipelines"),views:[su({component:Tl},T.p.pipelines),su({component:Nl},T.p.jobsDetail)],icon:"rocket"},{show:this.showLivePreview,title:Object(j.a)("Live preview"),views:[su({component:iu},T.p.clientSidePreview)],icon:"live-preview"}].concat(au(this.extensionTabs))}})},uu=Object(M.a)(lu,(function(){var e=this.$createElement;return(this._self._c||e)("collapsible-sidebar",{attrs:{"extension-tabs":this.rightExtensionTabs,side:"right",width:350}})}),[],!1,null,null,null).exports;function du(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fu={components:{GlAlert:n(327).a,GlLoadingIcon:_.a},props:{message:{type:Object,required:!0}},data:function(){return{isLoading:!1}},computed:{canDismiss:function(){return!this.message.action}},methods:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?du(Object(n),!0).forEach((function(t){pu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):du(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(b.c)(["setErrorMessage"]),{doAction:function(){var e=this;this.isLoading||(this.isLoading=!0,this.message.action(this.message.actionPayload).then((function(){e.isLoading=!1})).catch((function(){e.isLoading=!1})))},dismiss:function(){this.setErrorMessage(null)}})},hu=Object(M.a)(fu,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("gl-alert",{attrs:{"data-qa-selector":"flash_alert",variant:"danger",dismissible:e.canDismiss,"primary-button-text":e.message.actionText},on:{dismiss:e.dismiss,primaryAction:e.doAction}},[n("span",{domProps:{innerHTML:e._s(e.message.text)}}),e._v(" "),n("gl-loading-icon",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}],staticClass:"vertical-align-middle ml-1",attrs:{inline:""}})],1)}),[],!1,null,null,null).exports;function mu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bu={components:{GlModal:n(2535).a,FileIcon:ko.a,ChangedFileIcon:$.a},props:{activeFile:{type:Object,required:!0}},computed:{discardModalId:function(){return"discard-file-".concat(this.activeFile.path)},discardModalTitle:function(){return Object(j.e)(Object(j.a)("Discard changes to %{path}?"),{path:this.activeFile.path})},isStaged:function(){return!this.activeFile.changed&&this.activeFile.staged}},methods:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mu(Object(n),!0).forEach((function(t){gu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(b.c)(["stageChange","unstageChange","discardFileChanges"]),{showDiscardModal:function(){this.$refs.discardModal.show()},discardChanges:function(e){this.unstageChange(e),this.discardFileChanges(e)}})},vu=Object(M.a)(bu,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex ide-commit-editor-header align-items-center"},[n("file-icon",{staticClass:"mr-2",attrs:{"file-name":e.activeFile.name,size:16}}),e._v(" "),n("strong",{staticClass:"mr-2"},[e.activeFile.prevPath&&e.activeFile.prevPath!==e.activeFile.path?[e._v("\n      "+e._s(e.activeFile.prevPath)+" \n    ")]:e._e(),e._v("\n    "+e._s(e.activeFile.path)+"\n  ")],2),e._v(" "),n("changed-file-icon",{attrs:{file:e.activeFile,"is-centered":!1}}),e._v(" "),n("div",{staticClass:"ml-auto"},[e.isStaged?e._e():n("button",{ref:"discardButton",staticClass:"btn btn-remove btn-inverted append-right-8",attrs:{type:"button"},on:{click:e.showDiscardModal}},[e._v("\n      "+e._s(e.__("Discard changes"))+"\n    ")])]),e._v(" "),n("gl-modal",{ref:"discardModal",attrs:{"ok-variant":"danger","cancel-variant":"light","ok-title":e.__("Discard changes"),"modal-id":e.discardModalId,title:e.discardModalTitle},on:{ok:function(t){return e.discardChanges(e.activeFile.path)}}},[e._v("\n    "+e._s(e.__("You will lose all changes you've made to this file. This action cannot be undone."))+"\n  ")])],1)}),[],!1,null,null,null).exports;function yu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yu(Object(n),!0).forEach((function(t){Ou(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ou(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _u,ju={components:{NewModal:F,IdeSidebar:zs,RepoTabs:Qs,IdeStatusBar:hc,RepoEditor:cl,FindFile:E.a,ErrorMessage:hu,CommitEditorHeader:vu,GlButton:O.a,GlLoadingIcon:_.a},props:{rightPaneComponent:{type:g.default.Component,required:!1,default:function(){return uu}}},computed:wu({},Object(b.e)(["openFiles","viewer","currentMergeRequestId","fileFindVisible","emptyStateSvgPath","currentProjectId","errorMessage","loading"]),{},Object(b.d)(["activeFile","hasChanges","someUncommittedChanges","isCommitModeActive","allBlobs","emptyRepo","currentTree"])),mounted:function(){var e=this;window.onbeforeunload=function(t){return e.onBeforeUnload(t)}},methods:wu({},Object(b.c)(["toggleFileFinder","openNewEntryModal"]),{onBeforeUnload:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(j.a)("Are you sure you want to lose unsaved changes?");if(this.someUncommittedChanges)return Object.assign(e,{returnValue:t}),t},openFile:function(e){this.$router.push("/project".concat(e.url))}})},Eu=Object(M.a)(ju,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("article",{staticClass:"ide position-relative d-flex flex-column align-items-stretch"},[e.errorMessage?n("error-message",{attrs:{message:e.errorMessage}}):e._e(),e._v(" "),n("div",{staticClass:"ide-view flex-grow d-flex"},[n("find-file",{directives:[{name:"show",rawName:"v-show",value:e.fileFindVisible,expression:"fileFindVisible"}],attrs:{files:e.allBlobs,visible:e.fileFindVisible,loading:e.loading},on:{toggle:e.toggleFileFinder,click:e.openFile}}),e._v(" "),n("ide-sidebar"),e._v(" "),n("div",{staticClass:"multi-file-edit-pane"},[e.activeFile?[e.isCommitModeActive?n("commit-editor-header",{attrs:{"active-file":e.activeFile}}):n("repo-tabs",{attrs:{"active-file":e.activeFile,files:e.openFiles,viewer:e.viewer,"has-changes":e.hasChanges,"merge-request-id":e.currentMergeRequestId}}),e._v(" "),n("repo-editor",{staticClass:"multi-file-edit-pane-content",attrs:{file:e.activeFile}})]:[n("div",{staticClass:"ide-empty-state"},[n("div",{staticClass:"row js-empty-state"},[n("div",{staticClass:"col-12"},[n("div",{staticClass:"svg-content svg-250"},[n("img",{attrs:{src:e.emptyStateSvgPath}})])]),e._v(" "),n("div",{staticClass:"col-12"},[n("div",{staticClass:"text-content text-center"},[n("h4",[e._v("\n                  "+e._s(e.__("Make and review changes in the browser with the Web IDE"))+"\n                ")]),e._v(" "),e.emptyRepo?[n("p",[e._v("\n                    "+e._s(e.__("Create a new file as there are no files yet. Afterwards, you'll be able to commit your changes."))+"\n                  ")]),e._v(" "),n("gl-button",{attrs:{variant:"success",title:e.__("New file"),"aria-label":e.__("New file")},on:{click:function(t){return e.openNewEntryModal({type:"blob"})}}},[e._v("\n                    "+e._s(e.__("New file"))+"\n                  ")])]:!e.currentTree||e.currentTree.loading?n("gl-loading-icon",{attrs:{size:"md"}}):n("p",[e._v("\n                  "+e._s(e.__("Select a file from the left sidebar to begin editing. Afterwards, you'll be able to commit your changes."))+"\n                ")])],2)])])])]],2),e._v(" "),e.currentProjectId?n(e.rightPaneComponent,{tag:"component"}):e._e()],1),e._v(" "),n("ide-status-bar"),e._v(" "),n("new-modal")],1)}),[],!1,null,null,null).exports,Pu=n(1131);function Cu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Su(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cu(Object(n),!0).forEach((function(t){ku(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ku(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}g.default.use(w.a),document.addEventListener("DOMContentLoaded",(function(){var e=document.getElementById("ide");e&&(Object(Pu.a)(),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return null;var n=t.rootComponent,r=void 0===n?Eu:n,i=t.extendStore,a=void 0===i?y.a.identity:i;new g.default({el:e,store:a(Ia,e),router:Ma,created:function(){var t;this.setEmptyStateSvgs({emptyStateSvgPath:e.dataset.emptyStateSvgPath,noChangesStateSvgPath:e.dataset.noChangesStateSvgPath,committedStateSvgPath:e.dataset.committedStateSvgPath,pipelinesEmptyStateSvgPath:e.dataset.pipelinesEmptyStateSvgPath,promotionSvgPath:e.dataset.promotionSvgPath}),this.setLinks({ciHelpPagePath:e.dataset.ciHelpPagePath,webIDEHelpPagePath:e.dataset.webIdeHelpPagePath}),this.setInitialData({clientsidePreviewEnabled:Object(ir.F)(e.dataset.clientsidePreviewEnabled),renderWhitespaceInCode:Object(ir.F)(e.dataset.renderWhitespaceInCode),editorTheme:(null===(t=window.gon)||void 0===t?void 0:t.user_color_scheme)||ve.a,codesandboxBundlerUrl:e.dataset.codesandboxBundlerUrl})},methods:Su({},Object(b.c)(["setEmptyStateSvgs","setLinks","setInitialData"])),render:function(e){return e(r)}})}(e,_u))}))},277:function(e,t,n){"use strict";var r=n(1);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a={name:"DeprecatedModal",props:{id:{type:String,required:!1},title:{type:String,required:!1},text:{type:String,required:!1},hideFooter:{type:Boolean,required:!1,default:!1},kind:{type:String,required:!1,default:"primary"},modalDialogClass:{type:String,required:!1,default:""},closeKind:{type:String,required:!1,default:"default"},closeButtonLabel:{type:String,required:!1,default:Object(r.a)("Cancel")},primaryButtonLabel:{type:String,required:!1,default:""},secondaryButtonLabel:{type:String,required:!1,default:""},submitDisabled:{type:Boolean,required:!1,default:!1}},computed:{btnKindClass:function(){return i({},"btn-".concat(this.kind),!0)},btnCancelKindClass:function(){return i({},"btn-".concat(this.closeKind),!0)}},methods:{emitCancel:function(e){this.$emit("cancel",e)},emitSubmit:function(e){this.$emit("submit",e)}}},o=n(4),s=Object(o.a)(a,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal-open"},[n("div",{staticClass:"modal",class:e.id?"":"d-block",attrs:{id:e.id,role:"dialog",tabindex:"-1"}},[n("div",{staticClass:"modal-dialog",class:e.modalDialogClass,attrs:{role:"document"}},[n("div",{staticClass:"modal-content"},[n("div",{staticClass:"modal-header"},[e._t("header",[n("h4",{staticClass:"modal-title float-left"},[e._v(e._s(e.title))]),e._v(" "),n("button",{staticClass:"close float-right",attrs:{type:"button","data-dismiss":"modal","aria-label":e.__("Close")},on:{click:function(t){return e.emitCancel(t)}}},[n("span",{attrs:{"aria-hidden":"true"}},[e._v("")])])])],2),e._v(" "),n("div",{staticClass:"modal-body"},[e._t("body",[n("p",[e._v(e._s(e.text))])],{text:e.text})],2),e._v(" "),e.hideFooter?e._e():n("div",{staticClass:"modal-footer"},[n("button",{staticClass:"btn",class:e.btnCancelKindClass,attrs:{type:"button","data-dismiss":"modal"},on:{click:function(t){return e.emitCancel(t)}}},[e._v("\n            "+e._s(e.closeButtonLabel)+"\n          ")]),e._v(" "),e.secondaryButtonLabel?e._t("secondary-button",[e.secondaryButtonLabel?n("button",{staticClass:"btn",attrs:{type:"button","data-dismiss":"modal"}},[e._v("\n              "+e._s(e.secondaryButtonLabel)+"\n            ")]):e._e()]):e._e(),e._v(" "),e.primaryButtonLabel?n("button",{staticClass:"btn js-primary-button",class:e.btnKindClass,attrs:{disabled:e.submitDisabled,type:"button","data-dismiss":"modal","data-qa-selector":"save_changes_button"},on:{click:function(t){return e.emitSubmit(t)}}},[e._v("\n            "+e._s(e.primaryButtonLabel)+"\n          ")]):e._e()],2)])])]),e._v(" "),e.id?e._e():n("div",{staticClass:"modal-backdrop fade show"})])}),[],!1,null,null,null);t.a=s.exports},284:function(e,t,n){!function(t){"use strict";var r=-1,i=function(e){return e.every=function(t,n,i){e._time(),i||(i=n,n=null);var a=r+=1;return e._timers[a]={visible:t,hidden:n,callback:i},e._run(a,!1),e.isSupported()&&e._listen(),a},e.stop=function(t){return!!e._timers[t]&&(e._stop(t),delete e._timers[t],!0)},e._timers={},e._time=function(){e._timed||(e._timed=!0,e._wasHidden=e.hidden(),e.change((function(){e._stopRun(),e._wasHidden=e.hidden()})))},e._run=function(n,r){var i,a=e._timers[n];if(e.hidden()){if(null===a.hidden)return;i=a.hidden}else i=a.visible;var o=function(){a.last=new Date,a.callback.call(t)};if(r){var s=new Date-a.last;i>s?a.delay=setTimeout((function(){a.id=setInterval(o,i),o()}),i-s):(a.id=setInterval(o,i),o())}else a.id=setInterval(o,i)},e._stop=function(t){var n=e._timers[t];clearInterval(n.id),clearTimeout(n.delay),delete n.id,delete n.delay},e._stopRun=function(t){var n=e.hidden(),r=e._wasHidden;if(n&&!r||!n&&r)for(var i in e._timers)e._stop(i),e._run(i,!n)},e};e.exports?e.exports=i(n(285)):i(t.Visibility)}(window)},285:function(e,t,n){!function(t){"use strict";var n=-1,r={onVisible:function(e){var t=r.isSupported();if(!t||!r.hidden())return e(),t;var n=r.change((function(t,i){r.hidden()||(r.unbind(n),e())}));return n},change:function(e){if(!r.isSupported())return!1;var t=n+=1;return r._callbacks[t]=e,r._listen(),t},unbind:function(e){delete r._callbacks[e]},afterPrerendering:function(e){var t=r.isSupported();if(!t||"prerender"!=r.state())return e(),t;var n=r.change((function(t,i){"prerender"!=i&&(r.unbind(n),e())}));return n},hidden:function(){return!(!r._doc.hidden&&!r._doc.webkitHidden)},state:function(){return r._doc.visibilityState||r._doc.webkitVisibilityState||"visible"},isSupported:function(){return!(!r._doc.visibilityState&&!r._doc.webkitVisibilityState)},_doc:document||{},_callbacks:{},_change:function(e){var t=r.state();for(var n in r._callbacks)r._callbacks[n].call(r._doc,e,t)},_listen:function(){if(!r._init){var e="visibilitychange";r._doc.webkitVisibilityState&&(e="webkit"+e);var t=function(){r._change.apply(r,arguments)};r._doc.addEventListener?r._doc.addEventListener(e,t):r._doc.attachEvent(e,t),r._init=!0}}};e.exports?e.exports=r:t.Visibility=r}(this)},304:function(e,t,n){"use strict";n(104);var r=n(0),i=n.n(r),a=["danger","primary","success","warning"],o=["sm","md","lg","xl"],s={name:"DeprecatedModal2",props:{id:{type:String,required:!1,default:null},modalSize:{type:String,required:!1,default:"md",validator:function(e){return o.includes(e)}},headerTitleText:{type:String,required:!1,default:""},footerPrimaryButtonVariant:{type:String,required:!1,default:"primary",validator:function(e){return a.includes(e)}},footerPrimaryButtonText:{type:String,required:!1,default:""}},computed:{modalSizeClass:function(){return"md"===this.modalSize?"":"modal-".concat(this.modalSize)}},mounted:function(){i()(this.$el).on("shown.bs.modal",this.opened).on("hidden.bs.modal",this.closed)},beforeDestroy:function(){i()(this.$el).off("shown.bs.modal",this.opened).off("hidden.bs.modal",this.closed)},methods:{emitCancel:function(e){this.$emit("cancel",e)},emitSubmit:function(e){this.$emit("submit",e)},opened:function(){this.$emit("open")},closed:function(){this.$emit("closed")}}},c=n(4),l=Object(c.a)(s,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal fade",attrs:{id:e.id,tabindex:"-1",role:"dialog"}},[n("div",{staticClass:"modal-dialog",class:e.modalSizeClass,attrs:{role:"document"}},[n("div",{staticClass:"modal-content"},[n("div",{staticClass:"modal-header"},[e._t("header",[n("h4",{staticClass:"modal-title"},[e._t("title",[e._v(" "+e._s(e.headerTitleText)+" ")])],2),e._v(" "),n("button",{staticClass:"close js-modal-close-action",attrs:{"aria-label":e.s__("Modal|Close"),type:"button","data-dismiss":"modal"},on:{click:function(t){return e.emitCancel(t)}}},[n("span",{attrs:{"aria-hidden":"true"}},[e._v("")])])])],2),e._v(" "),n("div",{staticClass:"modal-body"},[e._t("default")],2),e._v(" "),n("div",{staticClass:"modal-footer"},[e._t("footer",[n("button",{staticClass:"btn js-modal-cancel-action qa-modal-cancel-button",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(t){return e.emitCancel(t)}}},[e._v("\n            "+e._s(e.s__("Modal|Cancel"))+"\n          ")]),e._v(" "),n("button",{staticClass:"btn js-modal-primary-action qa-modal-primary-button",class:"btn-"+e.footerPrimaryButtonVariant,attrs:{type:"button","data-dismiss":"modal"},on:{click:function(t){return e.emitSubmit(t)}}},[e._v("\n            "+e._s(e.footerPrimaryButtonText)+"\n          ")])])],2)])])])}),[],!1,null,null,null);t.a=l.exports},310:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));n(24),n(49),n(56),n(30),n(40),n(72),n(740),n(430),n(548),n(18),n(55),n(68),n(36),n(67),n(41);var r=n(112),i=n(1);function a(e){return e/(r.a*r.a)}function o(e){return e/(r.a*r.a*r.a)}function s(e){return e<r.a?Object(i.e)(Object(i.a)("%{size} bytes"),{size:e}):e<r.a*r.a?Object(i.e)(Object(i.a)("%{size} KiB"),{size:(t=e,t/r.a).toFixed(2)}):e<r.a*r.a*r.a?Object(i.e)(Object(i.a)("%{size} MiB"),{size:a(e).toFixed(2)}):Object(i.e)(Object(i.a)("%{size} GiB"),{size:o(e).toFixed(2)});var t}},326:function(e,t,n){"use strict";n(72);var r=n(20),i=n.n(r),a=n(310),o={props:{path:{type:String,required:!0},fileSize:{type:Number,required:!1,default:0},renderInfo:{type:Boolean,default:!0},innerCssClasses:{type:[Array,Object,String],required:!1,default:""}},data:function(){return{width:0,height:0}},computed:{fileSizeReadable:function(){return Object(a.b)(this.fileSize)},hasFileSize:function(){return this.fileSize>0},hasDimensions:function(){return this.width&&this.height}},beforeDestroy:function(){window.removeEventListener("resize",this.resizeThrottled,!1)},mounted:function(){this.onImgLoad(),this.resizeThrottled=i.a.throttle(this.onImgLoad,400),window.addEventListener("resize",this.resizeThrottled,!1)},methods:{onImgLoad:function(){requestIdleCallback(this.calculateImgSize,{timeout:1e3})},calculateImgSize:function(){var e=this,t=this.$refs.contentImg;t&&(this.width=t.naturalWidth,this.height=t.naturalHeight,this.$nextTick((function(){e.$emit("imgLoaded",{width:e.width,height:e.height,renderedWidth:t.clientWidth,renderedHeight:t.clientHeight})})))}}},s=n(4),c=Object(s.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"position-relative",class:e.innerCssClasses},[n("img",{ref:"contentImg",attrs:{src:e.path},on:{load:e.onImgLoad}}),e._v(" "),e._t("image-overlay")],2),e._v(" "),e.renderInfo?n("p",{staticClass:"image-info"},[e.hasFileSize?[e._v("\n      "+e._s(e.fileSizeReadable)+"\n    ")]:e._e(),e._v(" "),e.hasFileSize&&e.hasDimensions?[e._v("\n      |\n    ")]:e._e(),e._v(" "),e.hasDimensions?[n("strong",[e._v(e._s(e.s__("ImageViewerDimensions|W")))]),e._v(": "+e._s(e.width)+" | "),n("strong",[e._v(e._s(e.s__("ImageViewerDimensions|H")))]),e._v(": "+e._s(e.height)+"\n    ")]:e._e()],2):e._e()])}),[],!1,null,null,null);t.a=c.exports},327:function(e,t,n){"use strict";var r=n(103),i=n(153),a=n(25),o=n(60),s=n.n(o);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){c(e,t,n[t])}))}return e}const u={components:{GlIcon:r.a,GlNewButton:i.a},props:{title:{type:String,required:!1,default:""},dismissible:{type:Boolean,required:!1,default:!0},dismissLabel:{type:String,required:!1,default:"Dismiss"},variant:{type:String,required:!1,default:a.c.info,validator:function(e){return Object.keys(a.c).includes(e)}},primaryButtonLink:{type:String,required:!1,default:""},primaryButtonText:{type:String,required:!1,default:""},secondaryButtonLink:{type:String,required:!1,default:""},secondaryButtonText:{type:String,required:!1,default:""}},computed:{iconName:function(){return a.b[this.variant]},shouldRenderActions:function(){return Boolean(this.$slots.actions||this.actionButtons.length)},actionButtons:function(){return[{text:this.primaryButtonText,attrs:{href:this.primaryButtonLink,variant:a.a[this.variant].primary,category:a.q.primary},listeners:{click:this.primaryButtonClicked}},{text:this.secondaryButtonText,attrs:{href:this.secondaryButtonLink,variant:a.a[this.variant].secondary,category:a.q.secondary},listeners:{click:this.secondaryButtonClicked}}].reduce((function(e,t){if(!t.text)return e;var n=l({},t.attrs);return n.href||delete n.href,e.push(l({},t,{attrs:n})),e}),[])},variantClass:function(){return"gl-alert-".concat(this.variant)}},methods:{primaryButtonClicked:function(e){this.$emit("primaryAction",e)},secondaryButtonClicked:function(e){this.$emit("secondaryAction",e)},onDismiss:function(){this.$emit("dismiss")}}};const d=s()({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["gl-alert",e.variantClass],attrs:{role:"alert"}},[n("gl-icon",{class:{"gl-alert-icon":!0,"gl-alert-icon-no-title":!e.title},attrs:{name:e.iconName}}),e._v(" "),e.dismissible?n("button",{ref:"dismiss",staticClass:"gl-alert-dismiss",attrs:{type:"button","aria-label":e.dismissLabel},on:{click:e.onDismiss}},[n("gl-icon",{attrs:{name:"close"}})],1):e._e(),e._v(" "),e.title?n("h4",{staticClass:"gl-alert-title"},[e._v(e._s(e.title))]):e._e(),e._v(" "),n("div",{staticClass:"gl-alert-body"},[e._t("default")],2),e._v(" "),e.shouldRenderActions?n("div",{staticClass:"gl-alert-actions"},[e._t("actions",e._l(e.actionButtons,(function(t,r){return n("gl-new-button",e._g(e._b({key:r,staticClass:"gl-alert-action"},"gl-new-button",t.attrs,!1),t.listeners),[e._v("\n        "+e._s(t.text)+"\n      ")])})))],2):e._e()],1)},staticRenderFns:[]},void 0,u,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=d},328:function(e,t,n){"use strict";n(30),n(72);var r=n(760),i=(n(55),n(67),{html:"html",htm:"html",html_vm:"html",asp:"html",jade:"pug",pug:"pug",md:"markdown","md.rendered":"markdown",markdown:"markdown","markdown.rendered":"markdown",rst:"markdown",blink:"blink",css:"css",scss:"sass",sass:"sass",less:"less",json:"json",yaml:"yaml","YAML-tmLanguage":"yaml",yml:"yaml",xml:"xml",plist:"xml",xsd:"xml",dtd:"xml",xsl:"xml",xslt:"xml",resx:"xml",iml:"xml",xquery:"xml",tmLanguage:"xml",manifest:"xml",project:"xml",png:"image",jpeg:"image",jpg:"image",gif:"image",svg:"image",ico:"image",tif:"image",tiff:"image",psd:"image",psb:"image",ami:"image",apx:"image",bmp:"image",bpg:"image",brk:"image",cur:"image",dds:"image",dng:"image",exr:"image",fpx:"image",gbr:"image",img:"image",jbig2:"image",jb2:"image",jng:"image",jxr:"image",pbm:"image",pgf:"image",pic:"image",raw:"image",webp:"image",js:"javascript",ejs:"javascript",esx:"javascript",jsx:"react",tsx:"react",ini:"settings",dlc:"settings",dll:"settings",config:"settings",conf:"settings",properties:"settings",prop:"settings",settings:"settings",option:"settings",props:"settings",toml:"settings",prefs:"settings","sln.dotsettings":"settings","sln.dotsettings.user":"settings",ts:"typescript","d.ts":"typescript-def",marko:"markojs",pdf:"pdf",xlsx:"table",xls:"table",csv:"table",tsv:"table",vscodeignore:"vscode",vsixmanifest:"vscode",vsix:"vscode","code-workplace":"vscode",suo:"visualstudio",sln:"visualstudio",csproj:"visualstudio",vb:"visualstudio",pdb:"database",sql:"database",pks:"database",pkb:"database",accdb:"database",mdb:"database",sqlite:"database",cs:"csharp",zip:"zip",tar:"zip",gz:"zip",xz:"zip",bzip2:"zip",gzip:"zip","7z":"zip",rar:"zip",tgz:"zip",exe:"exe",msi:"exe",java:"java",jar:"java",jsp:"java",c:"c",m:"c",h:"h",cc:"cpp",cpp:"cpp",mm:"cpp",cxx:"cpp",hpp:"hpp",go:"go",py:"python",url:"url",sh:"console",ksh:"console",csh:"console",tcsh:"console",zsh:"console",bash:"console",bat:"console",cmd:"console",ps1:"powershell",psm1:"powershell",psd1:"powershell",ps1xml:"powershell",psc1:"powershell",pssc:"powershell",gradle:"gradle",doc:"word",docx:"word",rtf:"word",cer:"certificate",cert:"certificate",crt:"certificate",pub:"key",key:"key",pem:"key",asc:"key",gpg:"key",woff:"font",woff2:"font",ttf:"font",eot:"font",suit:"font",otf:"font",bmap:"font",fnt:"font",odttf:"font",ttc:"font",font:"font",fonts:"font",sui:"font",ntf:"font",mrf:"font",lib:"lib",bib:"lib",rb:"ruby",erb:"ruby",fs:"fsharp",fsx:"fsharp",fsi:"fsharp",fsproj:"fsharp",swift:"swift",ino:"arduino",dockerignore:"docker",dockerfile:"docker",tex:"tex",cls:"tex",sty:"tex",pptx:"powerpoint",ppt:"powerpoint",pptm:"powerpoint",potx:"powerpoint",pot:"powerpoint",potm:"powerpoint",ppsx:"powerpoint",ppsm:"powerpoint",pps:"powerpoint",ppam:"powerpoint",ppa:"powerpoint",webm:"movie",mkv:"movie",flv:"movie",vob:"movie",ogv:"movie",ogg:"movie",gifv:"movie",avi:"movie",mov:"movie",qt:"movie",wmv:"movie",yuv:"movie",rm:"movie",rmvb:"movie",mp4:"movie",m4v:"movie",mpg:"movie",mp2:"movie",mpeg:"movie",mpe:"movie",mpv:"movie",m2v:"movie",vdi:"virtual",vbox:"virtual","vbox-prev":"virtual",ics:"email",mp3:"music",flac:"music",m4a:"music",wma:"music",aiff:"music",coffee:"coffee",txt:"document",graphql:"graphql",rs:"rust",raml:"raml",xaml:"xaml",hs:"haskell",kt:"kotlin",kts:"kotlin",patch:"git",lua:"lua",clj:"clojure",cljs:"clojure",groovy:"groovy",r:"r",rmd:"r",dart:"dart",as:"actionscript",mxml:"mxml",ahk:"autohotkey",swf:"flash",swc:"swc",cmake:"cmake",asm:"assembly",a51:"assembly",inc:"assembly",nasm:"assembly",s:"assembly",ms:"assembly",agc:"assembly",ags:"assembly",aea:"assembly",argus:"assembly",mitigus:"assembly",binsource:"assembly",vue:"vue",ml:"ocaml",mli:"ocaml",cmx:"ocaml","js.map":"javascript-map","css.map":"css-map",lock:"lock",hbs:"handlebars",mustache:"handlebars",pl:"perl",pm:"perl",hx:"haxe","spec.ts":"test-ts","test.ts":"test-ts","ts.snap":"test-ts","spec.tsx":"test-jsx","test.tsx":"test-jsx","tsx.snap":"test-jsx","spec.jsx":"test-jsx","test.jsx":"test-jsx","jsx.snap":"test-jsx","spec.js":"test-js","test.js":"test-js","js.snap":"test-js","routing.ts":"angular-routing","routing.js":"angular-routing","module.ts":"angular","module.js":"angular","ng-template":"angular","component.ts":"angular-component","component.js":"angular-component","guard.ts":"angular-guard","guard.js":"angular-guard","service.ts":"angular-service","service.js":"angular-service","pipe.ts":"angular-pipe","pipe.js":"angular-pipe","filter.js":"angular-pipe","directive.ts":"angular-directive","directive.js":"angular-directive","resolver.ts":"angular-resolver","resolver.js":"angular-resolver",pp:"puppet",ex:"elixir",exs:"elixir",ls:"livescript",erl:"erlang",twig:"twig",jl:"julia",elm:"elm",pure:"purescript",tpl:"smarty",styl:"stylus",re:"reason",rei:"reason",cmj:"bucklescript",merlin:"merlin",v:"verilog",vhd:"verilog",sv:"verilog",svh:"verilog",nb:"mathematica",wl:"wolframlanguage",wls:"wolframlanguage",njk:"nunjucks",nunjucks:"nunjucks",robot:"robot",sol:"solidity",au3:"autoit",haml:"haml",yang:"yang",tf:"terraform","tf.json":"terraform",tfvars:"terraform",tfstate:"terraform","blade.php":"laravel","inky.php":"laravel",applescript:"applescript",cake:"cake",feature:"cucumber",nim:"nim",nimble:"nim",apib:"apiblueprint",apiblueprint:"apiblueprint",tag:"riot",vfl:"vfl",kl:"kl",pcss:"postcss",sss:"postcss",todo:"todo",cfml:"coldfusion",cfc:"coldfusion",lucee:"coldfusion",cabal:"cabal",nix:"nix",slim:"slim",http:"http",rest:"http",rql:"restql",restql:"restql",kv:"kivy",graphcool:"graphcool",sbt:"sbt","reducer.ts":"ngrx-reducer","rootReducer.ts":"ngrx-reducer","state.ts":"ngrx-state","actions.ts":"ngrx-actions","effects.ts":"ngrx-effects",cr:"crystal","drone.yml":"drone",cu:"cuda",cuh:"cuda",log:"log"}),a={".jscsrc":"json",".jshintrc":"json","tsconfig.json":"json","tslint.json":"json","composer.lock":"json",".jsbeautifyrc":"json",".esformatter":"json","cdp.pid":"json",".htaccess":"xml",".jshintignore":"settings",".buildignore":"settings",makefile:"settings",".mrconfig":"settings",".yardopts":"settings","gradle.properties":"gradle",gradlew:"gradle","gradle-wrapper.properties":"gradle",license:"certificate","license.md":"certificate","license.md.rendered":"certificate","license.txt":"certificate",licence:"certificate","licence.md":"certificate","licence.md.rendered":"certificate","licence.txt":"certificate",dockerfile:"docker","docker-compose.yml":"docker",".mailmap":"email",".gitignore":"git",".gitconfig":"git",".gitattributes":"git",".gitmodules":"git",".gitkeep":"git","git-history":"git",".Rhistory":"r","cmakelists.txt":"cmake","cmakecache.txt":"cmake","angular-cli.json":"angular",".angular-cli.json":"angular",".vfl":"vfl",".kl":"kl","postcss.config.js":"postcss",".postcssrc.js":"postcss","project.graphcool":"graphcool","webpack.js":"webpack","webpack.ts":"webpack","webpack.base.js":"webpack","webpack.base.ts":"webpack","webpack.config.js":"webpack","webpack.config.ts":"webpack","webpack.common.js":"webpack","webpack.common.ts":"webpack","webpack.config.common.js":"webpack","webpack.config.common.ts":"webpack","webpack.config.common.babel.js":"webpack","webpack.config.common.babel.ts":"webpack","webpack.dev.js":"webpack","webpack.dev.ts":"webpack","webpack.config.dev.js":"webpack","webpack.config.dev.ts":"webpack","webpack.config.dev.babel.js":"webpack","webpack.config.dev.babel.ts":"webpack","webpack.prod.js":"webpack","webpack.prod.ts":"webpack","webpack.server.js":"webpack","webpack.server.ts":"webpack","webpack.client.js":"webpack","webpack.client.ts":"webpack","webpack.config.server.js":"webpack","webpack.config.server.ts":"webpack","webpack.config.client.js":"webpack","webpack.config.client.ts":"webpack","webpack.config.production.babel.js":"webpack","webpack.config.production.babel.ts":"webpack","webpack.config.prod.babel.js":"webpack","webpack.config.prod.babel.ts":"webpack","webpack.config.prod.js":"webpack","webpack.config.prod.ts":"webpack","webpack.config.production.js":"webpack","webpack.config.production.ts":"webpack","webpack.config.staging.js":"webpack","webpack.config.staging.ts":"webpack","webpack.config.babel.js":"webpack","webpack.config.babel.ts":"webpack","webpack.config.base.babel.js":"webpack","webpack.config.base.babel.ts":"webpack","webpack.config.base.js":"webpack","webpack.config.base.ts":"webpack","webpack.config.staging.babel.js":"webpack","webpack.config.staging.babel.ts":"webpack","webpack.config.coffee":"webpack","webpack.config.test.js":"webpack","webpack.config.test.ts":"webpack","webpack.config.vendor.js":"webpack","webpack.config.vendor.ts":"webpack","webpack.config.vendor.production.js":"webpack","webpack.config.vendor.production.ts":"webpack","webpack.test.js":"webpack","webpack.test.ts":"webpack","webpack.dist.js":"webpack","webpack.dist.ts":"webpack","webpackfile.js":"webpack","webpackfile.ts":"webpack","ionic.config.json":"ionic",".io-config.json":"ionic","gulpfile.js":"gulp","gulpfile.ts":"gulp","gulpfile.babel.js":"gulp","package.json":"nodejs","package-lock.json":"nodejs",".nvmrc":"nodejs",".npmignore":"npm",".npmrc":"npm",".yarnrc":"yarn","yarn.lock":"yarn",".yarnclean":"yarn",".yarn-integrity":"yarn","yarn-error.log":"yarn","androidmanifest.xml":"android",".env":"tune",".env.example":"tune",".babelrc":"babel","contributing.md":"contributing","contributing.md.rendered":"contributing","readme.md":"readme","readme.md.rendered":"readme",changelog:"changelog","changelog.md":"changelog","changelog.md.rendered":"changelog",CREDITS:"credits","credits.txt":"credits","credits.md":"credits","credits.md.rendered":"credits",".flowconfig":"flow","favicon.png":"favicon","karma.conf.js":"karma","karma.conf.ts":"karma","karma.conf.coffee":"karma","karma.config.js":"karma","karma.config.ts":"karma","karma-main.js":"karma","karma-main.ts":"karma",".bithoundrc":"bithound","appveyor.yml":"appveyor",".travis.yml":"travis","protractor.conf.js":"protractor","protractor.conf.ts":"protractor","protractor.conf.coffee":"protractor","protractor.config.js":"protractor","protractor.config.ts":"protractor","fuse.js":"fusebox",procfile:"heroku",".editorconfig":"editorconfig",".gitlab-ci.yml":"gitlab",".bowerrc":"bower","bower.json":"bower",".eslintrc.js":"eslint",".eslintrc.yaml":"eslint",".eslintrc.yml":"eslint",".eslintrc.json":"eslint",".eslintrc":"eslint",".eslintignore":"eslint","code_of_conduct.md":"conduct","code_of_conduct.md.rendered":"conduct",".watchmanconfig":"watchman","aurelia.json":"aurelia","mocha.opts":"mocha",jenkinsfile:"jenkins","firebase.json":"firebase",".firebaserc":"firebase",Rakefile:"ruby","rollup.config.js":"rollup","rollup.config.ts":"rollup","rollup-config.js":"rollup","rollup-config.ts":"rollup","rollup.config.prod.js":"rollup","rollup.config.prod.ts":"rollup","rollup.config.dev.js":"rollup","rollup.config.dev.ts":"rollup","rollup.config.prod.vendor.js":"rollup","rollup.config.prod.vendor.ts":"rollup",".hhconfig":"hack",".stylelintrc":"stylelint","stylelint.config.js":"stylelint",".stylelintrc.json":"stylelint",".stylelintrc.yaml":"stylelint",".stylelintrc.yml":"stylelint",".stylelintrc.js":"stylelint",".stylelintignore":"stylelint",".codeclimate.yml":"code-climate",".prettierrc":"prettier","prettier.config.js":"prettier",".prettierrc.js":"prettier",".prettierrc.json":"prettier",".prettierrc.yaml":"prettier",".prettierrc.yml":"prettier","nodemon.json":"nodemon",".sonarrc":"sonar",browserslist:"browserlist",".browserslistrc":"browserlist",".snyk":"snyk",".drone.yml":"drone"};var o={components:{icon:n(45).a,GlLoadingIcon:r.a},props:{fileName:{type:String,required:!0},folder:{type:Boolean,required:!1,default:!1},opened:{type:Boolean,required:!1,default:!1},loading:{type:Boolean,required:!1,default:!1},size:{type:Number,required:!1,default:16},cssClasses:{type:String,required:!1,default:""}},computed:{spriteHref:function(){var e,t=(e=this.fileName,a[e]||i[e?e.split(".").pop():""]||""||"file");return"".concat(gon.sprite_file_icons,"#").concat(t)},folderIconName:function(){return this.opened?"folder-open":"folder"},iconSizeClass:function(){return this.size?"s".concat(this.size):""}}},s=n(4),c=Object(s.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[e.loading||e.folder?e._e():n("svg",{class:[e.iconSizeClass,e.cssClasses]},[n("use",e._b({},"use",{"xlink:href":e.spriteHref},!1))]),e._v(" "),!e.loading&&e.folder?n("icon",{staticClass:"folder-icon",attrs:{name:e.folderIconName,size:e.size}}):e._e(),e._v(" "),e.loading?n("gl-loading-icon",{attrs:{inline:!0}}):e._e()],1)}),[],!1,null,null,null);t.a=c.exports},355:function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return s}));var r=38,i=40,a=13,o=27,s=8},494:function(e,t,n){"use strict";var r=n(467),i=n(343),a=n(223),o=n(546),s=n(459),c=Math.min,l=[].lastIndexOf,u=!!l&&1/[1].lastIndexOf(1,-0)<0,d=o("lastIndexOf"),p=s("indexOf",{ACCESSORS:!0,1:0}),f=u||!d||!p;e.exports=f?function(e){if(u)return l.apply(this,arguments)||0;var t=r(this),n=a(t.length),o=n-1;for(arguments.length>1&&(o=c(o,i(arguments[1]))),o<0&&(o=n+o);o>=0;o--)if(o in t&&t[o]===e)return o||0;return-1}:l},498:function(e,t,n){var r=n(108),i=n(494);r({target:"Array",proto:!0,forced:i!==[].lastIndexOf},{lastIndexOf:i})},500:function(e,t,n){(function(e){var r,i,a,o,s;function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}o=this,s=function(e,t){"object"===c(t)&&"function"==typeof t.default&&(t=t.default);var n=function(e,t,n){var r;return function(){var i=this,a=arguments,o=function(){r=null,n||e.apply(i,a)},s=n&&!r;clearTimeout(r),r=setTimeout(o,t),s&&e.apply(i,a)}};return t.component(e,{props:{size:{type:Number,required:!0},remain:{type:Number,required:!0},rtag:{type:String,default:"div"},wtag:{type:String,default:"div"},wclass:{type:String,default:""},wstyle:{type:Object,default:function(){return{}}},pagemode:{type:Boolean,default:!1},scrollelement:{type:"undefined"==typeof window?Object:HTMLElement,default:null},start:{type:Number,default:0},offset:{type:Number,default:0},variable:{type:[Function,Boolean],default:!1},bench:{type:Number,default:0},debounce:{type:Number,default:0},totop:{type:[Function,Boolean],default:!1},tobottom:{type:[Function,Boolean],default:!1},onscroll:{type:[Function,Boolean],default:!1},istable:{type:Boolean,default:!1},item:{type:[Function,Object],default:null},itemcount:{type:Number,default:0},itemprops:{type:Function,default:function(){}}},watch:{size:function(){this.changeProp="size"},remain:function(){this.changeProp="remain"},bench:function(){this.changeProp="bench",this.itemModeForceRender()},start:function(){this.changeProp="start",this.itemModeForceRender()},offset:function(){this.changeProp="offset",this.itemModeForceRender()},itemcount:function(){this.changeProp="itemcount",this.itemModeForceRender()},scrollelement:function(e,t){this.pagemode||(t&&this.removeScrollListener(t),e&&this.addScrollListener(e))}},created:function(){var e=this.start>=this.remain?this.start:0,t=this.remain+(this.bench||this.remain),n=Object.create(null);n.direction="",n.scrollTop=0,n.start=e,n.end=e+t-1,n.keeps=t,n.total=0,n.offsetAll=0,n.paddingTop=0,n.paddingBottom=0,n.varCache={},n.varAverSize=0,n.varLastCalcIndex=0,this.delta=n},mounted:function(){if(this.pagemode?this.addScrollListener(window):this.scrollelement&&this.addScrollListener(this.scrollelement),this.start){var e=this.getZone(this.start).start;this.setScrollTop(this.variable?this.getVarOffset(e):e*this.size)}else this.offset&&this.setScrollTop(this.offset)},beforeDestroy:function(){this.pagemode?this.removeScrollListener(window):this.scrollelement&&this.removeScrollListener(this.scrollelement)},beforeUpdate:function(){var e=this.delta;e.keeps=this.remain+(this.bench||this.remain);var t="start"===this.changeProp?this.start:e.start,n=this.getZone(t);if(this.changeProp&&["start","size","offset"].includes(this.changeProp)){var r="offset"===this.changeProp?this.offset:this.variable?this.getVarOffset(n.isLast?e.total:n.start):n.isLast&&e.total-t<=this.remain?e.total*this.size:t*this.size;this.$nextTick(this.setScrollTop.bind(this,r))}(this.changeProp||e.end!==n.end||t!==n.start)&&(this.changeProp="",e.end=n.end,e.start=n.start,this.forceRender())},methods:{addScrollListener:function(e){this.scrollHandler=this.debounce?n(this.onScroll.bind(this),this.debounce):this.onScroll,e.addEventListener("scroll",this.scrollHandler,!1)},removeScrollListener:function(e){e.removeEventListener("scroll",this.scrollHandler,!1)},onScroll:function(e){var t,n=this.delta,r=this.$refs.vsl;if(this.pagemode)t=-this.$el.getBoundingClientRect().top;else if(this.scrollelement){var i=this.scrollelement.getBoundingClientRect(),a=this.$el.getBoundingClientRect();t=i.top-a.top}else t=(r.$el||r).scrollTop||0;n.direction=t>n.scrollTop?"D":"U",n.scrollTop=t,n.total>n.keeps?this.updateZone(t):n.end=n.total-1;var o=n.offsetAll;if(this.onscroll){var s=Object.create(null);s.offset=t,s.offsetAll=o,s.start=n.start,s.end=n.end,this.onscroll(e,s)}!t&&n.total&&this.fireEvent("totop"),t>=o&&this.fireEvent("tobottom")},updateZone:function(e){var t=this.delta,n=this.variable?this.getVarOvers(e):Math.floor(e/this.size);"U"===t.direction&&(n=n-this.remain+1);var r=this.getZone(n),i=this.bench||this.remain,a=1===Math.abs(n-t.start-i);!a&&n-t.start<=i&&!r.isLast&&n>t.start||(a||r.start!==t.start||r.end!==t.end)&&(t.end=r.end,t.start=r.start,this.forceRender())},getZone:function(e){var t,n=this.delta;e=parseInt(e,10),e=Math.max(0,e);var r=n.total-n.keeps,i=e<=n.total&&e>=r||e>n.total;return{end:(t=i?Math.max(0,r):e)+n.keeps-1,start:t,isLast:i}},forceRender:function(){var e=this;window.requestAnimationFrame((function(){e.$forceUpdate()}))},itemModeForceRender:function(){this.item&&this.forceRender()},getVarOvers:function(e){for(var t=0,n=0,r=0,i=this.delta,a=i.total;t<=a;){if(n=t+Math.floor((a-t)/2),r=this.getVarOffset(n),i.varAverSize||(i.varAverSize=Math.floor(r/n)),r===e)return n;r<e?t=n+1:r>e&&(a=n-1)}return t>0?--t:0},getVarOffset:function(e,t){var n=this.delta,r=n.varCache[e];if(!t&&r)return r.offset;for(var i=0,a=0;a<e;a++){var o=this.getVarSize(a,t);n.varCache[a]={size:o,offset:i},i+=o}return n.varLastCalcIndex=Math.max(n.varLastCalcIndex,e-1),n.varLastCalcIndex=Math.min(n.varLastCalcIndex,n.total-1),i},getVarSize:function(e,t){var n=this.delta.varCache[e];if(!t&&n)return n.size;if("function"==typeof this.variable)return this.variable(e)||0;var r=this.item?this.$children[e]?this.$children[e].$vnode:null:this.$slots.default[e],i=r&&r.data&&r.data.style;if(i&&i.height){var a=i.height.match(/^(.*)px$/);return a&&+a[1]||0}return 0},getVarPaddingTop:function(){return this.getVarOffset(this.delta.start)},getVarPaddingBottom:function(){var e=this.delta,t=e.total-1;return e.total-e.end<=e.keeps||e.varLastCalcIndex===t?this.getVarOffset(t)-this.getVarOffset(e.end):(e.total-e.end)*(e.varAverSize||this.size)},getVarAllHeight:function(){var e=this.delta;return e.total-e.end<=e.keeps||e.varLastCalcIndex===e.total-1?this.getVarOffset(e.total):this.getVarOffset(e.start)+(e.total-e.end)*(e.varAverSize||this.size)},updateVariable:function(e){this.getVarOffset(e,!0)},fireEvent:function(e){this[e]&&this[e]()},setScrollTop:function(e){if(this.pagemode)window.scrollTo(0,e);else if(this.scrollelement)this.scrollelement.scrollTo(0,e);else{var t=this.$refs.vsl;t&&((t.$el||t).scrollTop=e)}},filter:function(e){var t,n,r,i=this.delta,a=this.$slots.default||[];this.item||this.$scopedSlots.item?(i.total=this.itemcount,i.keeps>i.total&&(i.end=i.total-1)):(a.length||(i.start=0),i.total=a.length);var o=i.total>i.keeps;this.variable?(r=this.getVarAllHeight(),t=o?this.getVarPaddingTop():0,n=o?this.getVarPaddingBottom():0):(r=this.size*i.total,t=this.size*(o?i.start:0),n=this.size*(o?i.total-i.keeps:0)-t),n<this.size&&(n=0),i.paddingTop=t,i.paddingBottom=n,i.offsetAll=r-this.size*this.remain;for(var s=[],c=i.start;c<i.total&&c<=Math.ceil(i.end);c++){var l=null;l=this.$scopedSlots.item?this.$scopedSlots.item(c):this.item?e(this.item,this.itemprops(c)):a[c],s.push(l)}return s}},render:function(e){var t=this.debounce,r=this.filter(e),i=this.delta,a=i.paddingTop,o=i.paddingBottom,s=this.istable,c=s?"div":this.wtag,l=s?"div":this.rtag;s&&(r=[e("table",[e("tbody",r)])]);var u=e(c,{style:Object.assign({display:"block","padding-top":a+"px","padding-bottom":o+"px"},this.wstyle),class:this.wclass,attrs:{role:"group"}},r);return this.pagemode||this.scrollelement?u:e(l,{ref:"vsl",style:{display:"block","overflow-y":this.size>=this.remain?"auto":"initial",height:this.size*this.remain+"px"},on:{"&scroll":t?n(this.onScroll.bind(this),t):this.onScroll}},[u])}})},"object"===c(t)&&"object"===c(e)?e.exports=s("VirtualList",n(17)):(i=[n(17)],r=s.bind(o,"VirtualList"),void 0===(a="function"==typeof r?r.apply(t,i):r)||(e.exports=a))}).call(this,n(707)(e))},657:function(e,t,n){"use strict";var r=n(0),i=n.n(r);t.a={bind:function(e,t){i()(e).popover(t.value)},unbind:function(e){i()(e).popover("dispose")}}},660:function(e,t,n){"use strict";var r={name:"PipelinesEmptyState",components:{GlButton:n(553).a},props:{helpPagePath:{type:String,required:!0},emptyStateSvgPath:{type:String,required:!0},canSetCi:{type:Boolean,required:!0}}},i=n(4),a=Object(i.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"row empty-state js-empty-state"},[n("div",{staticClass:"col-12"},[n("div",{staticClass:"svg-content svg-250"},[n("img",{attrs:{src:e.emptyStateSvgPath}})])]),e._v(" "),n("div",{staticClass:"col-12"},[n("div",{staticClass:"text-content"},[e.canSetCi?[n("h4",{staticClass:"text-center"},[e._v(e._s(e.s__("Pipelines|Build with confidence")))]),e._v(" "),n("p",[e._v("\n          "+e._s(e.s__("Pipelines|Continuous Integration can help\n              catch bugs by running your tests automatically,\n              while Continuous Deployment can help you deliver\n              code to your product environment."))+"\n        ")]),e._v(" "),n("div",{staticClass:"text-center"},[n("gl-button",{staticClass:"js-get-started-pipelines",attrs:{href:e.helpPagePath,variant:"primary"}},[e._v("\n            "+e._s(e.s__("Pipelines|Get started with Pipelines"))+"\n          ")])],1)]:n("p",{staticClass:"text-center"},[e._v("\n        "+e._s(e.s__("Pipelines|This project is not currently set up to run pipelines."))+"\n      ")])],2)])])}),[],!1,null,null,null);t.a=a.exports},671:function(e,t,n){"use strict";n(72),n(55),n(67);var r=n(301),i=n(45),a=n(310),o={components:{GlLink:r.a,Icon:i.a},props:{path:{type:String,required:!0},filePath:{type:String,required:!1,default:""},fileSize:{type:Number,required:!1,default:0}},computed:{fileSizeReadable:function(){return Object(a.b)(this.fileSize)},fileName:function(){return(this.filePath||this.path).split("/").pop()}}},s=n(4),c=Object(s.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"file-container"},[n("div",{staticClass:"file-content"},[n("p",{staticClass:"prepend-top-10 file-info"},[e._v("\n      "+e._s(e.fileName)+"\n      "),e.fileSize>0?[e._v("\n        ("+e._s(e.fileSizeReadable)+")\n      ")]:e._e()],2),e._v(" "),n("gl-link",{staticClass:"btn btn-default",attrs:{href:e.path,rel:"nofollow",download:e.fileName,target:"_blank"}},[n("icon",{staticClass:"float-left append-right-8",attrs:{size:16,name:"download"}}),e._v("\n      "+e._s(e.__("Download"))+"\n    ")],1)],1)])}),[],!1,null,null,null);t.a=c.exports},682:function(e,t,n){"use strict";n(30),n(85),n(72);var r=n(117),i=n(326),a={components:{ImageViewer:i.a},props:{newPath:{type:String,required:!0},oldPath:{type:String,required:!0},newSize:{type:Number,required:!1,default:0},oldSize:{type:Number,required:!1,default:0}}},o=n(4),s=Object(o.a)(a,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"two-up view d-flex"},[t("image-viewer",{staticClass:"wrap w-50",attrs:{path:this.oldPath,"file-size":this.oldSize,"render-info":!0,"inner-css-classes":"frame deleted"}}),this._v(" "),t("image-viewer",{staticClass:"wrap w-50",attrs:{path:this.newPath,"file-size":this.newSize,"render-info":!0,"inner-css-classes":["frame","added"]}},[this._t("image-overlay",null,{slot:"image-overlay"})],2)],1)}),[],!1,null,null,null).exports,c=n(20),l=n.n(c);function u(e){return e?"".concat(e,"px"):""}var d={components:{ImageViewer:i.a},props:{newPath:{type:String,required:!0},oldPath:{type:String,required:!0}},data:function(){return{dragging:!1,swipeOldImgInfo:null,swipeNewImgInfo:null,swipeMaxWidth:void 0,swipeMaxHeight:void 0,swipeBarPos:1,swipeWrapWidth:0}},computed:{swipeMaxPixelWidth:function(){return u(this.swipeMaxWidth)},swipeMaxPixelHeight:function(){return u(this.swipeMaxHeight)},swipeWrapPixelWidth:function(){return u(this.swipeWrapWidth)},swipeBarPixelPos:function(){return u(this.swipeBarPos)}},beforeDestroy:function(){window.removeEventListener("resize",this.resizeThrottled,!1),document.body.removeEventListener("mouseup",this.stopDrag),document.body.removeEventListener("mousemove",this.dragMove),document.body.removeEventListener("touchend",this.stopDrag),document.body.removeEventListener("touchmove",this.dragMove)},mounted:function(){window.addEventListener("resize",this.resize,!1)},methods:{dragMove:function(e){if(this.dragging){var t=(e.pageX||e.touches[0].pageX)-this.$refs.swipeFrame.getBoundingClientRect().left,n=this.$refs.swipeFrame.clientWidth;t<=0?t=0:t>n&&(t=n),this.swipeWrapWidth=t/n*100,this.swipeBarPos=t}},startDrag:function(){this.dragging=!0,document.body.addEventListener("mousemove",this.dragMove),document.body.addEventListener("touchmove",this.dragMove)},stopDrag:function(){this.dragging=!1,document.body.removeEventListener("mousemove",this.dragMove),document.body.removeEventListener("touchmove",this.dragMove)},prepareSwipe:function(){this.swipeOldImgInfo&&this.swipeNewImgInfo&&this.swipeOldImgInfo.renderedWidth>0&&(this.swipeMaxWidth=Math.max(this.swipeOldImgInfo.renderedWidth,this.swipeNewImgInfo.renderedWidth)+2,this.swipeMaxHeight=Math.max(this.swipeOldImgInfo.renderedHeight,this.swipeNewImgInfo.renderedHeight)+2,document.body.addEventListener("mouseup",this.stopDrag),document.body.addEventListener("touchend",this.stopDrag))},swipeNewImgLoaded:function(e){this.swipeNewImgInfo=e,this.prepareSwipe()},swipeOldImgLoaded:function(e){this.swipeOldImgInfo=e,this.prepareSwipe()},resize:l.a.throttle((function(){this.swipeBarPos=0,this.swipeWrapWidth=0,this.prepareSwipe()}),400)}},p=Object(o.a)(d,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"swipe view"},[n("div",{ref:"swipeFrame",staticClass:"swipe-frame",style:{width:e.swipeMaxPixelWidth,height:e.swipeMaxPixelHeight,"user-select":e.dragging?"none":null}},[n("image-viewer",{key:"swipeOldImg",ref:"swipeOldImg",staticClass:"frame deleted",attrs:{"render-info":!1,path:e.oldPath},on:{imgLoaded:e.swipeOldImgLoaded}}),e._v(" "),n("div",{ref:"swipeWrap",staticClass:"swipe-wrap",style:{width:e.swipeWrapWidth+"%"}},[n("image-viewer",{key:"swipeNewImg",staticClass:"frame added",style:{width:e.swipeMaxPixelWidth},attrs:{"render-info":!1,path:e.newPath},on:{imgLoaded:e.swipeNewImgLoaded}},[e._t("image-overlay",null,{slot:"image-overlay"})],2)],1),e._v(" "),n("span",{ref:"swipeBar",staticClass:"swipe-bar",style:{left:e.swipeBarPixelPos},on:{mousedown:e.startDrag,mouseup:e.stopDrag,touchstart:e.startDrag,touchend:e.stopDrag}},[n("span",{staticClass:"top-handle"}),e._v(" "),n("span",{staticClass:"bottom-handle"})])],1)])}),[],!1,null,null,null).exports,f={components:{ImageViewer:i.a},props:{newPath:{type:String,required:!0},oldPath:{type:String,required:!0}},data:function(){return{onionMaxWidth:void 0,onionMaxHeight:void 0,onionOldImgInfo:null,onionNewImgInfo:null,onionDraggerPos:0,onionOpacity:1,dragging:!1}},computed:{onionMaxPixelWidth:function(){return u(this.onionMaxWidth)},onionMaxPixelHeight:function(){return u(this.onionMaxHeight)},onionDraggerPixelPos:function(){return u(this.onionDraggerPos)}},beforeDestroy:function(){document.body.removeEventListener("mouseup",this.stopDrag),document.body.removeEventListener("touchend",this.stopDrag),document.body.removeEventListener("mousemove",this.dragMove),document.body.removeEventListener("touchmove",this.dragMove)},methods:{dragMove:function(e){if(this.dragging){var t=(e.pageX||e.touches[0].pageX)-this.$refs.dragTrack.getBoundingClientRect().left,n=this.$refs.dragTrack.clientWidth-this.$refs.dragger.clientWidth||100,r=t;r<0&&(r=0),r>n&&(r=n),this.onionOpacity=t/n,this.onionDraggerPos=r}},startDrag:function(){this.dragging=!0,document.body.style.userSelect="none",document.body.addEventListener("mousemove",this.dragMove),document.body.addEventListener("touchmove",this.dragMove)},stopDrag:function(){this.dragging=!1,document.body.style.userSelect="",document.body.removeEventListener("mousemove",this.dragMove),document.body.removeEventListener("touchmove",this.dragMove)},prepareOnionSkin:function(){this.onionOldImgInfo&&this.onionNewImgInfo&&(this.onionMaxWidth=Math.max(this.onionOldImgInfo.renderedWidth,this.onionNewImgInfo.renderedWidth),this.onionMaxHeight=Math.max(this.onionOldImgInfo.renderedHeight,this.onionNewImgInfo.renderedHeight),this.onionOpacity=1,this.onionDraggerPos=this.$refs.dragTrack.clientWidth-this.$refs.dragger.clientWidth||100,document.body.addEventListener("mouseup",this.stopDrag),document.body.addEventListener("touchend",this.stopDrag))},onionNewImgLoaded:function(e){this.onionNewImgInfo=e,this.prepareOnionSkin()},onionOldImgLoaded:function(e){this.onionOldImgInfo=e,this.prepareOnionSkin()}}},h=Object(o.a)(f,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"onion-skin view"},[n("div",{staticClass:"onion-skin-frame",style:{width:e.onionMaxPixelWidth,height:e.onionMaxPixelHeight,"user-select":e.dragging?"none":null}},[n("div",{staticClass:"frame deleted",style:{width:e.onionMaxPixelWidth,height:e.onionMaxPixelHeight}},[n("image-viewer",{key:"onionOldImg",attrs:{"render-info":!1,path:e.oldPath},on:{imgLoaded:e.onionOldImgLoaded}})],1),e._v(" "),n("div",{ref:"addedFrame",staticClass:"added frame",style:{opacity:e.onionOpacity,width:e.onionMaxPixelWidth,height:e.onionMaxPixelHeight}},[n("image-viewer",{key:"onionNewImg",attrs:{"render-info":!1,path:e.newPath},on:{imgLoaded:e.onionNewImgLoaded}},[e._t("image-overlay",null,{slot:"image-overlay"})],2)],1),e._v(" "),n("div",{staticClass:"controls"},[n("div",{staticClass:"transparent"}),e._v(" "),n("div",{ref:"dragTrack",staticClass:"drag-track",on:{mousedown:e.startDrag,mouseup:e.stopDrag,touchstart:e.startDrag,touchend:e.stopDrag}},[n("div",{ref:"dragger",staticClass:"dragger",style:{left:e.onionDraggerPixelPos}})]),e._v(" "),n("div",{staticClass:"opaque"})])])])}),[],!1,null,null,null).exports,m={replaced:"replaced",new:"new",deleted:"deleted",renamed:"renamed"},g={twoup:"twoup",swipe:"swipe",onion:"onion"},b={components:{ImageViewer:i.a},props:{diffMode:{type:String,required:!0},newPath:{type:String,required:!0},oldPath:{type:String,required:!0},newSize:{type:Number,required:!1,default:0},oldSize:{type:Number,required:!1,default:0}},data:function(){return{mode:g.twoup}},computed:{imageViewComponent:function(){switch(this.mode){case g.twoup:return s;case g.swipe:return p;case g.onion:return h;default:return}},isNew:function(){return this.diffMode===m.new},isRenamed:function(){return this.diffMode===m.renamed},imagePath:function(){return this.isNew||this.isRenamed?this.newPath:this.oldPath}},methods:{changeMode:function(e){this.mode=e}},diffModes:m,imageViewMode:g},v=Object(o.a)(b,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"diff-file-container"},[e.diffMode===e.$options.diffModes.replaced?n("div",{staticClass:"diff-viewer"},[n("div",{staticClass:"image js-replaced-image"},[n(e.imageViewComponent,e._b({tag:"component"},"component",e.$props,!1),[e._t("image-overlay",null,{slot:"image-overlay"})],2)],1),e._v(" "),n("div",{staticClass:"view-modes"},[n("ul",{staticClass:"view-modes-menu"},[n("li",{class:{active:e.mode===e.$options.imageViewMode.twoup},on:{click:function(t){return e.changeMode(e.$options.imageViewMode.twoup)}}},[e._v("\n          "+e._s(e.s__("ImageDiffViewer|2-up"))+"\n        ")]),e._v(" "),n("li",{class:{active:e.mode===e.$options.imageViewMode.swipe},on:{click:function(t){return e.changeMode(e.$options.imageViewMode.swipe)}}},[e._v("\n          "+e._s(e.s__("ImageDiffViewer|Swipe"))+"\n        ")]),e._v(" "),n("li",{class:{active:e.mode===e.$options.imageViewMode.onion},on:{click:function(t){return e.changeMode(e.$options.imageViewMode.onion)}}},[e._v("\n          "+e._s(e.s__("ImageDiffViewer|Onion skin"))+"\n        ")])])])]):n("div",{staticClass:"diff-viewer"},[n("div",{staticClass:"image"},[n("image-viewer",{attrs:{path:e.imagePath,"file-size":e.isNew?e.newSize:e.oldSize,"inner-css-classes":["frame",{added:e.isNew,deleted:e.diffMode===e.$options.diffModes.deleted}]}},[e.isNew||e.isRenamed?e._t("image-overlay",null,{slot:"image-overlay"}):e._e()],2)],1)])])}),[],!1,null,null,null).exports,y={components:{DownloadViewer:n(671).a},props:{diffMode:{type:String,required:!0},newPath:{type:String,required:!0},oldPath:{type:String,required:!0},projectPath:{type:String,required:!1,default:""}},diffModes:m},w=Object(o.a)(y,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"diff-file-container"},[n("div",{staticClass:"diff-viewer"},[e.diffMode===e.$options.diffModes.replaced?n("div",{staticClass:"two-up view row"},[n("div",{staticClass:"col-sm-6 deleted"},[n("download-viewer",{attrs:{path:e.oldPath,"project-path":e.projectPath}})],1),e._v(" "),n("div",{staticClass:"col-sm-6 added"},[n("download-viewer",{attrs:{path:e.newPath,"project-path":e.projectPath}})],1)]):e.diffMode===e.$options.diffModes.new?n("div",{staticClass:"added"},[n("download-viewer",{attrs:{path:e.newPath,"project-path":e.projectPath}})],1):n("div",{staticClass:"deleted"},[n("download-viewer",{attrs:{path:e.oldPath,"project-path":e.projectPath}})],1)])])}),[],!1,null,null,null).exports,O=Object(o.a)({},(function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"nothing-here-block"},[this._v(this._s(this.__("File moved")))])}),[],!1,null,null,null).exports,_=n(1),j={props:{aMode:{type:String,required:!1,default:null},bMode:{type:String,required:!1,default:null}},computed:{outputText:function(){return Object(_.e)(Object(_.a)("File mode changed from %{a_mode} to %{b_mode}"),{a_mode:this.aMode,b_mode:this.bMode})}}},E=Object(o.a)(j,(function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"nothing-here-block"},[this._v(this._s(this.outputText))])}),[],!1,null,null,null).exports,P={props:{diffMode:{type:String,required:!0},diffViewerMode:{type:String,required:!0},newPath:{type:String,required:!0},newSha:{type:String,required:!0},newSize:{type:Number,required:!1,default:0},oldPath:{type:String,required:!0},oldSha:{type:String,required:!0},oldSize:{type:Number,required:!1,default:0},projectPath:{type:String,required:!1,default:""},aMode:{type:String,required:!1,default:null},bMode:{type:String,required:!1,default:null}},computed:{viewer:function(){if(this.diffViewerMode===r.l.renamed)return O;if(this.diffMode===r.j.mode_changed)return E;if(!this.newPath)return null;switch(this.diffViewerMode){case r.l.image:return v;default:return w}},basePath:function(){return 0===this.projectPath.indexOf("/")?"":"".concat(gon.relative_url_root,"/")},fullOldPath:function(){return"".concat(this.basePath).concat(this.projectPath,"/-/raw/").concat(this.oldSha,"/").concat(this.oldPath)},fullNewPath:function(){return"".concat(this.basePath).concat(this.projectPath,"/-/raw/").concat(this.newSha,"/").concat(this.newPath)}}},C=Object(o.a)(P,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.viewer?n("div",{staticClass:"diff-file preview-container"},[n(e.viewer,{tag:"component",attrs:{"diff-mode":e.diffMode,"new-path":e.fullNewPath,"old-path":e.fullOldPath,"old-size":e.oldSize,"new-size":e.newSize,"project-path":e.projectPath,"a-mode":e.aMode,"b-mode":e.bMode}},[e._t("image-overlay",null,{slot:"image-overlay"})],2),e._v(" "),e._t("default")],2):e._e()}),[],!1,null,null,null);t.a=C.exports},686:function(e,t,n){"use strict";n(30),n(72);var r=n(828),i=n(45),a=n(687),o=n(1),s={components:{Icon:i.a},directives:{GlTooltip:r.a},props:{file:{type:Object,required:!0},showTooltip:{type:Boolean,required:!1,default:!1},showStagedIcon:{type:Boolean,required:!1,default:!0},size:{type:Number,required:!1,default:12},isCentered:{type:Boolean,required:!1,default:!0}},computed:{changedIcon:function(){var e=this.file.staged&&this.showStagedIcon?"-solid":"";return"".concat(Object(a.b)(this.file).icon).concat(e)},changedIconClass:function(){return"".concat(this.changedIcon," float-left d-block")},tooltipTitle:function(){if(this.showTooltip)return this.file.deleted?Object(o.a)("Deleted"):this.file.tempFile?Object(o.a)("Added"):this.file.changed?Object(o.a)("Modified"):void 0},showIcon:function(){return this.file.changed||this.file.tempFile||this.file.staged||this.file.deleted||this.file.prevPath}}},c=(n(1378),n(4)),l=Object(c.a)(s,(function(){var e=this.$createElement,t=this._self._c||e;return t("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.right",modifiers:{right:!0}}],staticClass:"file-changed-icon d-inline-block",class:{"ml-auto":this.isCentered},attrs:{title:this.tooltipTitle}},[this.showIcon?t("icon",{class:this.changedIconClass,attrs:{name:this.changedIcon,size:this.size}}):this._e()],1)}),[],!1,null,null,null);t.a=l.exports},687:function(e,t,n){"use strict";n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return m}));n(30),n(42),n(104),n(40),n(498),n(46),n(18),n(55),n(1022),n(122),n(36),n(67),n(1023),n(1024),n(1025),n(1026),n(1027),n(1028),n(1029),n(1030),n(1031),n(1032),n(1033),n(1034),n(1035),n(1036),n(1037),n(1038),n(41);var r=n(777),i=n.n(r),a=n(117),o=n(245),s=function(e){return e.toLowerCase()},c=o.languages.getLanguages(),l=new Set(i()(c.map((function(e){var t;return(null===(t=e.extensions)||void 0===t?void 0:t.map(s))||[]})))),u=new Set(i()(c.map((function(e){var t;return(null===(t=e.mimetypes)||void 0===t?void 0:t.map(s))||[]})))),d=new Set(i()(c.map((function(e){var t;return(null===(t=e.filenames)||void 0===t?void 0:t.map(s))||[]})))),p=[{isText:!1,isMatch:function(e){return e.toLowerCase().includes("image/")}},{isText:!0,isMatch:function(e){return e.toLowerCase().includes("text/")}},{isText:!0,isMatch:function(e,t){var n=t.includes(".")?".".concat(t.split(".").pop()):"";return l.has(n.toLowerCase())||u.has(e.toLowerCase())||d.has(t.toLowerCase())}}];function f(e,t,n){var r=p.find((function(e){return e.isMatch(t,n)}));if(r)return r.isText;return/^[ -~\t\n\r]+$/.test(e)}var h=function(e){return e.deleted?a.i.deleted:e.tempFile&&!e.prevPath?a.i.addition:a.i.modified},m=function(e){var t=e.lastIndexOf(".")>=0?e.substring(e.lastIndexOf(".")+1):"";return"".concat(e.substring(1,e.lastIndexOf(".")+1||e.length)).concat(t||".js")}},748:function(e,t,n){"use strict";
/*!
  * vue-router v3.0.2
  * (c) 2018 Evan You
  * @license MIT
  */function r(e){return Object.prototype.toString.call(e).indexOf("Error")>-1}function i(e,t){for(var n in t)e[n]=t[n];return e}var a={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(e,t){var n=t.props,r=t.children,a=t.parent,o=t.data;o.routerView=!0;for(var s=a.$createElement,c=n.name,l=a.$route,u=a._routerViewCache||(a._routerViewCache={}),d=0,p=!1;a&&a._routerRoot!==a;)a.$vnode&&a.$vnode.data.routerView&&d++,a._inactive&&(p=!0),a=a.$parent;if(o.routerViewDepth=d,p)return s(u[c],o,r);var f=l.matched[d];if(!f)return u[c]=null,s();var h=u[c]=f.components[c];o.registerRouteInstance=function(e,t){var n=f.instances[c];(t&&n!==e||!t&&n===e)&&(f.instances[c]=t)},(o.hook||(o.hook={})).prepatch=function(e,t){f.instances[c]=t.componentInstance};var m=o.props=function(e,t){switch(typeof t){case"undefined":return;case"object":return t;case"function":return t(e);case"boolean":return t?e.params:void 0;default:0}}(l,f.props&&f.props[c]);if(m){m=o.props=i({},m);var g=o.attrs=o.attrs||{};for(var b in m)h.props&&b in h.props||(g[b]=m[b],delete m[b])}return s(h,o,r)}};var o=/[!'()*]/g,s=function(e){return"%"+e.charCodeAt(0).toString(16)},c=/%2C/g,l=function(e){return encodeURIComponent(e).replace(o,s).replace(c,",")},u=decodeURIComponent;function d(e){var t={};return(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach((function(e){var n=e.replace(/\+/g," ").split("="),r=u(n.shift()),i=n.length>0?u(n.join("=")):null;void 0===t[r]?t[r]=i:Array.isArray(t[r])?t[r].push(i):t[r]=[t[r],i]})),t):t}function p(e){var t=e?Object.keys(e).map((function(t){var n=e[t];if(void 0===n)return"";if(null===n)return l(t);if(Array.isArray(n)){var r=[];return n.forEach((function(e){void 0!==e&&(null===e?r.push(l(t)):r.push(l(t)+"="+l(e)))})),r.join("&")}return l(t)+"="+l(n)})).filter((function(e){return e.length>0})).join("&"):null;return t?"?"+t:""}var f=/\/?$/;function h(e,t,n,r){var i=r&&r.options.stringifyQuery,a=t.query||{};try{a=m(a)}catch(e){}var o={name:t.name||e&&e.name,meta:e&&e.meta||{},path:t.path||"/",hash:t.hash||"",query:a,params:t.params||{},fullPath:v(t,i),matched:e?b(e):[]};return n&&(o.redirectedFrom=v(n,i)),Object.freeze(o)}function m(e){if(Array.isArray(e))return e.map(m);if(e&&"object"==typeof e){var t={};for(var n in e)t[n]=m(e[n]);return t}return e}var g=h(null,{path:"/"});function b(e){for(var t=[];e;)t.unshift(e),e=e.parent;return t}function v(e,t){var n=e.path,r=e.query;void 0===r&&(r={});var i=e.hash;return void 0===i&&(i=""),(n||"/")+(t||p)(r)+i}function y(e,t){return t===g?e===t:!!t&&(e.path&&t.path?e.path.replace(f,"")===t.path.replace(f,"")&&e.hash===t.hash&&w(e.query,t.query):!(!e.name||!t.name)&&(e.name===t.name&&e.hash===t.hash&&w(e.query,t.query)&&w(e.params,t.params)))}function w(e,t){if(void 0===e&&(e={}),void 0===t&&(t={}),!e||!t)return e===t;var n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every((function(n){var r=e[n],i=t[n];return"object"==typeof r&&"object"==typeof i?w(r,i):String(r)===String(i)}))}var O,_=[String,Object],j=[String,Array],E={name:"RouterLink",props:{to:{type:_,required:!0},tag:{type:String,default:"a"},exact:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,event:{type:j,default:"click"}},render:function(e){var t=this,n=this.$router,r=this.$route,a=n.resolve(this.to,r,this.append),o=a.location,s=a.route,c=a.href,l={},u=n.options.linkActiveClass,d=n.options.linkExactActiveClass,p=null==u?"router-link-active":u,m=null==d?"router-link-exact-active":d,g=null==this.activeClass?p:this.activeClass,b=null==this.exactActiveClass?m:this.exactActiveClass,v=o.path?h(null,o,null,n):s;l[b]=y(r,v),l[g]=this.exact?l[b]:function(e,t){return 0===e.path.replace(f,"/").indexOf(t.path.replace(f,"/"))&&(!t.hash||e.hash===t.hash)&&function(e,t){for(var n in t)if(!(n in e))return!1;return!0}(e.query,t.query)}(r,v);var w=function(e){P(e)&&(t.replace?n.replace(o):n.push(o))},O={click:P};Array.isArray(this.event)?this.event.forEach((function(e){O[e]=w})):O[this.event]=w;var _={class:l};if("a"===this.tag)_.on=O,_.attrs={href:c};else{var j=function e(t){if(t)for(var n,r=0;r<t.length;r++){if("a"===(n=t[r]).tag)return n;if(n.children&&(n=e(n.children)))return n}}(this.$slots.default);if(j)j.isStatic=!1,(j.data=i({},j.data)).on=O,(j.data.attrs=i({},j.data.attrs)).href=c;else _.on=O}return e(this.tag,_,this.$slots.default)}};function P(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey||e.defaultPrevented||void 0!==e.button&&0!==e.button)){if(e.currentTarget&&e.currentTarget.getAttribute){var t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}var C="undefined"!=typeof window;function S(e,t,n){var r=e.charAt(0);if("/"===r)return e;if("?"===r||"#"===r)return t+e;var i=t.split("/");n&&i[i.length-1]||i.pop();for(var a=e.replace(/^\//,"").split("/"),o=0;o<a.length;o++){var s=a[o];".."===s?i.pop():"."!==s&&i.push(s)}return""!==i[0]&&i.unshift(""),i.join("/")}function k(e){return e.replace(/\/\//g,"/")}var T=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)},x=G,I=L,D=function(e,t){return q(L(e,t))},R=q,M=z,F=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function L(e,t){for(var n,r=[],i=0,a=0,o="",s=t&&t.delimiter||"/";null!=(n=F.exec(e));){var c=n[0],l=n[1],u=n.index;if(o+=e.slice(a,u),a=u+c.length,l)o+=l[1];else{var d=e[a],p=n[2],f=n[3],h=n[4],m=n[5],g=n[6],b=n[7];o&&(r.push(o),o="");var v=null!=p&&null!=d&&d!==p,y="+"===g||"*"===g,w="?"===g||"*"===g,O=n[2]||s,_=h||m;r.push({name:f||i++,prefix:p||"",delimiter:O,optional:w,repeat:y,partial:v,asterisk:!!b,pattern:_?B(_):b?".*":"[^"+N(O)+"]+?"})}}return a<e.length&&(o+=e.substr(a)),o&&r.push(o),r}function A(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function q(e){for(var t=new Array(e.length),n=0;n<e.length;n++)"object"==typeof e[n]&&(t[n]=new RegExp("^(?:"+e[n].pattern+")$"));return function(n,r){for(var i="",a=n||{},o=(r||{}).pretty?A:encodeURIComponent,s=0;s<e.length;s++){var c=e[s];if("string"!=typeof c){var l,u=a[c.name];if(null==u){if(c.optional){c.partial&&(i+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(T(u)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(u)+"`");if(0===u.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var d=0;d<u.length;d++){if(l=o(u[d]),!t[s].test(l))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(l)+"`");i+=(0===d?c.prefix:c.delimiter)+l}}else{if(l=c.asterisk?encodeURI(u).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):o(u),!t[s].test(l))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+l+'"');i+=c.prefix+l}}else i+=c}return i}}function N(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function B(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function $(e,t){return e.keys=t,e}function V(e){return e.sensitive?"":"i"}function z(e,t,n){T(t)||(n=t||n,t=[]);for(var r=(n=n||{}).strict,i=!1!==n.end,a="",o=0;o<e.length;o++){var s=e[o];if("string"==typeof s)a+=N(s);else{var c=N(s.prefix),l="(?:"+s.pattern+")";t.push(s),s.repeat&&(l+="(?:"+c+l+")*"),a+=l=s.optional?s.partial?c+"("+l+")?":"(?:"+c+"("+l+"))?":c+"("+l+")"}}var u=N(n.delimiter||"/"),d=a.slice(-u.length)===u;return r||(a=(d?a.slice(0,-u.length):a)+"(?:"+u+"(?=$))?"),a+=i?"$":r&&d?"":"(?="+u+"|$)",$(new RegExp("^"+a,V(n)),t)}function G(e,t,n){return T(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return $(e,t)}(e,t):T(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(G(e[i],t,n).source);return $(new RegExp("(?:"+r.join("|")+")",V(n)),t)}(e,t,n):function(e,t,n){return z(L(e,n),t,n)}(e,t,n)}x.parse=I,x.compile=D,x.tokensToFunction=R,x.tokensToRegExp=M;var U=Object.create(null);function H(e,t,n){try{return(U[e]||(U[e]=x.compile(e)))(t||{},{pretty:!0})}catch(e){return""}}function W(e,t,n,r){var i=t||[],a=n||Object.create(null),o=r||Object.create(null);e.forEach((function(e){!function e(t,n,r,i,a,o){var s=i.path;var c=i.name;0;var l=i.pathToRegexpOptions||{};var u=function(e,t,n){n||(e=e.replace(/\/$/,""));if("/"===e[0])return e;if(null==t)return e;return k(t.path+"/"+e)}(s,a,l.strict);"boolean"==typeof i.caseSensitive&&(l.sensitive=i.caseSensitive);var d={path:u,regex:J(u,l),components:i.components||{default:i.component},instances:{},name:c,parent:a,matchAs:o,redirect:i.redirect,beforeEnter:i.beforeEnter,meta:i.meta||{},props:null==i.props?{}:i.components?i.props:{default:i.props}};i.children&&i.children.forEach((function(i){var a=o?k(o+"/"+i.path):void 0;e(t,n,r,i,d,a)}));if(void 0!==i.alias){(Array.isArray(i.alias)?i.alias:[i.alias]).forEach((function(o){var s={path:o,children:i.children};e(t,n,r,s,a,d.path||"/")}))}n[d.path]||(t.push(d.path),n[d.path]=d);c&&(r[c]||(r[c]=d))}(i,a,o,e)}));for(var s=0,c=i.length;s<c;s++)"*"===i[s]&&(i.push(i.splice(s,1)[0]),c--,s--);return{pathList:i,pathMap:a,nameMap:o}}function J(e,t){return x(e,[],t)}function K(e,t,n,r){var a="string"==typeof e?{path:e}:e;if(a.name||a._normalized)return a;if(!a.path&&a.params&&t){(a=i({},a))._normalized=!0;var o=i(i({},t.params),a.params);if(t.name)a.name=t.name,a.params=o;else if(t.matched.length){var s=t.matched[t.matched.length-1].path;a.path=H(s,o,t.path)}else 0;return a}var c=function(e){var t="",n="",r=e.indexOf("#");r>=0&&(t=e.slice(r),e=e.slice(0,r));var i=e.indexOf("?");return i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),{path:e,query:n,hash:t}}(a.path||""),l=t&&t.path||"/",u=c.path?S(c.path,l,n||a.append):l,p=function(e,t,n){void 0===t&&(t={});var r,i=n||d;try{r=i(e||"")}catch(e){r={}}for(var a in t)r[a]=t[a];return r}(c.query,a.query,r&&r.options.parseQuery),f=a.hash||c.hash;return f&&"#"!==f.charAt(0)&&(f="#"+f),{_normalized:!0,path:u,query:p,hash:f}}function Y(e,t){var n=W(e),r=n.pathList,i=n.pathMap,a=n.nameMap;function o(e,n,o){var s=K(e,n,!1,t),l=s.name;if(l){var u=a[l];if(!u)return c(null,s);var d=u.regex.keys.filter((function(e){return!e.optional})).map((function(e){return e.name}));if("object"!=typeof s.params&&(s.params={}),n&&"object"==typeof n.params)for(var p in n.params)!(p in s.params)&&d.indexOf(p)>-1&&(s.params[p]=n.params[p]);if(u)return s.path=H(u.path,s.params),c(u,s,o)}else if(s.path){s.params={};for(var f=0;f<r.length;f++){var h=r[f],m=i[h];if(Q(m.regex,s.path,s.params))return c(m,s,o)}}return c(null,s)}function s(e,n){var r=e.redirect,i="function"==typeof r?r(h(e,n,null,t)):r;if("string"==typeof i&&(i={path:i}),!i||"object"!=typeof i)return c(null,n);var s=i,l=s.name,u=s.path,d=n.query,p=n.hash,f=n.params;if(d=s.hasOwnProperty("query")?s.query:d,p=s.hasOwnProperty("hash")?s.hash:p,f=s.hasOwnProperty("params")?s.params:f,l){a[l];return o({_normalized:!0,name:l,query:d,hash:p,params:f},void 0,n)}if(u){var m=function(e,t){return S(e,t.parent?t.parent.path:"/",!0)}(u,e);return o({_normalized:!0,path:H(m,f),query:d,hash:p},void 0,n)}return c(null,n)}function c(e,n,r){return e&&e.redirect?s(e,r||n):e&&e.matchAs?function(e,t,n){var r=o({_normalized:!0,path:H(n,t.params)});if(r){var i=r.matched,a=i[i.length-1];return t.params=r.params,c(a,t)}return c(null,t)}(0,n,e.matchAs):h(e,n,r,t)}return{match:o,addRoutes:function(e){W(e,r,i,a)}}}function Q(e,t,n){var r=t.match(e);if(!r)return!1;if(!n)return!0;for(var i=1,a=r.length;i<a;++i){var o=e.keys[i-1],s="string"==typeof r[i]?decodeURIComponent(r[i]):r[i];o&&(n[o.name||"pathMatch"]=s)}return!0}var X=Object.create(null);function Z(){window.history.replaceState({key:de()},"",window.location.href.replace(window.location.origin,"")),window.addEventListener("popstate",(function(e){var t;te(),e.state&&e.state.key&&(t=e.state.key,le=t)}))}function ee(e,t,n,r){if(e.app){var i=e.options.scrollBehavior;i&&e.app.$nextTick((function(){var a=function(){var e=de();if(e)return X[e]}(),o=i.call(e,t,n,r?a:null);o&&("function"==typeof o.then?o.then((function(e){ae(e,a)})).catch((function(e){0})):ae(o,a))}))}}function te(){var e=de();e&&(X[e]={x:window.pageXOffset,y:window.pageYOffset})}function ne(e){return ie(e.x)||ie(e.y)}function re(e){return{x:ie(e.x)?e.x:window.pageXOffset,y:ie(e.y)?e.y:window.pageYOffset}}function ie(e){return"number"==typeof e}function ae(e,t){var n,r="object"==typeof e;if(r&&"string"==typeof e.selector){var i=document.querySelector(e.selector);if(i){var a=e.offset&&"object"==typeof e.offset?e.offset:{};t=function(e,t){var n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{x:r.left-n.left-t.x,y:r.top-n.top-t.y}}(i,a={x:ie((n=a).x)?n.x:0,y:ie(n.y)?n.y:0})}else ne(e)&&(t=re(e))}else r&&ne(e)&&(t=re(e));t&&window.scrollTo(t.x,t.y)}var oe,se=C&&((-1===(oe=window.navigator.userAgent).indexOf("Android 2.")&&-1===oe.indexOf("Android 4.0")||-1===oe.indexOf("Mobile Safari")||-1!==oe.indexOf("Chrome")||-1!==oe.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history),ce=C&&window.performance&&window.performance.now?window.performance:Date,le=ue();function ue(){return ce.now().toFixed(3)}function de(){return le}function pe(e,t){te();var n=window.history;try{t?n.replaceState({key:le},"",e):(le=ue(),n.pushState({key:le},"",e))}catch(n){window.location[t?"replace":"assign"](e)}}function fe(e){pe(e,!0)}function he(e,t,n){var r=function(i){i>=e.length?n():e[i]?t(e[i],(function(){r(i+1)})):r(i+1)};r(0)}function me(e){return function(t,n,i){var a=!1,o=0,s=null;ge(e,(function(e,t,n,c){if("function"==typeof e&&void 0===e.cid){a=!0,o++;var l,u=ye((function(t){var r;((r=t).__esModule||ve&&"Module"===r[Symbol.toStringTag])&&(t=t.default),e.resolved="function"==typeof t?t:O.extend(t),n.components[c]=t,--o<=0&&i()})),d=ye((function(e){var t="Failed to resolve async component "+c+": "+e;s||(s=r(e)?e:new Error(t),i(s))}));try{l=e(u,d)}catch(e){d(e)}if(l)if("function"==typeof l.then)l.then(u,d);else{var p=l.component;p&&"function"==typeof p.then&&p.then(u,d)}}})),a||i()}}function ge(e,t){return be(e.map((function(e){return Object.keys(e.components).map((function(n){return t(e.components[n],e.instances[n],e,n)}))})))}function be(e){return Array.prototype.concat.apply([],e)}var ve="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;function ye(e){var t=!1;return function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];if(!t)return t=!0,e.apply(this,n)}}var we=function(e,t){this.router=e,this.base=function(e){if(!e)if(C){var t=document.querySelector("base");e=(e=t&&t.getAttribute("href")||"/").replace(/^https?:\/\/[^\/]+/,"")}else e="/";"/"!==e.charAt(0)&&(e="/"+e);return e.replace(/\/$/,"")}(t),this.current=g,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[]};function Oe(e,t,n,r){var i=ge(e,(function(e,r,i,a){var o=function(e,t){"function"!=typeof e&&(e=O.extend(e));return e.options[t]}(e,t);if(o)return Array.isArray(o)?o.map((function(e){return n(e,r,i,a)})):n(o,r,i,a)}));return be(r?i.reverse():i)}function _e(e,t){if(t)return function(){return e.apply(t,arguments)}}we.prototype.listen=function(e){this.cb=e},we.prototype.onReady=function(e,t){this.ready?e():(this.readyCbs.push(e),t&&this.readyErrorCbs.push(t))},we.prototype.onError=function(e){this.errorCbs.push(e)},we.prototype.transitionTo=function(e,t,n){var r=this,i=this.router.match(e,this.current);this.confirmTransition(i,(function(){r.updateRoute(i),t&&t(i),r.ensureURL(),r.ready||(r.ready=!0,r.readyCbs.forEach((function(e){e(i)})))}),(function(e){n&&n(e),e&&!r.ready&&(r.ready=!0,r.readyErrorCbs.forEach((function(t){t(e)})))}))},we.prototype.confirmTransition=function(e,t,n){var i=this,a=this.current,o=function(e){r(e)&&(i.errorCbs.length?i.errorCbs.forEach((function(t){t(e)})):console.error(e)),n&&n(e)};if(y(e,a)&&e.matched.length===a.matched.length)return this.ensureURL(),o();var s=function(e,t){var n,r=Math.max(e.length,t.length);for(n=0;n<r&&e[n]===t[n];n++);return{updated:t.slice(0,n),activated:t.slice(n),deactivated:e.slice(n)}}(this.current.matched,e.matched),c=s.updated,l=s.deactivated,u=s.activated,d=[].concat(function(e){return Oe(e,"beforeRouteLeave",_e,!0)}(l),this.router.beforeHooks,function(e){return Oe(e,"beforeRouteUpdate",_e)}(c),u.map((function(e){return e.beforeEnter})),me(u));this.pending=e;var p=function(t,n){if(i.pending!==e)return o();try{t(e,a,(function(e){!1===e||r(e)?(i.ensureURL(!0),o(e)):"string"==typeof e||"object"==typeof e&&("string"==typeof e.path||"string"==typeof e.name)?(o(),"object"==typeof e&&e.replace?i.replace(e):i.push(e)):n(e)}))}catch(e){o(e)}};he(d,p,(function(){var n=[];he(function(e,t,n){return Oe(e,"beforeRouteEnter",(function(e,r,i,a){return function(e,t,n,r,i){return function(a,o,s){return e(a,o,(function(e){s(e),"function"==typeof e&&r.push((function(){!function e(t,n,r,i){n[r]&&!n[r]._isBeingDestroyed?t(n[r]):i()&&setTimeout((function(){e(t,n,r,i)}),16)}(e,t.instances,n,i)}))}))}}(e,i,a,t,n)}))}(u,n,(function(){return i.current===e})).concat(i.router.resolveHooks),p,(function(){if(i.pending!==e)return o();i.pending=null,t(e),i.router.app&&i.router.app.$nextTick((function(){n.forEach((function(e){e()}))}))}))}))},we.prototype.updateRoute=function(e){var t=this.current;this.current=e,this.cb&&this.cb(e),this.router.afterHooks.forEach((function(n){n&&n(e,t)}))};var je=function(e){function t(t,n){var r=this;e.call(this,t,n);var i=t.options.scrollBehavior,a=se&&i;a&&Z();var o=Ee(this.base);window.addEventListener("popstate",(function(e){var n=r.current,i=Ee(r.base);r.current===g&&i===o||r.transitionTo(i,(function(e){a&&ee(t,e,n,!0)}))}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.go=function(e){window.history.go(e)},t.prototype.push=function(e,t,n){var r=this,i=this.current;this.transitionTo(e,(function(e){pe(k(r.base+e.fullPath)),ee(r.router,e,i,!1),t&&t(e)}),n)},t.prototype.replace=function(e,t,n){var r=this,i=this.current;this.transitionTo(e,(function(e){fe(k(r.base+e.fullPath)),ee(r.router,e,i,!1),t&&t(e)}),n)},t.prototype.ensureURL=function(e){if(Ee(this.base)!==this.current.fullPath){var t=k(this.base+this.current.fullPath);e?pe(t):fe(t)}},t.prototype.getCurrentLocation=function(){return Ee(this.base)},t}(we);function Ee(e){var t=decodeURI(window.location.pathname);return e&&0===t.indexOf(e)&&(t=t.slice(e.length)),(t||"/")+window.location.search+window.location.hash}var Pe=function(e){function t(t,n,r){e.call(this,t,n),r&&function(e){var t=Ee(e);if(!/^\/#/.test(t))return window.location.replace(k(e+"/#"+t)),!0}(this.base)||Ce()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setupListeners=function(){var e=this,t=this.router.options.scrollBehavior,n=se&&t;n&&Z(),window.addEventListener(se?"popstate":"hashchange",(function(){var t=e.current;Ce()&&e.transitionTo(Se(),(function(r){n&&ee(e.router,r,t,!0),se||xe(r.fullPath)}))}))},t.prototype.push=function(e,t,n){var r=this,i=this.current;this.transitionTo(e,(function(e){Te(e.fullPath),ee(r.router,e,i,!1),t&&t(e)}),n)},t.prototype.replace=function(e,t,n){var r=this,i=this.current;this.transitionTo(e,(function(e){xe(e.fullPath),ee(r.router,e,i,!1),t&&t(e)}),n)},t.prototype.go=function(e){window.history.go(e)},t.prototype.ensureURL=function(e){var t=this.current.fullPath;Se()!==t&&(e?Te(t):xe(t))},t.prototype.getCurrentLocation=function(){return Se()},t}(we);function Ce(){var e=Se();return"/"===e.charAt(0)||(xe("/"+e),!1)}function Se(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":decodeURI(e.slice(t+1))}function ke(e){var t=window.location.href,n=t.indexOf("#");return(n>=0?t.slice(0,n):t)+"#"+e}function Te(e){se?pe(ke(e)):window.location.hash=e}function xe(e){se?fe(ke(e)):window.location.replace(ke(e))}var Ie=function(e){function t(t,n){e.call(this,t,n),this.stack=[],this.index=-1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.push=function(e,t,n){var r=this;this.transitionTo(e,(function(e){r.stack=r.stack.slice(0,r.index+1).concat(e),r.index++,t&&t(e)}),n)},t.prototype.replace=function(e,t,n){var r=this;this.transitionTo(e,(function(e){r.stack=r.stack.slice(0,r.index).concat(e),t&&t(e)}),n)},t.prototype.go=function(e){var t=this,n=this.index+e;if(!(n<0||n>=this.stack.length)){var r=this.stack[n];this.confirmTransition(r,(function(){t.index=n,t.updateRoute(r)}))}},t.prototype.getCurrentLocation=function(){var e=this.stack[this.stack.length-1];return e?e.fullPath:"/"},t.prototype.ensureURL=function(){},t}(we),De=function(e){void 0===e&&(e={}),this.app=null,this.apps=[],this.options=e,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=Y(e.routes||[],this);var t=e.mode||"hash";switch(this.fallback="history"===t&&!se&&!1!==e.fallback,this.fallback&&(t="hash"),C||(t="abstract"),this.mode=t,t){case"history":this.history=new je(this,e.base);break;case"hash":this.history=new Pe(this,e.base,this.fallback);break;case"abstract":this.history=new Ie(this,e.base);break;default:0}},Re={currentRoute:{configurable:!0}};function Me(e,t){return e.push(t),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}}De.prototype.match=function(e,t,n){return this.matcher.match(e,t,n)},Re.currentRoute.get=function(){return this.history&&this.history.current},De.prototype.init=function(e){var t=this;if(this.apps.push(e),!this.app){this.app=e;var n=this.history;if(n instanceof je)n.transitionTo(n.getCurrentLocation());else if(n instanceof Pe){var r=function(){n.setupListeners()};n.transitionTo(n.getCurrentLocation(),r,r)}n.listen((function(e){t.apps.forEach((function(t){t._route=e}))}))}},De.prototype.beforeEach=function(e){return Me(this.beforeHooks,e)},De.prototype.beforeResolve=function(e){return Me(this.resolveHooks,e)},De.prototype.afterEach=function(e){return Me(this.afterHooks,e)},De.prototype.onReady=function(e,t){this.history.onReady(e,t)},De.prototype.onError=function(e){this.history.onError(e)},De.prototype.push=function(e,t,n){this.history.push(e,t,n)},De.prototype.replace=function(e,t,n){this.history.replace(e,t,n)},De.prototype.go=function(e){this.history.go(e)},De.prototype.back=function(){this.go(-1)},De.prototype.forward=function(){this.go(1)},De.prototype.getMatchedComponents=function(e){var t=e?e.matched?e:this.resolve(e).route:this.currentRoute;return t?[].concat.apply([],t.matched.map((function(e){return Object.keys(e.components).map((function(t){return e.components[t]}))}))):[]},De.prototype.resolve=function(e,t,n){var r=K(e,t||this.history.current,n,this),i=this.match(r,t),a=i.redirectedFrom||i.fullPath;return{location:r,route:i,href:function(e,t,n){var r="hash"===n?"#"+t:t;return e?k(e+"/"+r):r}(this.history.base,a,this.mode),normalizedTo:r,resolved:i}},De.prototype.addRoutes=function(e){this.matcher.addRoutes(e),this.history.current!==g&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(De.prototype,Re),De.install=function e(t){if(!e.installed||O!==t){e.installed=!0,O=t;var n=function(e){return void 0!==e},r=function(e,t){var r=e.$options._parentVnode;n(r)&&n(r=r.data)&&n(r=r.registerRouteInstance)&&r(e,t)};t.mixin({beforeCreate:function(){n(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),t.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,r(this,this)},destroyed:function(){r(this)}}),Object.defineProperty(t.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(t.prototype,"$route",{get:function(){return this._routerRoot._route}}),t.component("RouterView",a),t.component("RouterLink",E);var i=t.config.optionMergeStrategies;i.beforeRouteEnter=i.beforeRouteLeave=i.beforeRouteUpdate=i.created}},De.version="3.0.2",C&&window.Vue&&window.Vue.use(De),t.a=De},773:function(e,t,n){var r=n(1379);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,n(75).default)("54f5100c",r,!0,{})},774:function(e,t,n){var r=n(1381);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,n(75).default)("0a1e028c",r,!0,{})},775:function(e,t,n){var r=n(1383);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,n(75).default)("af2b7706",r,!0,{})},776:function(e,t,n){var r=n(1385);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,n(75).default)("4e9531f8",r,!0,{})},99:function(e,t,n){"use strict";var r=n(0),i=n.n(r);n(358);t.a={bind:function(e){var t=localStorage.getItem("gl-tooltip-delay"),n=t?JSON.parse(t):0;i()(e).tooltip({trigger:"hover",delay:n})},componentUpdated:function(e){i()(e).tooltip("_fixTitle");var t=i()(e).data("bs.tooltip"),n=t.getTipElement();t.setElementContent(i()(n.querySelectorAll(".tooltip-inner")),t.getTitle())},unbind:function(e){i()(e).tooltip("dispose")}}},991:function(e,t,n){"use strict";var r=n(760),i=n(1),a={components:{GlLoadingIcon:r.a},props:{isDisabled:{type:Boolean,required:!1,default:!1},isLoading:{type:Boolean,required:!1,default:!1},toggleText:{type:String,required:!1,default:Object(i.a)("Select")}}},o=n(4),s=Object(o.a)(a,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{staticClass:"dropdown-menu-toggle dropdown-menu-full-width",attrs:{disabled:e.isDisabled||e.isLoading,type:"button","data-toggle":"dropdown","aria-expanded":"false"}},[n("gl-loading-icon",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}],attrs:{inline:!0}}),e._v(" "),[e.$slots.default?e._t("default"):n("span",{staticClass:"dropdown-toggle-text"},[e._v(" "+e._s(e.toggleText)+" ")])],e._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:!e.isLoading,expression:"!isLoading"}],staticClass:"dropdown-toggle-icon"},[n("i",{staticClass:"fa fa-chevron-down",attrs:{"aria-hidden":"true","data-hidden":"true"}})])],2)}),[],!1,null,null,null);t.a=s.exports}},[[2221,1,0,19]]]);
//# sourceMappingURL=pages.ide.6dc56d1e.chunk.js.map