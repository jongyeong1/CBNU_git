(this.webpackJsonp=this.webpackJsonp||[]).push([[196],{130:function(e,t,i){"use strict";var n=i(17);t.a=new n.default},154:function(e,t,i){"use strict";var n={components:{GlLoadingIcon:i(760).a},props:{loading:{type:Boolean,required:!1,default:!1},disabled:{type:Boolean,required:!1,default:!1},label:{type:String,required:!1},containerClass:{type:[String,Array,Object],required:!1,default:"btn btn-align-content"}},methods:{onClick:function(e){this.$emit("click",e)}}},s=i(4),r=Object(s.a)(n,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("button",{class:e.containerClass,attrs:{disabled:e.loading||e.disabled,type:"button"},on:{click:e.onClick}},[i("transition",{attrs:{name:"fade-in"}},[e.loading?i("gl-loading-icon",{staticClass:"js-loading-button-icon",class:{"append-right-5":e.label},attrs:{inline:!0}}):e._e()],1),e._v(" "),i("transition",{attrs:{name:"fade-in"}},[e._t("default",[e.label?i("span",{staticClass:"js-loading-button-label"},[e._v(" "+e._s(e.label)+" ")]):e._e()])],2)],1)}),[],!1,null,null,null);t.a=r.exports},198:function(e,t,i){"use strict";var n=i(828),s=i(189),r=(i(62),{directives:{GlTooltip:n.a},mixins:[s.a],props:{time:{type:String,required:!0},tooltipPlacement:{type:String,required:!1,default:"top"},cssClass:{type:String,required:!1,default:""}}}),a=i(4),o=Object(a.a)(r,(function(){var e=this.$createElement;return(this._self._c||e)("time",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.viewport",value:{placement:this.tooltipPlacement},expression:"{ placement: tooltipPlacement }",modifiers:{viewport:!0}}],class:this.cssClass,attrs:{title:this.tooltipTitle(this.time)},domProps:{textContent:this._s(this.timeFormatted(this.time))}})}),[],!1,null,null,null);t.a=o.exports},233:function(e,t,i){"use strict";var n=i(108),s=i(348);n({target:"String",proto:!0,forced:i(349)("link")},{link:function(e){return s(this,"a","href",e)}})},2402:function(e,t,i){i(105),i(113),e.exports=i(2403)},2403:function(e,t,i){"use strict";i.r(t);i(986)},250:function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"c",(function(){return s})),i.d(t,"b",(function(){return r})),i.d(t,"d",(function(){return a}));var n="CANCEL_REQUEST",s="PIPELINES_TABLE",r=300,a={FAILED:"failed",SKIPPED:"skipped",SUCCESS:"success"}},320:function(e,t,i){"use strict";var n=i(108),s=i(234),r=i(518),a=i(239),o=i(330),l=i(354),c=i(519),u=i(356);n({target:"Promise",proto:!0,real:!0,forced:!!r&&a((function(){r.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=l(this,o("Promise")),i="function"==typeof e;return this.then(i?function(i){return c(t,e()).then((function(){return i}))}:e,i?function(i){return c(t,e()).then((function(){throw i}))}:e)}}),s||"function"!=typeof r||r.prototype.finally||u(r.prototype,"finally",o("Promise").prototype.finally)},362:function(e,t,i){"use strict";i(65),i(35),i(72);var n=i(301),s=i(828),r=i(363),a={components:{ciIcon:i(197).a},props:{name:{type:String,required:!0},status:{type:Object,required:!0}}},o=i(4),l=Object(o.a)(a,(function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"ci-job-name-component mw-100"},[t("ci-icon",{attrs:{status:this.status}}),this._v(" "),t("span",{staticClass:"ci-status-text text-truncate mw-70p gl-pl-1 d-inline-block align-bottom"},[this._v("\n    "+this._s(this.name)+"\n  ")])],1)}),[],!1,null,null,null).exports,c=i(1),u=i(449),d={components:{ActionComponent:r.a,JobNameComponent:l,GlLink:n.a},directives:{GlTooltip:s.a},mixins:[u.a],props:{job:{type:Object,required:!0},cssClassJobName:{type:String,required:!1,default:""},dropdownLength:{type:Number,required:!1,default:1/0}},computed:{boundary:function(){return 1===this.dropdownLength?"viewport":"scrollParent"},status:function(){return this.job&&this.job.status?this.job.status:{}},tooltipText:function(){var e=[],t=this.job.name;t&&e.push(t);var i=this.status.tooltip;return t&&i&&e.push("-"),i&&(this.isDelayedJob?e.push(Object(c.e)(i,{remainingTime:this.remainingTime})):e.push(i)),e.join(" ")},hasAction:function(){return this.job.status&&this.job.status.action&&this.job.status.action.path}},methods:{pipelineActionRequestComplete:function(){this.$emit("pipelineActionRequestComplete")}}},p=Object(o.a)(d,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ci-job-component"},[e.status.has_details?i("gl-link",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:{boundary:e.boundary,placement:"bottom"},expression:"{ boundary, placement: 'bottom' }"}],staticClass:"js-pipeline-graph-job-link qa-job-link menu-item",class:e.cssClassJobName,attrs:{href:e.status.details_path,title:e.tooltipText}},[i("job-name-component",{attrs:{name:e.job.name,status:e.job.status}})],1):i("div",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:{boundary:e.boundary,placement:"bottom"},expression:"{ boundary, placement: 'bottom' }"}],staticClass:"js-job-component-tooltip non-details-job-component",class:e.cssClassJobName,attrs:{title:e.tooltipText}},[i("job-name-component",{attrs:{name:e.job.name,status:e.job.status}})],1),e._v(" "),e.hasAction?i("action-component",{attrs:{"tooltip-text":e.status.action.title,link:e.status.action.path,"action-icon":e.status.action.icon},on:{pipelineActionRequestComplete:e.pipelineActionRequestComplete}}):e._e()],1)}),[],!1,null,null,null);t.a=p.exports},363:function(e,t,i){"use strict";i(30),i(233);var n=i(553),s=i(760),r=i(828),a=i(11),o=i(110),l=i(1),c=i(14),u={components:{Icon:i(45).a,GlButton:n.a,GlLoadingIcon:s.a},directives:{GlTooltip:r.a},props:{tooltipText:{type:String,required:!0},link:{type:String,required:!0},actionIcon:{type:String,required:!0}},data:function(){return{isDisabled:!1,isLoading:!1}},computed:{cssClass:function(){var e=Object(o.f)(this.actionIcon);return"".concat(e," js-icon-").concat(e)}},methods:{onClickAction:function(){var e=this;this.$root.$emit("bv::hide::tooltip","js-ci-action-".concat(this.link)),this.isDisabled=!0,this.isLoading=!0,a.a.post("".concat(this.link,".json")).then((function(){e.isDisabled=!1,e.isLoading=!1,e.$emit("pipelineActionRequestComplete")})).catch((function(){e.isDisabled=!1,e.isLoading=!1,Object(c.a)(Object(l.a)("An error occurred while making the request."))}))}}},d=i(4),p=Object(d.a)(u,(function(){var e=this.$createElement,t=this._self._c||e;return t("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:{boundary:"viewport"},expression:"{ boundary: 'viewport' }"}],staticClass:"js-ci-action btn btn-blank btn-transparent ci-action-icon-container ci-action-icon-wrapper d-flex align-items-center justify-content-center",class:this.cssClass,attrs:{id:"js-ci-action-"+this.link,title:this.tooltipText,disabled:this.isDisabled},on:{click:this.onClickAction}},[this.isLoading?t("gl-loading-icon",{staticClass:"js-action-icon-loading"}):t("icon",{attrs:{name:this.actionIcon}})],1)}),[],!1,null,null,null);t.a=p.exports},462:function(e,t,i){"use strict";i(72);var n=i(500),s={name:"SmartVirtualList",components:{VirtualList:i.n(n).a},props:{size:{type:Number,required:!0},length:{type:Number,required:!0},remain:{type:Number,required:!0},rtag:{type:String,default:"div"},wtag:{type:String,default:"div"},wclass:{type:String,default:null}}},r=i(4),a=Object(r.a)(s,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.length>e.remain?i("virtual-list",e._b({staticClass:"js-virtual-list",attrs:{size:e.remain,remain:e.remain,rtag:e.rtag,wtag:e.wtag,wclass:e.wclass}},"virtual-list",e.$attrs,!1),[e._t("default")],2):i(e.rtag,{tag:"component",staticClass:"js-plain-element"},[i(e.wtag,{tag:"component",class:e.wclass},[e._t("default")],2)],1)}),[],!1,null,null,null);t.a=a.exports},500:function(e,t,i){(function(e){var n,s,r,a,o;function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a=this,o=function(e,t){"object"===l(t)&&"function"==typeof t.default&&(t=t.default);var i=function(e,t,i){var n;return function(){var s=this,r=arguments,a=function(){n=null,i||e.apply(s,r)},o=i&&!n;clearTimeout(n),n=setTimeout(a,t),o&&e.apply(s,r)}};return t.component(e,{props:{size:{type:Number,required:!0},remain:{type:Number,required:!0},rtag:{type:String,default:"div"},wtag:{type:String,default:"div"},wclass:{type:String,default:""},wstyle:{type:Object,default:function(){return{}}},pagemode:{type:Boolean,default:!1},scrollelement:{type:"undefined"==typeof window?Object:HTMLElement,default:null},start:{type:Number,default:0},offset:{type:Number,default:0},variable:{type:[Function,Boolean],default:!1},bench:{type:Number,default:0},debounce:{type:Number,default:0},totop:{type:[Function,Boolean],default:!1},tobottom:{type:[Function,Boolean],default:!1},onscroll:{type:[Function,Boolean],default:!1},istable:{type:Boolean,default:!1},item:{type:[Function,Object],default:null},itemcount:{type:Number,default:0},itemprops:{type:Function,default:function(){}}},watch:{size:function(){this.changeProp="size"},remain:function(){this.changeProp="remain"},bench:function(){this.changeProp="bench",this.itemModeForceRender()},start:function(){this.changeProp="start",this.itemModeForceRender()},offset:function(){this.changeProp="offset",this.itemModeForceRender()},itemcount:function(){this.changeProp="itemcount",this.itemModeForceRender()},scrollelement:function(e,t){this.pagemode||(t&&this.removeScrollListener(t),e&&this.addScrollListener(e))}},created:function(){var e=this.start>=this.remain?this.start:0,t=this.remain+(this.bench||this.remain),i=Object.create(null);i.direction="",i.scrollTop=0,i.start=e,i.end=e+t-1,i.keeps=t,i.total=0,i.offsetAll=0,i.paddingTop=0,i.paddingBottom=0,i.varCache={},i.varAverSize=0,i.varLastCalcIndex=0,this.delta=i},mounted:function(){if(this.pagemode?this.addScrollListener(window):this.scrollelement&&this.addScrollListener(this.scrollelement),this.start){var e=this.getZone(this.start).start;this.setScrollTop(this.variable?this.getVarOffset(e):e*this.size)}else this.offset&&this.setScrollTop(this.offset)},beforeDestroy:function(){this.pagemode?this.removeScrollListener(window):this.scrollelement&&this.removeScrollListener(this.scrollelement)},beforeUpdate:function(){var e=this.delta;e.keeps=this.remain+(this.bench||this.remain);var t="start"===this.changeProp?this.start:e.start,i=this.getZone(t);if(this.changeProp&&["start","size","offset"].includes(this.changeProp)){var n="offset"===this.changeProp?this.offset:this.variable?this.getVarOffset(i.isLast?e.total:i.start):i.isLast&&e.total-t<=this.remain?e.total*this.size:t*this.size;this.$nextTick(this.setScrollTop.bind(this,n))}(this.changeProp||e.end!==i.end||t!==i.start)&&(this.changeProp="",e.end=i.end,e.start=i.start,this.forceRender())},methods:{addScrollListener:function(e){this.scrollHandler=this.debounce?i(this.onScroll.bind(this),this.debounce):this.onScroll,e.addEventListener("scroll",this.scrollHandler,!1)},removeScrollListener:function(e){e.removeEventListener("scroll",this.scrollHandler,!1)},onScroll:function(e){var t,i=this.delta,n=this.$refs.vsl;if(this.pagemode)t=-this.$el.getBoundingClientRect().top;else if(this.scrollelement){var s=this.scrollelement.getBoundingClientRect(),r=this.$el.getBoundingClientRect();t=s.top-r.top}else t=(n.$el||n).scrollTop||0;i.direction=t>i.scrollTop?"D":"U",i.scrollTop=t,i.total>i.keeps?this.updateZone(t):i.end=i.total-1;var a=i.offsetAll;if(this.onscroll){var o=Object.create(null);o.offset=t,o.offsetAll=a,o.start=i.start,o.end=i.end,this.onscroll(e,o)}!t&&i.total&&this.fireEvent("totop"),t>=a&&this.fireEvent("tobottom")},updateZone:function(e){var t=this.delta,i=this.variable?this.getVarOvers(e):Math.floor(e/this.size);"U"===t.direction&&(i=i-this.remain+1);var n=this.getZone(i),s=this.bench||this.remain,r=1===Math.abs(i-t.start-s);!r&&i-t.start<=s&&!n.isLast&&i>t.start||(r||n.start!==t.start||n.end!==t.end)&&(t.end=n.end,t.start=n.start,this.forceRender())},getZone:function(e){var t,i=this.delta;e=parseInt(e,10),e=Math.max(0,e);var n=i.total-i.keeps,s=e<=i.total&&e>=n||e>i.total;return{end:(t=s?Math.max(0,n):e)+i.keeps-1,start:t,isLast:s}},forceRender:function(){var e=this;window.requestAnimationFrame((function(){e.$forceUpdate()}))},itemModeForceRender:function(){this.item&&this.forceRender()},getVarOvers:function(e){for(var t=0,i=0,n=0,s=this.delta,r=s.total;t<=r;){if(i=t+Math.floor((r-t)/2),n=this.getVarOffset(i),s.varAverSize||(s.varAverSize=Math.floor(n/i)),n===e)return i;n<e?t=i+1:n>e&&(r=i-1)}return t>0?--t:0},getVarOffset:function(e,t){var i=this.delta,n=i.varCache[e];if(!t&&n)return n.offset;for(var s=0,r=0;r<e;r++){var a=this.getVarSize(r,t);i.varCache[r]={size:a,offset:s},s+=a}return i.varLastCalcIndex=Math.max(i.varLastCalcIndex,e-1),i.varLastCalcIndex=Math.min(i.varLastCalcIndex,i.total-1),s},getVarSize:function(e,t){var i=this.delta.varCache[e];if(!t&&i)return i.size;if("function"==typeof this.variable)return this.variable(e)||0;var n=this.item?this.$children[e]?this.$children[e].$vnode:null:this.$slots.default[e],s=n&&n.data&&n.data.style;if(s&&s.height){var r=s.height.match(/^(.*)px$/);return r&&+r[1]||0}return 0},getVarPaddingTop:function(){return this.getVarOffset(this.delta.start)},getVarPaddingBottom:function(){var e=this.delta,t=e.total-1;return e.total-e.end<=e.keeps||e.varLastCalcIndex===t?this.getVarOffset(t)-this.getVarOffset(e.end):(e.total-e.end)*(e.varAverSize||this.size)},getVarAllHeight:function(){var e=this.delta;return e.total-e.end<=e.keeps||e.varLastCalcIndex===e.total-1?this.getVarOffset(e.total):this.getVarOffset(e.start)+(e.total-e.end)*(e.varAverSize||this.size)},updateVariable:function(e){this.getVarOffset(e,!0)},fireEvent:function(e){this[e]&&this[e]()},setScrollTop:function(e){if(this.pagemode)window.scrollTo(0,e);else if(this.scrollelement)this.scrollelement.scrollTo(0,e);else{var t=this.$refs.vsl;t&&((t.$el||t).scrollTop=e)}},filter:function(e){var t,i,n,s=this.delta,r=this.$slots.default||[];this.item||this.$scopedSlots.item?(s.total=this.itemcount,s.keeps>s.total&&(s.end=s.total-1)):(r.length||(s.start=0),s.total=r.length);var a=s.total>s.keeps;this.variable?(n=this.getVarAllHeight(),t=a?this.getVarPaddingTop():0,i=a?this.getVarPaddingBottom():0):(n=this.size*s.total,t=this.size*(a?s.start:0),i=this.size*(a?s.total-s.keeps:0)-t),i<this.size&&(i=0),s.paddingTop=t,s.paddingBottom=i,s.offsetAll=n-this.size*this.remain;for(var o=[],l=s.start;l<s.total&&l<=Math.ceil(s.end);l++){var c=null;c=this.$scopedSlots.item?this.$scopedSlots.item(l):this.item?e(this.item,this.itemprops(l)):r[l],o.push(c)}return o}},render:function(e){var t=this.debounce,n=this.filter(e),s=this.delta,r=s.paddingTop,a=s.paddingBottom,o=this.istable,l=o?"div":this.wtag,c=o?"div":this.rtag;o&&(n=[e("table",[e("tbody",n)])]);var u=e(l,{style:Object.assign({display:"block","padding-top":r+"px","padding-bottom":a+"px"},this.wstyle),class:this.wclass,attrs:{role:"group"}},n);return this.pagemode||this.scrollelement?u:e(c,{ref:"vsl",style:{display:"block","overflow-y":this.size>=this.remain?"auto":"initial",height:this.size*this.remain+"px"},on:{"&scroll":t?i(this.onScroll.bind(this),t):this.onScroll}},[u])}})},"object"===l(t)&&"object"===l(e)?e.exports=o("VirtualList",i(17)):(s=[i(17)],n=o.bind(a,"VirtualList"),void 0===(r="function"==typeof n?n.apply(t,s):n)||(e.exports=r))}).call(this,i(707)(e))},661:function(e,t,i){"use strict";i(35),i(72);var n=i(301),s=i(553),r=i(828),a=i(1),o=i(471),l=i(198),c=i(236),u={components:{CiIconBadge:o.a,TimeagoTooltip:l.a,UserAvatarImage:c.a,GlLink:n.a,GlButton:s.a},directives:{GlTooltip:r.a},props:{status:{type:Object,required:!0},itemName:{type:String,required:!0},itemId:{type:Number,required:!0},time:{type:String,required:!0},user:{type:Object,required:!1,default:function(){return{}}},hasSidebarButton:{type:Boolean,required:!1,default:!1},shouldRenderTriggeredLabel:{type:Boolean,required:!1,default:!0}},computed:{userAvatarAltText:function(){return Object(a.e)(Object(a.a)("%{username}'s avatar"),{username:this.user.name})}},methods:{onClickSidebarButton:function(){this.$emit("clickedSidebarButton")}}},d=i(4),p=Object(d.a)(u,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("header",{staticClass:"page-content-header ci-header-container"},[i("section",{staticClass:"header-main-content"},[i("ci-icon-badge",{attrs:{status:e.status}}),e._v(" "),i("strong",[e._v(" "+e._s(e.itemName)+" #"+e._s(e.itemId)+" ")]),e._v(" "),e.shouldRenderTriggeredLabel?[e._v(e._s(e.__("triggered")))]:[e._v(e._s(e.__("created")))],e._v(" "),i("timeago-tooltip",{attrs:{time:e.time}}),e._v("\n\n      "+e._s(e.__("by"))+"\n\n      "),e.user?[i("gl-link",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"js-user-link commit-committer-link",attrs:{href:e.user.path,title:e.user.email}},[i("user-avatar-image",{attrs:{"img-src":e.user.avatar_url,"img-alt":e.userAvatarAltText,"tooltip-text":e.user.name,"img-size":24}}),e._v("\n\n          "+e._s(e.user.name)+"\n        ")],1),e._v(" "),e.user.status_tooltip_html?i("span",{domProps:{innerHTML:e._s(e.user.status_tooltip_html)}}):e._e()]:e._e()],2),e._v(" "),e.$slots.default?i("section",{staticClass:"header-action-buttons"},[e._t("default")],2):e._e(),e._v(" "),e.hasSidebarButton?i("gl-button",{staticClass:"d-block d-sm-none\nsidebar-toggle-btn js-sidebar-build-toggle js-sidebar-build-toggle-header",attrs:{id:"toggleSidebar"},on:{click:e.onClickSidebarButton}},[i("i",{staticClass:"fa fa-angle-double-left",attrs:{"aria-hidden":"true","aria-labelledby":"toggleSidebar"}})]):e._e()],1)}),[],!1,null,null,null);t.a=p.exports},716:function(e,t,i){"use strict";var n=i(63),s=i(79),r=i(142),a=i(181),o=i(37),l=n.a.extend({name:"BProgressBar",mixins:[r.a],inject:{bvProgress:{default:function(){return{}}}},props:{value:{type:Number,default:0},label:{type:String,default:null},labelHtml:{type:String},max:{type:Number,default:null},precision:{type:Number,default:null},variant:{type:String,default:function(){return Object(s.b)("BProgressBar","variant")}},striped:{type:Boolean,default:null},animated:{type:Boolean,default:null},showProgress:{type:Boolean,default:null},showValue:{type:Boolean,default:null}},computed:{progressBarClasses:function(){return[this.computedVariant?"bg-".concat(this.computedVariant):"",this.computedStriped||this.computedAnimated?"progress-bar-striped":"",this.computedAnimated?"progress-bar-animated":""]},progressBarStyles:function(){return{width:this.value/this.computedMax*100+"%"}},computedProgress:function(){var e=Math.pow(10,this.computedPrecision);return Math.round(100*e*this.value/this.computedMax)/e},computedMax:function(){return Object(o.f)(this.max)?this.max:this.bvProgress.max||100},computedVariant:function(){return this.variant||this.bvProgress.variant},computedPrecision:function(){return Object(o.f)(this.precision)?this.precision:this.bvProgress.precision||0},computedStriped:function(){return Object(o.a)(this.striped)?this.striped:this.bvProgress.striped||!1},computedAnimated:function(){return Object(o.a)(this.animated)?this.animated:this.bvProgress.animated||!1},computedShowProgress:function(){return Object(o.a)(this.showProgress)?this.showProgress:this.bvProgress.showProgress||!1},computedShowValue:function(){return Object(o.a)(this.showValue)?this.showValue:this.bvProgress.showValue||!1}},render:function(e){var t=e();return this.hasNormalizedSlot("default")?t=this.normalizeSlot("default"):this.label||this.labelHtml?t=e("span",{domProps:Object(a.a)(this.labelHtml,this.label)}):this.computedShowProgress?t=this.computedProgress.toFixed(this.computedPrecision):this.computedShowValue&&(t=this.value.toFixed(this.computedPrecision)),e("div",{staticClass:"progress-bar",class:this.progressBarClasses,style:this.progressBarStyles,attrs:{role:"progressbar","aria-valuemin":"0","aria-valuemax":this.computedMax.toString(),"aria-valuenow":this.value.toFixed(this.computedPrecision)}},[t])}}),c=n.a.extend({name:"BProgress",mixins:[r.a],provide:function(){return{bvProgress:this}},props:{variant:{type:String,default:function(){return Object(s.b)("BProgress","variant")}},striped:{type:Boolean,default:!1},animated:{type:Boolean,default:!1},height:{type:String,default:null},precision:{type:Number,default:0},showProgress:{type:Boolean,default:!1},showValue:{type:Boolean,default:!1},max:{type:Number,default:100},value:{type:Number,default:0}},computed:{progressHeight:function(){return{height:this.height||null}}},render:function(e){var t=this.normalizeSlot("default");return t||(t=e(l,{props:{value:this.value,max:this.max,precision:this.precision,variant:this.variant,animated:this.animated,striped:this.striped,showProgress:this.showProgress,showValue:this.showValue}})),e("div",{class:["progress"],style:this.progressHeight},[t])}}),u=i(60);const d={components:{BProgress:c}};const p=i.n(u)()({render:function(){var e=this.$createElement;return(this._self._c||e)("b-progress",this._b({},"b-progress",this.$attrs,!1))},staticRenderFns:[]},void 0,d,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=p},73:function(e,t,i){"use strict";i(30),i(35),i(18),i(64);var n=i(0),s=i.n(n),r=i(32),a=(i(65),i(69),i(55),i(67),i(71));function o(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.projectSelectInput=s()(t),this.newItemBtn=s()(".new-project-item-link"),this.resourceType=this.newItemBtn.data("type"),this.resourceLabel=this.newItemBtn.data("label"),this.formattedText=this.deriveTextVariants(),this.groupId=this.projectSelectInput.data("groupId"),this.bindEvents(),this.initLocalStorage()}var t,n,r;return t=e,(n=[{key:"bindEvents",value:function(){var e=this;this.projectSelectInput.siblings(".new-project-item-select-button").on("click",(function(t){return e.openDropdown(t)})),this.newItemBtn.on("click",(function(t){e.getProjectFromLocalStorage()||(t.preventDefault(),e.openDropdown(t))})),this.projectSelectInput.on("change",(function(){return e.selectProject()}))}},{key:"initLocalStorage",value:function(){a.a.isLocalStorageAccessSafe()&&(this.localStorageKey=["group",this.groupId,this.formattedText.localStorageItemType,"recent-project"].join("-"),this.setBtnTextFromLocalStorage())}},{key:"openDropdown",value:function(e){i.e(239).then(i.t.bind(null,428,7)).then((function(){s()(e.currentTarget).siblings(".project-item-select").select2("open")})).catch((function(){}))}},{key:"selectProject",value:function(){var e=JSON.parse(this.projectSelectInput.val()),t={url:"".concat(e.url,"/").concat(this.projectSelectInput.data("relativePath")),name:e.name};this.setNewItemBtnAttributes(t),this.setProjectInLocalStorage(t)}},{key:"setBtnTextFromLocalStorage",value:function(){var e=this.getProjectFromLocalStorage();this.setNewItemBtnAttributes(e)}},{key:"setNewItemBtnAttributes",value:function(e){e?(this.newItemBtn.attr("href",e.url),this.newItemBtn.text("".concat(this.formattedText.defaultTextPrefix," in ").concat(e.name))):this.newItemBtn.text("Select project to create ".concat(this.formattedText.presetTextSuffix))}},{key:"getProjectFromLocalStorage",value:function(){var e=localStorage.getItem(this.localStorageKey);return JSON.parse(e)}},{key:"setProjectInLocalStorage",value:function(e){var t=JSON.stringify(e);localStorage.setItem(this.localStorageKey,t)}},{key:"deriveTextVariants",value:function(){var e=this.resourceLabel;return{localStorageItemType:"new-".concat(this.resourceType.split("_").join("-").slice(0,-1)),defaultTextPrefix:e,presetTextSuffix:this.resourceType.split("_").join(" ").slice(0,-1)}}}])&&o(t.prototype,n),r&&o(t,r),e}(),c=i(1),u=function(){s()(".ajax-project-select").each((function(e,t){var i,n=this,a=s()(t).data("simpleFilter")||!1,o=s()(t).data("select2");return this.groupId=s()(t).data("groupId"),this.userId=s()(t).data("userId"),this.includeGroups=s()(t).data("includeGroups"),this.allProjects=s()(t).data("allProjects")||!1,this.orderBy=s()(t).data("orderBy")||"id",this.withIssuesEnabled=s()(t).data("withIssuesEnabled"),this.withMergeRequestsEnabled=s()(t).data("withMergeRequestsEnabled"),this.withShared=void 0===s()(t).data("withShared")||s()(t).data("withShared"),this.includeProjectsInSubgroups=s()(t).data("includeProjectsInSubgroups")||!1,this.allowClear=s()(t).data("allowClear")||!1,i=Object(c.d)("ProjectSelect|Search for project"),this.includeGroups&&(i+=Object(c.d)("ProjectSelect| or group")),s()(t).select2({placeholder:i,minimumInputLength:0,query:function(e){var t,i=function(t){var i={results:t};return e.callback(i)};return t=n.includeGroups?function(t){return r.a.groups(e.term,{},(function(e){var n=e.concat(t);return i(n)}))}:i,n.groupId?r.a.groupProjects(n.groupId,e.term,{with_issues_enabled:n.withIssuesEnabled,with_merge_requests_enabled:n.withMergeRequestsEnabled,with_shared:n.withShared,include_subgroups:n.includeProjectsInSubgroups},t):n.userId?r.a.userProjects(n.userId,e.term,{with_issues_enabled:n.withIssuesEnabled,with_merge_requests_enabled:n.withMergeRequestsEnabled,with_shared:n.withShared,include_subgroups:n.includeProjectsInSubgroups},t):r.a.projects(e.term,{order_by:n.orderBy,with_issues_enabled:n.withIssuesEnabled,with_merge_requests_enabled:n.withMergeRequestsEnabled,membership:!n.allProjects},t)},id:function(e){return a?e.id:JSON.stringify({name:e.name,url:e.web_url})},text:function(e){return e.name_with_namespace||e.name},initSelection:function(e,t){return r.a.project(e.val()).then((function(e){var i=e.data;return t(i)}))},allowClear:this.allowClear,dropdownCssClass:"ajax-project-dropdown"}),o||a?t:new l(t)}))};t.a=function(){return i.e(239).then(i.t.bind(null,428,7)).then(u).catch((function(){}))}},986:function(e,t,i){"use strict";i.r(t);var n={};i.r(n),i.d(n,"setEndpoint",(function(){return ne})),i.d(n,"fetchReports",(function(){return se})),i.d(n,"setSelectedSuite",(function(){return re})),i.d(n,"removeSelectedSuite",(function(){return ae})),i.d(n,"toggleLoading",(function(){return oe})),i.d(n,"default",(function(){return le}));var s={};i.r(s),i.d(s,"getTestSuites",(function(){return _e})),i.d(s,"getSuiteTests",(function(){return ye})),i.d(s,"default",(function(){return we}));var r=i(17),a=i(14),o=i(177),l=i(1),c=i(33),u=(i(42),i(760)),d=(i(35),i(93)),p=i.n(d),h=i(254),g=i.n(h),f={props:{hasTriggeredBy:{type:Boolean,required:!1,default:!1}},methods:{buildConnnectorClass:function(e){return 0!==e||this.isFirstColumn&&!this.hasTriggeredBy?"":"left-connector"}}},m=i(362),b=(i(30),i(0)),v=i.n(b),_=i(828),y=i(197),w={directives:{GlTooltip:_.a},components:{JobItem:m.a,CiIcon:y.a},props:{group:{type:Object,required:!0}},computed:{tooltipText:function(){var e=this.group,t=e.name,i=e.status;return"".concat(t," - ").concat(i.label)}},mounted:function(){this.stopDropdownClickPropagation()},methods:{stopDropdownClickPropagation:function(){v()(".js-grouped-pipeline-dropdown button, .js-grouped-pipeline-dropdown a.mini-pipeline-graph-dropdown-item",this.$el).on("click",(function(e){e.stopPropagation()}))},pipelineActionRequestComplete:function(){this.$emit("pipelineActionRequestComplete")}}},j=i(4),P=Object(j.a)(w,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ci-job-dropdown-container dropdown dropright"},[i("button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover",value:{boundary:"viewport"},expression:"{ boundary: 'viewport' }",modifiers:{hover:!0}}],staticClass:"dropdown-menu-toggle build-content",attrs:{title:e.tooltipText,type:"button","data-toggle":"dropdown","data-display":"static"}},[i("ci-icon",{attrs:{status:e.group.status}}),e._v(" "),i("span",{staticClass:"ci-status-text text-truncate mw-70p gl-pl-1 d-inline-block align-bottom"},[e._v("\n      "+e._s(e.group.name)+"\n    ")]),e._v(" "),i("span",{staticClass:"dropdown-counter-badge"},[e._v(" "+e._s(e.group.size)+" ")])],1),e._v(" "),i("ul",{staticClass:"dropdown-menu big-pipeline-graph-dropdown-menu js-grouped-pipeline-dropdown"},[i("li",{staticClass:"scrollable-menu"},[i("ul",e._l(e.group.jobs,(function(t){return i("li",{key:t.id},[i("job-item",{attrs:{"dropdown-length":e.group.size,job:t,"css-class-job-name":"mini-pipeline-graph-dropdown-item"},on:{pipelineActionRequestComplete:e.pipelineActionRequestComplete}})],1)})),0)])])])}),[],!1,null,null,null).exports,C=i(363),T={components:{JobItem:m.a,JobGroupDropdown:P,ActionComponent:C.a},mixins:[f],props:{title:{type:String,required:!0},groups:{type:Array,required:!0},isFirstColumn:{type:Boolean,required:!1,default:!1},stageConnectorClass:{type:String,required:!1,default:""},action:{type:Object,required:!1,default:function(){return{}}}},computed:{hasAction:function(){return!g()(this.action)}},methods:{groupId:function(e){return"ci-badge-".concat(p()(e.name))},pipelineActionRequestComplete:function(){this.$emit("refreshPipelineGraph")}}},S=Object(j.a)(T,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("li",{staticClass:"stage-column",class:e.stageConnectorClass},[i("div",{staticClass:"stage-name position-relative"},[e._v("\n    "+e._s(e.title)+"\n    "),e.hasAction?i("action-component",{staticClass:"js-stage-action stage-action position-absolute position-top-0 rounded",attrs:{"action-icon":e.action.icon,"tooltip-text":e.action.title,link:e.action.path},on:{pipelineActionRequestComplete:e.pipelineActionRequestComplete}}):e._e()],1),e._v(" "),i("div",{staticClass:"builds-container"},[i("ul",e._l(e.groups,(function(t,n){return i("li",{key:t.id,staticClass:"build",class:e.buildConnnectorClass(n),attrs:{id:e.groupId(t)}},[i("div",{staticClass:"curve"}),e._v(" "),1===t.size?i("job-item",{attrs:{job:t.jobs[0],"css-class-job-name":"build-content"},on:{pipelineActionRequestComplete:e.pipelineActionRequestComplete}}):e._e(),e._v(" "),t.size>1?i("job-group-dropdown",{attrs:{group:t},on:{pipelineActionRequestComplete:e.pipelineActionRequestComplete}}):e._e()],1)})),0)])])}),[],!1,null,null,null).exports,O=(i(69),{props:{isLoading:{type:Boolean,required:!0},pipeline:{type:Object,required:!0}},computed:{graph:function(){return this.pipeline.details&&this.pipeline.details.stages}},methods:{capitalizeStageName:function(e){var t=p()(e);return t.charAt(0).toUpperCase()+t.slice(1)},isFirstColumn:function(e){return 0===e},stageConnectorClass:function(e,t){var i;return 0===e&&1===t.groups.length?i="no-margin":e>0&&(i="left-margin"),i},refreshPipelineGraph:function(){this.$emit("refreshPipelineGraph")},shouldAddRightMargin:function(e){return!(e===this.graph.length-1)}}}),k=i(16),x=i(250),E={debouncedResize:null,sidebarMutationObserver:null,data:function(){return{graphLeftPadding:0,graphRightPadding:0}},beforeDestroy:function(){window.removeEventListener("resize",this.$options.debouncedResize),this.$options.sidebarMutationObserver&&this.$options.sidebarMutationObserver.disconnect()},created:function(){this.$options.debouncedResize=Object(k.h)(this.setGraphPadding),window.addEventListener("resize",this.$options.debouncedResize)},mounted:function(){this.setGraphPadding(),this.$options.sidebarMutationObserver=new MutationObserver(this.handleLayoutChange),this.$options.sidebarMutationObserver.observe(document.querySelector(".layout-page"),{attributes:!0,childList:!1,subtree:!1})},methods:{setGraphPadding:function(){if(!this.type||"main"===this.type){var e=document.querySelector(".js-pipeline-container");e&&(this.graphLeftPadding=e.offsetLeft,this.graphRightPadding=window.innerWidth-e.offsetLeft-e.offsetWidth)}},handleLayoutChange:function(){window.setTimeout(this.setGraphPadding,x.b)}}},L=(i(72),i(553)),B={directives:{GlTooltip:_.a},components:{CiStatus:y.a,GlLoadingIcon:u.a,GlButton:L.a},props:{pipeline:{type:Object,required:!0},projectId:{type:Number,required:!0},columnTitle:{type:String,required:!0}},computed:{tooltipText:function(){return"".concat(this.projectName," - ").concat(this.pipelineStatus.label)},buttonId:function(){return"js-linked-pipeline-".concat(this.pipeline.id)},pipelineStatus:function(){return this.pipeline.details.status},projectName:function(){return this.pipeline.project.name},parentPipeline:function(){return this.projectId===this.pipeline.project.id&&this.columnTitle===Object(l.a)("Upstream")},childPipeline:function(){return this.projectId===this.pipeline.project.id&&this.columnTitle===Object(l.a)("Downstream")},label:function(){return this.parentPipeline?Object(l.a)("Parent"):Object(l.a)("Child")},childTooltipText:function(){return Object(l.a)("This pipeline was triggered by a parent pipeline")},parentTooltipText:function(){return Object(l.a)("This pipeline triggered a child pipeline")},labelToolTipText:function(){return this.label===Object(l.a)("Parent")?this.parentTooltipText:this.childTooltipText}},methods:{onClickLinkedPipeline:function(){this.$root.$emit("bv::hide::tooltip",this.buttonId),this.$emit("pipelineClicked",this.$refs.linkedPipeline)},hideTooltips:function(){this.$root.$emit("bv::hide::tooltip")}}},q={components:{LinkedPipeline:Object(j.a)(B,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("li",{ref:"linkedPipeline",staticClass:"linked-pipeline build",class:{"child-pipeline":e.childPipeline}},[i("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"js-linked-pipeline-content linked-pipeline-content",class:"js-pipeline-expand-"+e.pipeline.id,attrs:{id:e.buttonId,title:e.tooltipText,"data-qa-selector":"linked_pipeline_button"},on:{click:e.onClickLinkedPipeline}},[e.pipeline.isLoading?i("gl-loading-icon",{staticClass:"js-linked-pipeline-loading d-inline"}):i("ci-status",{staticClass:"js-linked-pipeline-status",attrs:{status:e.pipelineStatus,"css-classes":"position-top-0"}}),e._v(" "),i("span",{staticClass:"str-truncated align-bottom"},[e._v(" "+e._s(e.projectName)+" â€¢ #"+e._s(e.pipeline.id)+" ")]),e._v(" "),e.parentPipeline||e.childPipeline?i("div",{staticClass:"parent-child-label-container"},[i("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.bottom",modifiers:{bottom:!0}}],staticClass:"badge badge-primary",attrs:{title:e.labelToolTipText},on:{mouseover:e.hideTooltips}},[e._v(e._s(e.label))])]):e._e()],1)],1)}),[],!1,null,null,null).exports},props:{columnTitle:{type:String,required:!0},linkedPipelines:{type:Array,required:!0},graphPosition:{type:String,required:!0},projectId:{type:Number,required:!0}},computed:{columnClass:function(){return"graph-position-".concat(this.graphPosition," ").concat({right:"prepend-left-64",left:"append-right-32"}[this.graphPosition])},isUpstream:function(){return this.columnTitle===Object(l.a)("Upstream")}},methods:{onPipelineClick:function(e,t,i){this.$emit("linkedPipelineClick",t,i,e)}}},A=Object(j.a)(q,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"stage-column linked-pipelines-column",class:e.columnClass},[i("div",{staticClass:"stage-name linked-pipelines-column-title"},[e._v(e._s(e.columnTitle))]),e._v(" "),e.isUpstream?i("div",{staticClass:"cross-project-triangle"}):e._e(),e._v(" "),i("ul",e._l(e.linkedPipelines,(function(t,n){return i("linked-pipeline",{key:t.id,class:{active:t.isExpanded,"left-connector":t.isExpanded&&"left"===e.graphPosition},attrs:{pipeline:t,"column-title":e.columnTitle,"project-id":e.projectId},on:{pipelineClicked:function(i){return e.onPipelineClick(i,t,n)}}})})),1)])}),[],!1,null,null,null).exports,R={methods:{getExpandedPipelines:function(e){var t=this;this.mediator.service.getPipeline(this.mediator.getExpandedParameters()).then((function(i){t.mediator.store.toggleLoading(e),t.mediator.store.storePipeline(i.data),t.mediator.poll.enable({data:t.mediator.getExpandedParameters()})})).catch((function(){t.mediator.store.toggleLoading(e),Object(a.a)(Object(l.a)("An error occurred while fetching the pipeline."))}))},clickPipeline:function(e,t,i,n){t.isExpanded?(this.mediator.store[n](t),this.mediator.poll.stop(),this.mediator.poll.enable({data:this.mediator.getExpandedParameters()})):(this.mediator.store[i](e,t),this.mediator.store.toggleLoading(t),this.mediator.poll.stop(),this.getExpandedPipelines(t))},clickTriggeredByPipeline:function(e,t){this.clickPipeline(e,t,"openTriggeredByPipeline","closeTriggeredByPipeline")},clickTriggeredPipeline:function(e,t){this.clickPipeline(e,t,"openTriggeredPipeline","closeTriggeredPipeline")},requestRefreshPipelineGraph:function(){this.mediator.refreshPipeline().catch((function(){return Object(a.a)(Object(l.a)("An error occurred while making the request."))}))}}},I={name:"PipelineGraph",components:{StageColumnComponent:S,GlLoadingIcon:u.a,LinkedPipelinesColumn:A},mixins:[O,E,R],props:{isLoading:{type:Boolean,required:!0},pipeline:{type:Object,required:!0},isLinkedPipeline:{type:Boolean,required:!1,default:!1},mediator:{type:Object,required:!0},type:{type:String,required:!1,default:"main"}},upstream:"upstream",downstream:"downstream",data:function(){return{downstreamMarginTop:null}},computed:{hasTriggeredBy:function(){return this.type!==this.$options.downstream&&this.triggeredByPipelines&&null!==this.pipeline.triggered_by},triggeredByPipelines:function(){return this.pipeline.triggered_by},hasTriggered:function(){return this.type!==this.$options.upstream&&this.triggeredPipelines&&this.pipeline.triggered.length>0},triggeredPipelines:function(){return this.pipeline.triggered},expandedTriggeredBy:function(){return this.pipeline.triggered_by&&Array.isArray(this.pipeline.triggered_by)&&this.pipeline.triggered_by.find((function(e){return e.isExpanded}))},expandedTriggered:function(){return this.pipeline.triggered&&this.pipeline.triggered.find((function(e){return e.isExpanded}))},pipelineTypeUpstream:function(){return this.type!==this.$options.downstream&&this.expandedTriggeredBy},pipelineTypeDownstream:function(){return this.type!==this.$options.upstream&&this.expandedTriggered},pipelineProjectId:function(){return this.pipeline.project.id}},methods:{handleClickedDownstream:function(e,t,i){this.downstreamMarginTop=this.calculateMarginTop(i,i.classList.contains("child-pipeline")?15:30),this.$emit("onClickTriggered",this.pipeline,e)},calculateMarginTop:function(e,t){return"".concat(e.offsetTop-e.offsetParent.offsetTop-t,"px")},hasOnlyOneJob:function(e){return 1===e.groups.length},hasUpstream:function(e){return 0===e&&this.hasTriggeredBy}}},D=Object(j.a)(I,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"build-content middle-block js-pipeline-graph"},[i("div",{staticClass:"pipeline-visualization pipeline-graph",class:{"pipeline-tab-content":!e.isLinkedPipeline}},[i("div",{style:{paddingLeft:e.graphLeftPadding+"px",paddingRight:e.graphRightPadding+"px"}},[e.isLoading?i("gl-loading-icon",{staticClass:"m-auto",attrs:{size:3}}):e._e(),e._v(" "),e.pipelineTypeUpstream?i("pipeline-graph",{staticClass:"d-inline-block upstream-pipeline",class:"js-upstream-pipeline-"+e.expandedTriggeredBy.id,attrs:{type:"upstream","is-loading":!1,pipeline:e.expandedTriggeredBy,"is-linked-pipeline":!0,mediator:e.mediator},on:{onClickTriggeredBy:function(t,i){return e.clickTriggeredByPipeline(t,i)},refreshPipelineGraph:e.requestRefreshPipelineGraph}}):e._e(),e._v(" "),e.hasTriggeredBy?i("linked-pipelines-column",{attrs:{"linked-pipelines":e.triggeredByPipelines,"column-title":e.__("Upstream"),"project-id":e.pipelineProjectId,"graph-position":"left"},on:{linkedPipelineClick:function(t){return e.$emit("onClickTriggeredBy",e.pipeline,t)}}}):e._e(),e._v(" "),e.isLoading?e._e():i("ul",{staticClass:"stage-column-list align-top",class:{"inline js-has-linked-pipelines":e.hasTriggered||e.hasTriggeredBy}},e._l(e.graph,(function(t,n){return i("stage-column-component",{key:t.name,class:{"has-upstream prepend-left-64":e.hasUpstream(n),"has-only-one-job":e.hasOnlyOneJob(t),"append-right-46":e.shouldAddRightMargin(n)},attrs:{title:e.capitalizeStageName(t.name),groups:t.groups,"stage-connector-class":e.stageConnectorClass(n,t),"is-first-column":e.isFirstColumn(n),"has-triggered-by":e.hasTriggeredBy,action:t.status.action},on:{refreshPipelineGraph:e.refreshPipelineGraph}})})),1),e._v(" "),e.hasTriggered?i("linked-pipelines-column",{attrs:{"linked-pipelines":e.triggeredPipelines,"column-title":e.__("Downstream"),"project-id":e.pipelineProjectId,"graph-position":"right"},on:{linkedPipelineClick:e.handleClickedDownstream}}):e._e(),e._v(" "),e.pipelineTypeDownstream?i("pipeline-graph",{staticClass:"d-inline-block",class:"js-downstream-pipeline-"+e.expandedTriggered.id,style:{"margin-top":e.downstreamMarginTop},attrs:{type:"downstream","is-loading":!1,pipeline:e.expandedTriggered,"is-linked-pipeline":!0,mediator:e.mediator},on:{onClickTriggered:function(t,i){return e.clickTriggeredPipeline(t,i)},refreshPipelineGraph:e.requestRefreshPipelineGraph}}):e._e()],1)])])}),[],!1,null,null,null).exports,$=(i(18),i(64),i(320),i(125)),N=i.n($);i(374),i(26),i(145),i(77),i(27);function z(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var G=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.state={},this.state.pipeline={},this.state.expandedPipelines=[]}var t,i,n;return t=e,(i=[{key:"storePipeline",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=Object.assign({},t);if(i.triggered_by){i.triggered_by=[i.triggered_by];var n=this.state.pipeline&&this.state.pipeline.triggered_by&&this.state.pipeline.triggered_by[0];this.parseTriggeredByPipelines(n,i.triggered_by[0])}i.triggered&&i.triggered.length&&i.triggered.forEach((function(t){var i=e.state.pipeline&&e.state.pipeline.triggered&&e.state.pipeline.triggered.find((function(e){return e.id===t.id}));e.parseTriggeredPipelines(i,t)})),this.state.pipeline=i}},{key:"parseTriggeredByPipelines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;r.default.set(t,"isExpanded",e.isExpanded||!1),r.default.set(t,"isLoading",!1),t.triggered_by&&(Array.isArray(t.triggered_by)||Object.assign(t,{triggered_by:[t.triggered_by]}),this.parseTriggeredByPipelines(e,t.triggered_by[0]))}},{key:"parseTriggeredPipelines",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;r.default.set(i,"isExpanded",t.isExpanded||!1),r.default.set(i,"isLoading",!1),i.triggered&&i.triggered.length>0&&i.triggered.forEach((function(i){var n=t.triggered&&t.triggered.find((function(e){return e.id===i.id}));e.parseTriggeredPipelines(n,i)}))}},{key:"resetTriggeredByPipeline",value:function(e,t){var i=this;e.triggered_by.forEach((function(e){return i.closePipeline(e)})),t.triggered_by&&t.triggered_by&&this.resetTriggeredByPipeline(t,t.triggered_by)}},{key:"openTriggeredByPipeline",value:function(e,t){this.resetTriggeredByPipeline(e,t),this.openPipeline(t)}},{key:"closeTriggeredByPipeline",value:function(e){var t=this;this.closePipeline(e),e.triggered_by&&e.triggered_by.length&&e.triggered_by.forEach((function(e){return t.closeTriggeredByPipeline(e)}))}},{key:"resetTriggeredPipelines",value:function(e,t){var i=this;e.triggered.forEach((function(e){return i.closePipeline(e)})),t.triggered&&t.triggered.length&&t.triggered.forEach((function(e){return i.resetTriggeredPipelines(t,e)}))}},{key:"openTriggeredPipeline",value:function(e,t){this.resetTriggeredPipelines(e,t),this.openPipeline(t)}},{key:"closeTriggeredPipeline",value:function(e){var t=this;this.closePipeline(e),e.triggered&&e.triggered.length&&e.triggered.forEach((function(e){return t.closeTriggeredPipeline(e)}))}},{key:"closePipeline",value:function(e){r.default.set(e,"isExpanded",!1),this.removeExpandedPipelineToRequestData(e.id)}},{key:"openPipeline",value:function(e){r.default.set(e,"isExpanded",!0),this.addExpandedPipelineToRequestData(e.id)}},{key:"toggleLoading",value:function(e){r.default.set(e,"isLoading",!e.isLoading)}},{key:"addExpandedPipelineToRequestData",value:function(e){this.state.expandedPipelines.push(e)}},{key:"removeExpandedPipelineToRequestData",value:function(e){this.state.expandedPipelines.splice(this.state.expandedPipelines.findIndex((function(t){return t===e})),1)}}])&&z(t.prototype,i),n&&z(t,n),e}(),M=i(159),V=i(11);function F(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var U=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pipeline=t}var t,i,n;return t=e,(i=[{key:"getPipeline",value:function(e){return V.a.get(this.pipeline,{params:e})}},{key:"deleteAction",value:function(e){return V.a.delete("".concat(e,".json"))}},{key:"postAction",value:function(e){return V.a.post("".concat(e,".json"))}}])&&F(t.prototype,i),n&&F(t,n),e}();function H(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var J=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=t,this.store=new G,this.service=new U(t.endpoint),this.state={},this.state.isLoading=!1}var t,i,n;return t=e,(i=[{key:"fetchPipeline",value:function(){var e=this;this.poll=new M.a({resource:this.service,method:"getPipeline",data:this.store.state.expandedPipelines?this.getExpandedParameters():void 0,successCallback:this.successCallback.bind(this),errorCallback:this.errorCallback.bind(this)}),N.a.hidden()?this.refreshPipeline():(this.state.isLoading=!0,this.poll.makeRequest()),N.a.change((function(){N.a.hidden()?e.stopPipelinePoll():e.poll.restart()}))}},{key:"successCallback",value:function(e){this.state.isLoading=!1,this.store.storePipeline(e.data)}},{key:"errorCallback",value:function(){this.state.isLoading=!1,Object(a.a)(Object(l.a)("An error occurred while fetching the pipeline."))}},{key:"refreshPipeline",value:function(){var e=this;return this.stopPipelinePoll(),this.service.getPipeline().then((function(t){return e.successCallback(t)})).catch((function(){return e.errorCallback()})).finally((function(){return e.poll.restart(e.store.state.expandedPipelines?e.getExpandedParameters():void 0)}))}},{key:"stopPipelinePoll",value:function(){this.poll.stop()}},{key:"getExpandedParameters",value:function(){return{expanded:this.store.state.expandedPipelines}}}])&&H(t.prototype,i),n&&H(t,n),e}(),Z=(i(38),i(2535)),K=i(2536),W=i(661),X=i(154),Q=i(130),Y={name:"PipelineHeaderSection",components:{ciHeader:W.a,GlLoadingIcon:u.a,GlModal:Z.a,LoadingButton:X.a},directives:{GlModal:K.a},props:{pipeline:{type:Object,required:!0},isLoading:{type:Boolean,required:!0}},data:function(){return{isCanceling:!1,isRetrying:!1,isDeleting:!1}},computed:{status:function(){return this.pipeline.details&&this.pipeline.details.status},shouldRenderContent:function(){return!this.isLoading&&Object.keys(this.pipeline).length},deleteModalConfirmationText:function(){return Object(l.a)("Are you sure you want to delete this pipeline? Doing so will expire all pipeline caches and delete all related objects, such as builds, logs, artifacts, and triggers. This action cannot be undone.")}},methods:{cancelPipeline:function(){this.isCanceling=!0,Q.a.$emit("headerPostAction",this.pipeline.cancel_path)},retryPipeline:function(){this.isRetrying=!0,Q.a.$emit("headerPostAction",this.pipeline.retry_path)},deletePipeline:function(){this.isDeleting=!0,Q.a.$emit("headerDeleteAction",this.pipeline.delete_path)}},DELETE_MODAL_ID:"pipeline-delete-modal"},ee=Object(j.a)(Y,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"pipeline-header-container"},[e.shouldRenderContent?i("ci-header",{attrs:{status:e.status,"item-id":e.pipeline.id,time:e.pipeline.created_at,user:e.pipeline.user,"item-name":"Pipeline"}},[e.pipeline.retry_path?i("loading-button",{staticClass:"js-retry-button btn btn-inverted-secondary",attrs:{loading:e.isRetrying,disabled:e.isRetrying,"container-class":"d-inline",label:e.__("Retry")},on:{click:function(t){return e.retryPipeline()}}}):e._e(),e._v(" "),e.pipeline.cancel_path?i("loading-button",{staticClass:"js-btn-cancel-pipeline btn btn-danger",attrs:{loading:e.isCanceling,disabled:e.isCanceling,"container-class":"d-inline",label:e.__("Cancel running")},on:{click:function(t){return e.cancelPipeline()}}}):e._e(),e._v(" "),e.pipeline.delete_path?i("loading-button",{directives:[{name:"gl-modal",rawName:"v-gl-modal",value:e.$options.DELETE_MODAL_ID,expression:"$options.DELETE_MODAL_ID"}],staticClass:"js-btn-delete-pipeline btn btn-danger btn-inverted",attrs:{loading:e.isDeleting,disabled:e.isDeleting,"container-class":"d-inline",label:e.__("Delete")}}):e._e()],1):e._e(),e._v(" "),e.isLoading?i("gl-loading-icon",{staticClass:"prepend-top-default append-bottom-default",attrs:{size:2}}):e._e(),e._v(" "),i("gl-modal",{attrs:{"modal-id":e.$options.DELETE_MODAL_ID,title:e.__("Delete pipeline"),"ok-title":e.__("Delete pipeline"),"ok-variant":"danger"},on:{ok:function(t){return e.deletePipeline()}}},[i("p",[e._v("\n      "+e._s(e.deleteModalConfirmationText)+"\n    ")])])],1)}),[],!1,null,null,null).exports,te=(i(24),i(28),i(50),i(58),i(22)),ie=i(45),ne=function(e,t){return(0,e.commit)("SET_ENDPOINT",t)},se=function(e){var t=e.state,i=e.commit,n=e.dispatch;return n("toggleLoading"),V.a.get(t.endpoint).then((function(e){var t=e.data;i("SET_REPORTS",t)})).catch((function(){Object(a.a)(Object(l.d)("TestReports|There was an error fetching the test reports."))})).finally((function(){n("toggleLoading")}))},re=function(e,t){return(0,e.commit)("SET_SELECTED_SUITE",t)},ae=function(e){return(0,e.commit)("SET_SELECTED_SUITE",{})},oe=function(e){return(0,e.commit)("TOGGLE_LOADING")},le=function(){},ce=(i(46),i(62));function ue(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function de(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function pe(e){switch(e){case"success":return"status_success_borderless";case"failed":return"status_failed_borderless";default:return"status_skipped_borderless"}}var he=function(e){return Object(ce.e)(Object(ce.q)(e))},ge=function(e){return function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(i),!0).forEach((function(t){de(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ue(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},e,{icon:pe(e.status),formattedTime:he(e.execution_time)})},fe=function(e,t){if(e.status===t.status)return 0;switch(t.status){case x.d.SUCCESS:return-1;case x.d.FAILED:return 1;default:return 0}};function me(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function be(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var ve,_e=function(e){var t=e.testReports.test_suites;return(void 0===t?[]:t).map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?me(Object(i),!0).forEach((function(t){be(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):me(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},e,{formattedTime:he(e.total_time)})}))},ye=function(e){var t=e.selectedSuite;return t.test_cases?t.test_cases.sort(fe).map(ge):[]},we=function(){};function je(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var Pe=(je(ve={},"SET_ENDPOINT",(function(e,t){Object.assign(e,{endpoint:t})})),je(ve,"SET_REPORTS",(function(e,t){Object.assign(e,{testReports:t})})),je(ve,"SET_SELECTED_SUITE",(function(e,t){Object.assign(e,{selectedSuite:t})})),je(ve,"TOGGLE_LOADING",(function(e){Object.assign(e,{isLoading:!e.isLoading})})),ve);r.default.use(te.b);var Ce=new te.b.Store({actions:n,getters:s,mutations:Pe,state:function(){return{endpoint:"",testReports:{},selectedSuite:{},isLoading:!1}}}),Te=i(462);function Se(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Oe(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var ke={name:"TestsSuiteTable",components:{Icon:ie.a,SmartVirtualList:Te.a},store:Ce,props:{heading:{type:String,required:!1,default:Object(l.a)("Tests")}},computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(i),!0).forEach((function(t){Oe(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Se(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},Object(te.d)(["getSuiteTests"]),{hasSuites:function(){return this.getSuiteTests.length>0}}),maxShownRows:30,typicalRowHeight:75},xe=Object(j.a)(ke,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"row prepend-top-default"},[i("div",{staticClass:"col-12"},[i("h4",[e._v(e._s(e.heading))])])]),e._v(" "),e.hasSuites?i("div",{staticClass:"test-reports-table append-bottom-default js-test-cases-table"},[i("div",{staticClass:"gl-responsive-table-row table-row-header font-weight-bold fgray",attrs:{role:"row"}},[i("div",{staticClass:"table-section section-20",attrs:{role:"rowheader"}},[e._v("\n        "+e._s(e.__("Class"))+"\n      ")]),e._v(" "),i("div",{staticClass:"table-section section-20",attrs:{role:"rowheader"}},[e._v("\n        "+e._s(e.__("Name"))+"\n      ")]),e._v(" "),i("div",{staticClass:"table-section section-10 text-center",attrs:{role:"rowheader"}},[e._v("\n        "+e._s(e.__("Status"))+"\n      ")]),e._v(" "),i("div",{staticClass:"table-section flex-grow-1",attrs:{role:"rowheader"}},[e._v("\n        "+e._s(e.__("Trace"))+"\n      ")]),e._v(" "),i("div",{staticClass:"table-section section-10 text-right",attrs:{role:"rowheader"}},[e._v("\n        "+e._s(e.__("Duration"))+"\n      ")])]),e._v(" "),i("smart-virtual-list",{attrs:{length:e.getSuiteTests.length,remain:e.$options.maxShownRows,size:e.$options.typicalRowHeight}},e._l(e.getSuiteTests,(function(t,n){return i("div",{key:n,staticClass:"gl-responsive-table-row rounded align-items-md-start mt-xs-3 js-case-row"},[i("div",{staticClass:"table-section section-20 section-wrap"},[i("div",{staticClass:"table-mobile-header",attrs:{role:"rowheader"}},[e._v(e._s(e.__("Class")))]),e._v(" "),i("div",{staticClass:"table-mobile-content pr-md-1 text-truncate"},[e._v(e._s(t.classname))])]),e._v(" "),i("div",{staticClass:"table-section section-20 section-wrap"},[i("div",{staticClass:"table-mobile-header",attrs:{role:"rowheader"}},[e._v(e._s(e.__("Name")))]),e._v(" "),i("div",{staticClass:"table-mobile-content"},[e._v(e._s(t.name))])]),e._v(" "),i("div",{staticClass:"table-section section-10 section-wrap"},[i("div",{staticClass:"table-mobile-header",attrs:{role:"rowheader"}},[e._v(e._s(e.__("Status")))]),e._v(" "),i("div",{staticClass:"table-mobile-content text-center"},[i("div",{staticClass:"add-border ci-status-icon d-flex align-items-center justify-content-end justify-content-md-center",class:"ci-status-icon-"+t.status},[i("icon",{attrs:{size:24,name:t.icon}})],1)])]),e._v(" "),i("div",{staticClass:"table-section flex-grow-1"},[i("div",{staticClass:"table-mobile-header",attrs:{role:"rowheader"}},[e._v(e._s(e.__("Trace")))]),e._v(" "),i("div",{staticClass:"table-mobile-content"},[t.system_output?i("pre",{staticClass:"build-trace build-trace-rounded text-left"},[i("code",{staticClass:"bash p-0"},[e._v(e._s(t.system_output))])]):e._e()])]),e._v(" "),i("div",{staticClass:"table-section section-10 section-wrap"},[i("div",{staticClass:"table-mobile-header",attrs:{role:"rowheader"}},[e._v("\n            "+e._s(e.__("Duration"))+"\n          ")]),e._v(" "),i("div",{staticClass:"table-mobile-content text-right pr-sm-1"},[e._v("\n            "+e._s(t.formattedTime)+"\n          ")])])])})),0)],1):i("div",[i("p",{staticClass:"js-no-test-cases"},[e._v(e._s(e.s__("TestReports|There are no test cases to display.")))])])])}),[],!1,null,null,null).exports,Ee=(i(548),i(716)),Le={name:"TestSummary",components:{GlButton:L.a,GlProgressBar:Ee.a,Icon:ie.a},props:{report:{type:Object,required:!0},showBack:{type:Boolean,required:!1,default:!1}},computed:{heading:function(){return this.report.name||Object(l.a)("Summary")},successPercentage:function(){return Number((this.report.success_count/this.report.total_count*100||0).toFixed(2))},formattedDuration:function(){return Object(ce.e)(Object(ce.q)(this.report.total_time))},progressBarVariant:function(){return this.successPercentage<33?"danger":this.successPercentage>=33&&this.successPercentage<66?"warning":this.successPercentage>=66&&this.successPercentage<90?"primary":"success"}},methods:{onBackClick:function(){this.$emit("on-back-click")}}},Be=Object(j.a)(Le,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"row"},[i("div",{staticClass:"col-12 d-flex prepend-top-8 align-items-center"},[e.showBack?i("gl-button",{staticClass:"append-right-default js-back-button",attrs:{size:"sm"},on:{click:e.onBackClick}},[i("icon",{attrs:{name:"angle-left"}})],1):e._e(),e._v(" "),i("h4",[e._v(e._s(e.heading))])],1)]),e._v(" "),i("div",{staticClass:"row mt-2"},[i("div",{staticClass:"col-4 col-md"},[i("span",{staticClass:"js-total-tests"},[e._v(e._s(e.sprintf(e.s__("TestReports|%{count} jobs"),{count:e.report.total_count})))])]),e._v(" "),i("div",{staticClass:"col-4 col-md text-center text-md-center"},[i("span",{staticClass:"js-failed-tests"},[e._v(e._s(e.sprintf(e.s__("TestReports|%{count} failures"),{count:e.report.failed_count})))])]),e._v(" "),i("div",{staticClass:"col-4 col-md text-right text-md-center"},[i("span",{staticClass:"js-errored-tests"},[e._v(e._s(e.sprintf(e.s__("TestReports|%{count} errors"),{count:e.report.error_count})))])]),e._v(" "),i("div",{staticClass:"col-6 mt-3 col-md mt-md-0 text-md-center"},[i("span",{staticClass:"js-success-rate"},[e._v(e._s(e.sprintf(e.s__("TestReports|%{rate}%{sign} success rate"),{rate:e.successPercentage,sign:"%"})))])]),e._v(" "),i("div",{staticClass:"col-6 mt-3 col-md mt-md-0 text-right"},[i("span",{staticClass:"js-duration"},[e._v(e._s(e.formattedDuration))])])]),e._v(" "),i("div",{staticClass:"row mt-3"},[i("div",{staticClass:"col-12"},[i("gl-progress-bar",{attrs:{value:e.successPercentage,variant:e.progressBarVariant,height:"10px"}})],1)])])}),[],!1,null,null,null).exports;function qe(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Ae(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var Re={name:"TestsSummaryTable",components:{SmartVirtualList:Te.a},store:Ce,props:{heading:{type:String,required:!1,default:Object(l.d)("TestReports|Test suites")}},computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(i),!0).forEach((function(t){Ae(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):qe(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},Object(te.d)(["getTestSuites"]),{hasSuites:function(){return this.getTestSuites.length>0}}),methods:{tableRowClick:function(e){this.$emit("row-click",e)}},maxShownRows:20,typicalRowHeight:55},Ie=Object(j.a)(Re,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"row prepend-top-default"},[i("div",{staticClass:"col-12"},[i("h4",[e._v(e._s(e.heading))])])]),e._v(" "),e.hasSuites?i("div",{staticClass:"test-reports-table append-bottom-default js-test-suites-table"},[i("div",{staticClass:"gl-responsive-table-row table-row-header font-weight-bold",attrs:{role:"row"}},[i("div",{staticClass:"table-section section-25 pl-3",attrs:{role:"rowheader"}},[e._v("\n        "+e._s(e.__("Suite"))+"\n      ")]),e._v(" "),i("div",{staticClass:"table-section section-25",attrs:{role:"rowheader"}},[e._v("\n        "+e._s(e.__("Duration"))+"\n      ")]),e._v(" "),i("div",{staticClass:"table-section section-10 text-center",attrs:{role:"rowheader"}},[e._v("\n        "+e._s(e.__("Failed"))+"\n      ")]),e._v(" "),i("div",{staticClass:"table-section section-10 text-center",attrs:{role:"rowheader"}},[e._v("\n        "+e._s(e.__("Errors"))+"\n      ")]),e._v(" "),i("div",{staticClass:"table-section section-10 text-center",attrs:{role:"rowheader"}},[e._v("\n        "+e._s(e.__("Skipped"))+"\n      ")]),e._v(" "),i("div",{staticClass:"table-section section-10 text-center",attrs:{role:"rowheader"}},[e._v("\n        "+e._s(e.__("Passed"))+"\n      ")]),e._v(" "),i("div",{staticClass:"table-section section-10 pr-3 text-right",attrs:{role:"rowheader"}},[e._v("\n        "+e._s(e.__("Total"))+"\n      ")])]),e._v(" "),i("smart-virtual-list",{attrs:{length:e.getTestSuites.length,remain:e.$options.maxShownRows,size:e.$options.typicalRowHeight}},e._l(e.getTestSuites,(function(t,n){return i("div",{key:n,staticClass:"gl-responsive-table-row gl-responsive-table-row-clickable test-reports-summary-row rounded cursor-pointer js-suite-row",attrs:{role:"row"},on:{click:function(i){return e.tableRowClick(t)}}},[i("div",{staticClass:"table-section section-25"},[i("div",{staticClass:"table-mobile-header font-weight-bold",attrs:{role:"rowheader"}},[e._v("\n            "+e._s(e.__("Suite"))+"\n          ")]),e._v(" "),i("div",{staticClass:"table-mobile-content underline cgray pl-3"},[e._v("\n            "+e._s(t.name)+"\n          ")])]),e._v(" "),i("div",{staticClass:"table-section section-25"},[i("div",{staticClass:"table-mobile-header font-weight-bold",attrs:{role:"rowheader"}},[e._v("\n            "+e._s(e.__("Duration"))+"\n          ")]),e._v(" "),i("div",{staticClass:"table-mobile-content text-md-left"},[e._v("\n            "+e._s(t.formattedTime)+"\n          ")])]),e._v(" "),i("div",{staticClass:"table-section section-10 text-center"},[i("div",{staticClass:"table-mobile-header font-weight-bold",attrs:{role:"rowheader"}},[e._v("\n            "+e._s(e.__("Failed"))+"\n          ")]),e._v(" "),i("div",{staticClass:"table-mobile-content"},[e._v(e._s(t.failed_count))])]),e._v(" "),i("div",{staticClass:"table-section section-10 text-center"},[i("div",{staticClass:"table-mobile-header font-weight-bold",attrs:{role:"rowheader"}},[e._v("\n            "+e._s(e.__("Errors"))+"\n          ")]),e._v(" "),i("div",{staticClass:"table-mobile-content"},[e._v(e._s(t.error_count))])]),e._v(" "),i("div",{staticClass:"table-section section-10 text-center"},[i("div",{staticClass:"table-mobile-header font-weight-bold",attrs:{role:"rowheader"}},[e._v("\n            "+e._s(e.__("Skipped"))+"\n          ")]),e._v(" "),i("div",{staticClass:"table-mobile-content"},[e._v(e._s(t.skipped_count))])]),e._v(" "),i("div",{staticClass:"table-section section-10 text-center"},[i("div",{staticClass:"table-mobile-header font-weight-bold",attrs:{role:"rowheader"}},[e._v("\n            "+e._s(e.__("Passed"))+"\n          ")]),e._v(" "),i("div",{staticClass:"table-mobile-content"},[e._v(e._s(t.success_count))])]),e._v(" "),i("div",{staticClass:"table-section section-10 text-right pr-md-3"},[i("div",{staticClass:"table-mobile-header font-weight-bold",attrs:{role:"rowheader"}},[e._v("\n            "+e._s(e.__("Total"))+"\n          ")]),e._v(" "),i("div",{staticClass:"table-mobile-content"},[e._v(e._s(t.total_count))])])])})),0)],1):i("div",[i("p",{staticClass:"js-no-tests-suites"},[e._v(e._s(e.s__("TestReports|There are no test suites to show.")))])])])}),[],!1,null,null,null).exports;function De(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function $e(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?De(Object(i),!0).forEach((function(t){Ne(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):De(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function Ne(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var ze={name:"TestReports",components:{GlLoadingIcon:u.a,TestSuiteTable:xe,TestSummary:Be,TestSummaryTable:Ie},store:Ce,computed:$e({},Object(te.e)(["isLoading","selectedSuite","testReports"]),{showSuite:function(){return this.selectedSuite.total_count>0},showTests:function(){return this.testReports.total_count>0}}),methods:$e({},Object(te.c)(["setSelectedSuite","removeSelectedSuite"]),{summaryBackClick:function(){this.removeSelectedSuite()},summaryTableRowClick:function(e){this.setSelectedSuite(e)},beforeEnterTransition:function(){document.documentElement.style.overflowX="hidden"},afterLeaveTransition:function(){document.documentElement.style.overflowX=""}})},Ge=Object(j.a)(ze,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isLoading?i("div",[i("gl-loading-icon",{staticClass:"prepend-top-default js-loading-spinner",attrs:{size:"lg"}})],1):!e.isLoading&&e.showTests?i("div",{ref:"container",staticClass:"tests-detail position-relative js-tests-detail"},[i("transition",{attrs:{name:"slide"},on:{"before-enter":e.beforeEnterTransition,"after-leave":e.afterLeaveTransition}},[e.showSuite?i("div",{key:"detail",staticClass:"w-100 position-absolute slide-enter-to-element"},[i("test-summary",{attrs:{report:e.selectedSuite,"show-back":""},on:{"on-back-click":e.summaryBackClick}}),e._v(" "),i("test-suite-table")],1):i("div",{key:"summary",staticClass:"w-100 position-absolute slide-enter-from-element"},[i("test-summary",{attrs:{report:e.testReports}}),e._v(" "),i("test-summary-table",{on:{"row-click":e.summaryTableRowClick}})],1)])],1):i("div",[i("div",{staticClass:"row prepend-top-default"},[i("div",{staticClass:"col-12"},[i("p",{staticClass:"js-no-tests-to-show"},[e._v(e._s(e.s__("TestReports|There are no tests to show.")))])])])])}),[],!1,null,null,null).exports;r.default.use(o.a);i(55),i(91),i(246);function Me(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Ve=function(){function e(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=i,this.defaultAction=this.options.defaultAction,this.action=this.options.action||this.defaultAction,this.hashedTabs=this.options.hashedTabs||!1,"show"===this.action&&(this.action=this.defaultAction),this.currentLocation=window.location,this.hashedTabs&&(this.action=this.currentLocation.hash||this.action);var n="".concat(this.options.parentEl,' a[data-toggle="tab"]');v()(document).off("shown.bs.tab",n).on("shown.bs.tab",n,(function(e){return t.tabShown(e)})),this.activateTab(this.action)}var t,i,n;return t=e,(i=[{key:"tabShown",value:function(e){var t=e.target.getAttribute("href");return this.setCurrentAction(t)}},{key:"setCurrentAction",value:function(e){var t=e;t.replace(/\/+$/,"");var i=this.hashedTabs?t:"".concat(t).concat(this.currentLocation.search).concat(this.currentLocation.hash);return window.history.replaceState({url:i},document.title,i),i}},{key:"activateTab",value:function(){return v()("".concat(this.options.parentEl," a[data-action='").concat(this.action,"']")).tab("show")}}])&&Me(t.prototype,i),n&&Me(t,n),e}();function Fe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Ue=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Fe(this,e),t.initTabs&&t.tabsOptions&&new Ve(t.tabsOptions),t.pipelineStatusUrl&&Object(k.O)(t.pipelineStatusUrl)};document.addEventListener("DOMContentLoaded",(function(){!function(){var e=document.querySelector(".js-toggle-mr-list"),t=document.querySelector(".js-truncated-mr-list"),i=document.querySelector(".js-full-mr-list");e&&e.addEventListener("click",(function(e){e.preventDefault(),t.classList.toggle("hide"),i.classList.toggle("hide")}));var n=document.querySelector(".js-pipeline-tab-link a"),s=document.querySelector(".js-pipeline-container").dataset.controllerAction;if(n){var r="".concat(n.getAttribute("href"),"/status.json");new Ue({initTabs:!0,pipelineStatusUrl:r,tabsOptions:{action:s,defaultAction:"pipelines",parentEl:".pipelines-tabs"}})}}(),function(){var e=document.querySelector(".js-pipeline-details-vue").dataset,t=new J({endpoint:e.endpoint});t.fetchPipeline(),new r.default({el:"#js-pipeline-graph-vue",components:{pipelineGraph:D},mixins:[R],data:function(){return{mediator:t}},render:function(e){var t=this;return e("pipeline-graph",{props:{isLoading:this.mediator.state.isLoading,pipeline:this.mediator.store.state.pipeline,mediator:this.mediator},on:{refreshPipelineGraph:this.requestRefreshPipelineGraph,onClickTriggeredBy:function(e,i){return t.clickTriggeredByPipeline(e,i)},onClickTriggered:function(e,i){return t.clickTriggeredPipeline(e,i)}}})}}),new r.default({el:"#js-pipeline-header-vue",components:{pipelineHeader:ee},data:function(){return{mediator:t}},created:function(){Q.a.$on("headerPostAction",this.postAction),Q.a.$on("headerDeleteAction",this.deleteAction)},beforeDestroy:function(){Q.a.$off("headerPostAction",this.postAction),Q.a.$off("headerDeleteAction",this.deleteAction)},methods:{postAction:function(e){var t=this;this.mediator.service.postAction(e).then((function(){return t.mediator.refreshPipeline()})).catch((function(){return Object(a.a)(Object(l.a)("An error occurred while making the request."))}))},deleteAction:function(e){this.mediator.stopPipelinePoll(),this.mediator.service.deleteAction(e).then((function(e){var t=e.request;return Object(c.k)(Object(c.n)(t.responseURL,"delete_success"))})).catch((function(){return Object(a.a)(Object(l.a)("An error occurred while deleting the pipeline."))}))}},render:function(e){return e("pipeline-header",{props:{isLoading:this.mediator.state.isLoading,pipeline:this.mediator.store.state.pipeline}})}});var i=document.querySelector(".pipelines-tabs"),n=window.gon&&window.gon.features&&window.gon.features.junitPipelineView;if(i&&n){if(Ce.dispatch("setEndpoint",e.testReportEndpoint),Boolean(document.querySelector(".pipelines-tabs > li > a.test-tab.active")))Ce.dispatch("fetchReports");else{i.addEventListener("click",(function e(t){"test-tab"===t.target.className&&(Ce.dispatch("fetchReports"),i.removeEventListener("click",e))}))}new r.default({el:"#js-pipeline-tests-detail",components:{TestReports:Ge},render:function(e){return e("test-reports")}}),V.a.get(e.testReportsCountEndpoint).then((function(e){var t=e.data;t.total_count&&(document.querySelector(".js-test-report-badge-counter").innerHTML=t.total_count)})).catch((function(){}))}}()}))}},[[2402,1,0,2,12]]]);
//# sourceMappingURL=pages.projects.pipelines.test_report.592a7d1a.chunk.js.map