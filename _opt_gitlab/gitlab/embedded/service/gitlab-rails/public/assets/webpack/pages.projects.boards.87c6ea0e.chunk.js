(this.webpackJsonp=this.webpackJsonp||[]).push([[132,8,10],{111:function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a=document,r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"container",set:function(e){a=e},get:function(){return a}}])&&i(t.prototype,n),r&&i(t,r),e}();t.a=new r},1114:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"BoardFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Board"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}],loc:{start:0,end:49}};n.loc.source={body:"fragment BoardFragment on Board {\n  id,\n  name\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},1122:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"project_boards"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fullPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"fullPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"boards"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"BoardFragment"},directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:231}};i.loc.source={body:'#import "ee_else_ce/boards/queries/board.fragment.graphql"\n\nquery project_boards($fullPath: ID!) {\n  project(fullPath: $fullPath) {\n    boards {\n      edges {\n        node {\n          ...BoardFragment\n        }\n      }\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(n(1114).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)})));var r={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=i,e.exports.project_boards=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);for(var i=r[t]||new Set,a=new Set,s=new Set(i);s.size>0;){var l=s;s=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return a.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(i,"project_boards")},1123:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"group_boards"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fullPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"group"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"fullPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"boards"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"BoardFragment"},directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:227}};i.loc.source={body:'#import "ee_else_ce/boards/queries/board.fragment.graphql"\n\nquery group_boards($fullPath: ID!) {\n  group(fullPath: $fullPath) {\n    boards {\n      edges {\n        node {\n          ...BoardFragment\n        }\n      }\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(n(1114).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)})));var r={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=i,e.exports.group_boards=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);for(var i=r[t]||new Set,a=new Set,s=new Set(i);s.size>0;){var l=s;s=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return a.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(i,"group_boards")},113:function(e,t,n){"use strict";n.r(t);var i=n(88),a=n(70),r=n(96);document.addEventListener("DOMContentLoaded",(function(){Object(r.a)(document,gon),new i.a,new a.a}))},1152:function(e,t,n){"use strict";n(24),n(28),n(26),n(50),n(58),n(38),n(18),n(64),n(27);var i=n(0),a=n.n(i),r=n(17),o=(n(42),n(46),n(77),n(11)),s=n(247),l=n(16),c=(n(287),n(52));function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.subscribed=t.subscribed,this.labels=[],this.assignees=[],this.selected=!1,this.position=t.relative_position||1/0,this.isFetching={subscriptions:!0},this.closed=t.closed,this.isLoading={},this.refreshData(t)}var t,n,i;return t=e,(n=[{key:"refreshData",value:function(e){c.c.refreshIssueData(this,e)}},{key:"addLabel",value:function(e){this.findLabel(e)||this.labels.push(new ListLabel(e))}},{key:"findLabel",value:function(e){return this.labels.find((function(t){return t.id===e.id}))}},{key:"removeLabel",value:function(e){e&&(this.labels=this.labels.filter((function(t){return e.id!==t.id})))}},{key:"removeLabels",value:function(e){e.forEach(this.removeLabel.bind(this))}},{key:"addAssignee",value:function(e){this.findAssignee(e)||this.assignees.push(new ListAssignee(e))}},{key:"findAssignee",value:function(e){return this.assignees.find((function(t){return t.id===e.id}))}},{key:"removeAssignee",value:function(e){e&&(this.assignees=this.assignees.filter((function(t){return t.id!==e.id})))}},{key:"removeAllAssignees",value:function(){this.assignees=[]}},{key:"addMilestone",value:function(e){this.milestone&&this.milestone.id}},{key:"removeMilestone",value:function(e){}},{key:"getLists",value:function(){var e=this;return c.c.state.lists.filter((function(t){return t.findIssue(e.id)}))}},{key:"updateData",value:function(e){Object.assign(this,e)}},{key:"setFetchingState",value:function(e,t){this.isFetching[e]=t}},{key:"setLoadingState",value:function(e,t){this.isLoading[e]=t}},{key:"update",value:function(){var e=this,t={issue:{milestone_id:this.milestone?this.milestone.id:null,due_date:this.dueDate,assignee_ids:this.assignees.length>0?this.assignees.map((function(e){return e.id})):[0],label_ids:this.labels.map((function(e){return e.id}))}};return t.issue.label_ids.length||(t.issue.label_ids=[""]),this.project&&this.project.path,o.a.patch("".concat(this.path,".json"),t).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.data,i=void 0===n?{}:n;i&&(e.labels=Object(l.g)(i.labels,{deep:!0}))}))}}])&&u(t.prototype,n),i&&u(t,i),e}();window.ListIssue=d;var h=d,p=(n(49),n(56),n(30),n(78),n(104),n(85),n(40),n(145),n(35),n(68),n(122),n(36),n(41),n(1)),f=n(276),m=n(14);n(288);function v(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var k={backlog:{isPreset:!0,isExpandable:!0,isBlank:!1},closed:{isPreset:!0,isExpandable:!0,isBlank:!1},blank:{isPreset:!0,isExpandable:!1,isBlank:!0},default:{isPreset:!1,isExpandable:!0,isBlank:!1}},S=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t.id,this._uid=this.guid(),this.position=t.position,this.title="backlog"===t.list_type?Object(p.a)("Open"):t.title,this.type=t.list_type;var n=this.getTypeInfo(this.type);this.preset=Boolean(n.isPreset),this.isExpandable=Boolean(n.isExpandable),this.isExpanded=!t.collapsed,this.page=1,this.loading=!0,this.loadingMore=!1,this.issues=t.issues||[],this.issuesSize=t.issuesSize?t.issuesSize:0,this.maxIssueCount=Object.hasOwnProperty.call(t,"max_issue_count")?t.max_issue_count:0,t.label?this.label=new s.a(t.label):t.user&&(this.assignee=new f.a(t.user),this.title=this.assignee.name),!n.isBlank&&this.id&&this.getIssues().catch((function(){}))}var t,n,i;return t=e,(n=[{key:"guid",value:function(){var e=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return"".concat(e()).concat(e(),"-").concat(e(),"-").concat(e(),"-").concat(e(),"-").concat(e()).concat(e()).concat(e())}},{key:"save",value:function(){return c.c.saveList(this)}},{key:"destroy",value:function(){var e=c.c.state.lists.indexOf(this);c.c.state.lists.splice(e,1),c.c.updateNewListDropdown(this.id),c.c.destroyList(this.id).catch((function(){}))}},{key:"update",value:function(){var e=!this.isExpanded;return c.c.updateList(this.id,this.position,e).catch((function(){}))}},{key:"nextPage",value:function(){if(this.issuesSize>this.issues.length)return this.issues.length/20>=1&&(this.page+=1),this.getIssues(!1)}},{key:"getIssues",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=b({},Object(l.S)(c.c.filter.path),{page:this.page});return this.label&&n.label_name&&(n.label_name=n.label_name.filter((function(t){return t!==e.label.title}))),t&&(this.loading=!0),c.c.getIssuesForList(this.id,n).then((function(e){return e.data})).then((function(n){return e.loading=!1,e.issuesSize=n.size,t&&(e.issues=[]),e.createIssues(n.issues),n}))}},{key:"newIssue",value:function(e){var t=this;return this.addIssue(e,null,0),this.issuesSize+=1,c.c.newIssue(this.id,e).then((function(e){return e.data})).then((function(n){return t.onNewIssueResponse(e,n)}))}},{key:"createIssues",value:function(e){var t=this;e.forEach((function(e){t.addIssue(new h(e))}))}},{key:"addMultipleIssues",value:function(e,t,n){c.c.addMultipleListIssues(this,e,t,n)}},{key:"addIssue",value:function(e,t,n){var i=null,a=null;this.findIssue(e.id)||(void 0!==n?(this.issues.splice(n,0,e),this.issues[n-1]&&(i=this.issues[n-1].id),this.issues[n+1]&&(a=this.issues[n+1].id)):this.issues.push(e),this.label&&e.addLabel(this.label),this.assignee&&(t&&"assignee"===t.type&&e.removeAssignee(t.assignee),e.addAssignee(this.assignee)),t&&(this.issuesSize+=1,this.updateIssueLabel(e,t,i,a)))}},{key:"moveIssue",value:function(e,t,n,i,a){this.issues.splice(t,1),this.issues.splice(n,0,e),c.c.moveIssue(e.id,null,null,i,a).catch((function(){}))}},{key:"moveMultipleIssues",value:function(e){var t,n=this,i=e.issues,a=e.oldIndicies,r=e.newIndex,o=e.moveBeforeId,s=e.moveAfterId;a.reverse().forEach((function(e){n.issues.splice(e,1)})),(t=this.issues).splice.apply(t,[r,0].concat(v(i))),c.c.moveMultipleIssues({ids:i.map((function(e){return e.id})),fromListId:null,toListId:null,moveBeforeId:o,moveAfterId:s}).catch((function(){return Object(m.a)(Object(p.a)("Something went wrong while moving issues."))}))}},{key:"updateIssueLabel",value:function(e,t,n,i){c.c.moveIssue(e.id,t.id,this.id,n,i).catch((function(){}))}},{key:"updateMultipleIssues",value:function(e,t,n,i){c.c.moveMultipleIssues({ids:e.map((function(e){return e.id})),fromListId:t.id,toListId:this.id,moveBeforeId:n,moveAfterId:i}).catch((function(){return Object(m.a)(Object(p.a)("Something went wrong while moving issues."))}))}},{key:"findIssue",value:function(e){return this.issues.find((function(t){return t.id===e}))}},{key:"removeMultipleIssues",value:function(e){var t=this,n=e.map((function(e){return e.id}));this.issues=this.issues.filter((function(e){var i=n.includes(e.id);return i&&(t.issuesSize-=1,e.removeLabel(t.label)),!i}))}},{key:"removeIssue",value:function(e){var t=this;this.issues=this.issues.filter((function(n){var i=e.id===n.id;return i&&(t.issuesSize-=1,n.removeLabel(t.label)),!i}))}},{key:"getTypeInfo",value:function(e){return k[e]||k.default}},{key:"onNewIssueResponse",value:function(e,t){if(e.refreshData(t),this.issuesSize>1){var n=this.issues[1].id;c.c.moveIssue(e.id,null,null,null,n)}}}])&&w(t.prototype,n),i&&w(t,i),e}();window.List=S;var _=n(350),O=n(1221),j=n(553),E=n(301),T=n(1233),C=n(103),D=n(25),I=n(351),x=n(60),P=n.n(x);function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A,B=(L(A={},D.n.dark,"gl-label-text-dark"),L(A,D.n.light,"gl-label-text-light"),A);const N={components:{GlLink:E.a,GlTooltip:T.a,GlIcon:C.a},props:{backgroundColor:{type:String,required:!0,validator:function(e){return/^(#|rgb|rgba)/.test(e)}},title:{type:String,required:!0,default:""},description:{type:String,required:!1,default:""},size:{type:String,required:!1,default:""},tooltipPlacement:{type:String,required:!1,default:"top"},target:{type:String,required:!1,default:"#"},scoped:{type:Boolean,required:!1,default:!1},scopedLabelsDocumentationLink:{type:String,required:!1,default:"#"}},data:function(){return{splitScopedLabelIndex:this.title.lastIndexOf("::")}},computed:{cssClasses:function(){return{"gl-label-sm":"sm"===this.size,"gl-label-scoped":this.scoped}},titleColorClass:function(){return B[Object(I.a)(this.backgroundColor)]},scopedKey:function(){return this.scoped?this.title.slice(0,this.splitScopedLabelIndex):this.title},scopedValue:function(){return this.title.slice(this.splitScopedLabelIndex+2)},scopedValueColor:function(){return"dark"===Object(I.a)(this.backgroundColor)?"#333":this.backgroundColor},boxShadow:function(){return{boxShadow:"inset 0 0 0 ".concat("sm"===this.size?"1px":"2px"," ").concat(this.backgroundColor)}}},watch:{title:function(){this.splitScopedLabelIndex=this.title.lastIndexOf("::")}}};var M=P()({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",e._b({ref:"labelTitle",staticClass:"gl-label",class:[e.titleColorClass,e.cssClasses],style:e.boxShadow,on:{click:function(t){return e.$emit("click",t)}}},"span",e.$attrs,!1),[n("gl-link",{staticClass:"gl-label-link",attrs:{href:e.target}},[n("span",{staticClass:"gl-label-text",style:{backgroundColor:e.backgroundColor}},[e._v(e._s(e.scopedKey))]),e._v(" "),e.scoped&&e.scopedValue?n("span",{staticClass:"gl-label-text",style:{color:e.scopedValueColor}},[e._v("\n      "+e._s(e.scopedValue)+"\n    ")]):e._e()]),e._v(" "),e.scoped?n("gl-link",{staticClass:"gl-label-icon",attrs:{href:e.scopedLabelsDocumentationLink}},[n("gl-icon",{attrs:{name:"question",size:12}})],1):e._e(),e._v(" "),e.description?n("gl-tooltip",{attrs:{target:function(){return e.$refs.labelTitle},placement:e.tooltipPlacement,boundary:"viewport"}},[e.scoped?n("span",{staticClass:"gl-label-tooltip-title"},[e._v("Scoped label")]):e._e(),e._v("\n    "+e._s(e.description)+"\n  ")]):e._e()],1)},staticRenderFns:[]},void 0,N,void 0,!1,void 0,!1,void 0,void 0,void 0),R=n(45),q=n(99),F=n(71),$=n(51),V=n.n($),H={data:function(){return{predefinedLabels:[new s.a({title:Object(p.a)("To Do"),color:"#F0AD4E"}),new s.a({title:Object(p.a)("Doing"),color:"#5CB85C"})]}},methods:{addDefaultLists:function(){this.clearBlankState(),this.predefinedLabels.forEach((function(e,t){c.c.addList({title:e.title,position:t,list_type:"label",label:{title:e.title,color:e.color}})}));var e=function(e){var t=c.c.findList("title",e.title);return t?(t.id=e.id,t.label.id=e.label.id,t.getIssues().catch((function(){}))):null};c.c.generateDefaultLists().then((function(e){return e.data})).then((function(t){return Promise.all(t.map(e))})).catch((function(){c.c.removeList(void 0,"label"),V.a.remove("issue_board_welcome_hidden",{path:""}),c.c.addBlankState()}))},clearBlankState:c.c.removeBlankState.bind(c.c)}},U=n(4),W=Object(U.a)(H,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"board-blank-state p-3"},[n("p",[e._v("\n    "+e._s(e.s__("BoardBlankState|Add the following default lists to your Issue Board with one click:"))+"\n  ")]),e._v(" "),n("ul",{staticClass:"list-unstyled board-blank-state-list"},e._l(e.predefinedLabels,(function(t,i){return n("li",{key:i},[n("span",{staticClass:"label-color position-relative d-inline-block rounded",style:{backgroundColor:t.color}}),e._v("\n      "+e._s(t.title)+"\n    ")])})),0),e._v(" "),n("p",[e._v("\n    "+e._s(e.s__("BoardBlankState|Starting out with the default set of lists will get you right on the way to making the most of your board."))+"\n  ")]),e._v(" "),n("button",{staticClass:"btn btn-success btn-inverted btn-block",attrs:{type:"button"},on:{click:function(t){return t.stopPropagation(),e.addDefaultLists(t)}}},[e._v("\n    "+e._s(e.s__("BoardBlankState|Add default lists"))+"\n  ")]),e._v(" "),n("button",{staticClass:"btn btn-default btn-block",attrs:{type:"button"},on:{click:function(t){return t.stopPropagation(),e.clearBlankState(t)}}},[e._v("\n    "+e._s(e.s__("BoardBlankState|Nevermind, I'll use my own"))+"\n  ")])])}),[],!1,null,null,null).exports,K=r.default.extend({props:{list:{type:Object,default:function(){return{}}}},methods:{deleteBoard:function(){a()(this.$el).tooltip("hide"),window.confirm(Object(p.a)("Are you sure you want to delete this list?"))&&this.list.destroy()}}}),z=(n(258),n(72),n(1010),n(760));n(89);var G=n(186),Y=n(93),X=n.n(Y),Q=n(32),J=n(290);function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var te={name:"BoardProjectSelect",components:{Icon:R.a,GlLoadingIcon:z.a},props:{groupId:{type:Number,required:!0,default:0},list:{type:Object,required:!0}},data:function(){return{loading:!0,selectedProject:{}}},computed:{selectedProjectName:function(){return this.selectedProject.name||Object(p.a)("Select a project")}},mounted:function(){var e=this;a()(this.$refs.projectsDropdown).glDropdown({filterable:!0,filterRemote:!0,search:{fields:["name_with_namespace"]},clicked:function(t){var n=t.$el;t.e.preventDefault(),e.selectedProject={id:n.data("project-id"),name:n.data("project-name")},G.a.$emit("setSelectedProject",e.selectedProject)},selectable:!0,data:function(t,n){e.loading=!0;var i={};return e.list.type&&"backlog"!==e.list.type&&(i.min_access_level=J.a.EVERYONE),Q.a.groupProjects(e.groupId,t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({with_issues_enabled:!0,with_shared:!1,include_subgroups:!0},i),(function(t){e.loading=!1,n(t)}))},renderRow:function(e){return"\n            <li>\n              <a href='#' class='dropdown-menu-link' data-project-id=\"".concat(e.id,'" data-project-name="').concat(e.name,'" data-project-name-with-namespace="').concat(e.name_with_namespace,'">\n                ').concat(X()(e.name_with_namespace),"\n              </a>\n            </li>\n          ")},text:function(e){return e.name_with_namespace}})}},ne={name:"BoardNewIssue",components:{ProjectSelect:Object(U.a)(te,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("label",{staticClass:"label-bold prepend-top-10"},[e._v(e._s(e.__("Project")))]),e._v(" "),n("div",{ref:"projectsDropdown",staticClass:"dropdown dropdown-projects"},[n("button",{staticClass:"dropdown-menu-toggle wide",attrs:{type:"button","data-toggle":"dropdown","aria-expanded":"false"}},[e._v("\n      "+e._s(e.selectedProjectName)+" "),n("icon",{attrs:{name:"chevron-down"}})],1),e._v(" "),n("div",{staticClass:"dropdown-menu dropdown-menu-selectable dropdown-menu-full-width"},[n("div",{staticClass:"dropdown-title"},[e._v(e._s(e.__("Projects")))]),e._v(" "),n("div",{staticClass:"dropdown-input"},[n("input",{staticClass:"dropdown-input-field",attrs:{type:"search",placeholder:e.__("Search projects")}}),e._v(" "),n("icon",{staticClass:"dropdown-input-search",attrs:{name:"search","data-hidden":"true"}})],1),e._v(" "),n("div",{staticClass:"dropdown-content"}),e._v(" "),n("div",{staticClass:"dropdown-loading"},[n("gl-loading-icon")],1)])])])}),[],!1,null,null,null).exports,GlButton:j.a},props:{groupId:{type:Number,required:!1,default:0},list:{type:Object,required:!0}},data:function(){return{title:"",error:!1,selectedProject:{}}},computed:{disabled:function(){return this.groupId?""===this.title||!this.selectedProject.name:""===this.title}},mounted:function(){this.$refs.input.focus(),G.a.$on("setSelectedProject",this.setSelectedProject)},methods:{submit:function(e){var t=this;if(e.preventDefault(),""===this.title.trim())return Promise.resolve();this.error=!1;var n=this.list.label?[this.list.label]:[],i=this.list.assignee?[this.list.assignee]:[],r=(this.list,null),o=(c.c.weightFeatureAvailable?c.c.state.currentBoard:{}).weight,s=new h({title:this.title,labels:n,subscribed:!0,assignees:i,milestone:r,project_id:this.selectedProject.id,weight:o});return G.a.$emit("scroll-board-list-".concat(this.list.id)),this.cancel(),this.list.newIssue(s).then((function(){a()(t.$refs.submitButton).enable(),c.c.setIssueDetail(s),c.c.setListDetail(t.list)})).catch((function(){a()(t.$refs.submitButton).enable(),t.list.removeIssue(s),t.error=!0}))},cancel:function(){this.title="",G.a.$emit("hide-issue-form-".concat(this.list.id))},setSelectedProject:function(e){this.selectedProject=e}}},ie=Object(U.a)(ne,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"board-new-issue-form"},[n("div",{staticClass:"board-card position-relative p-3 rounded"},[n("form",{on:{submit:function(t){return e.submit(t)}}},[e.error?n("div",{staticClass:"flash-container"},[n("div",{staticClass:"flash-alert"},[e._v(e._s(e.__("An error occurred. Please try again.")))])]):e._e(),e._v(" "),n("label",{staticClass:"label-bold",attrs:{for:e.list.id+"-title"}},[e._v(e._s(e.__("Title")))]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"title"}],ref:"input",staticClass:"form-control",attrs:{id:e.list.id+"-title",type:"text",name:"issue_title",autocomplete:"off"},domProps:{value:e.title},on:{input:function(t){t.target.composing||(e.title=t.target.value)}}}),e._v(" "),e.groupId?n("project-select",{attrs:{"group-id":e.groupId,list:e.list}}):e._e(),e._v(" "),n("div",{staticClass:"clearfix prepend-top-10"},[n("gl-button",{ref:"submit-button",staticClass:"float-left",attrs:{disabled:e.disabled,variant:"success",type:"submit"}},[e._v(e._s(e.__("Submit issue")))]),e._v(" "),n("gl-button",{staticClass:"float-right",attrs:{type:"button",variant:"default"},on:{click:e.cancel}},[e._v(e._s(e.__("Cancel")))])],1)],1)])])}),[],!1,null,null,null).exports,ae=(n(374),n(55),n(67),n(240)),re=n.n(ae),oe=n(22),se=n(828),le=n(325),ce=n(180),ue=n(210),de=n.n(ue),he=n(62),pe={components:{Icon:R.a,GlTooltip:T.a},props:{closed:{type:Boolean,required:!1,default:!1},date:{type:String,required:!0},cssClass:{type:String,required:!1,default:""},tooltipPlacement:{type:String,required:!1,default:"bottom"}},computed:{title:function(){var e=Object(he.k)(),t=this.timeDifference,n=this.standardDateFormat;return t>=-1&&t<7?"".concat(e.format(this.issueDueDate)," (").concat(n,")"):e.format(this.issueDueDate)},body:function(){var e=this.timeDifference,t=this.issueDueDate,n=this.standardDateFormat;return 0===e?Object(p.a)("Today"):1===e?Object(p.a)("Tomorrow"):-1===e?Object(p.a)("Yesterday"):e>0&&e<7?de()(t,"dddd"):n},issueDueDate:function(){return Object(he.n)(this.date)},timeDifference:function(){var e=new Date;return Object(he.h)(e,this.issueDueDate)},isPastDue:function(){return!(this.timeDifference>=0||this.closed)},standardDateFormat:function(){var e=(new Date).getFullYear()===this.issueDueDate.getFullYear();return Object(he.c)(this.issueDueDate,!0,e)}}},fe=Object(U.a)(pe,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[n("span",{ref:"issueDueDate",staticClass:"board-card-info card-number",class:e.cssClass},[n("icon",{staticClass:"board-card-info-icon align-top",class:{"text-danger":e.isPastDue},attrs:{name:"calendar"}}),e._v(" "),n("time",{staticClass:"board-card-info-text",class:{"text-danger":e.isPastDue},attrs:{datetime:"date"}},[e._v(e._s(e.body))])],1),e._v(" "),n("gl-tooltip",{attrs:{target:function(){return e.$refs.issueDueDate},placement:e.tooltipPlacement}},[n("span",{staticClass:"bold"},[e._v(e._s(e.__("Due date")))]),e._v(" "),n("br"),e._v(" "),n("span",{class:{"text-danger-muted":e.isPastDue}},[e._v(e._s(e.title))])])],1)}),[],!1,null,null,null).exports,me={components:{Icon:R.a,GlTooltip:T.a},props:{estimate:{type:Number,required:!0}},data:function(){return{limitToHours:c.c.timeTracking.limitToHours}},computed:{title:function(){return Object(he.r)(Object(he.o)(this.estimate,{limitToHours:this.limitToHours}),!0)},timeEstimate:function(){return Object(he.r)(Object(he.o)(this.estimate,{limitToHours:this.limitToHours}))}}},ve=Object(U.a)(me,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[n("span",{ref:"issueTimeEstimate",staticClass:"board-card-info card-number"},[n("icon",{staticClass:"board-card-info-icon align-top",attrs:{name:"hourglass"}}),n("time",{staticClass:"board-card-info-text"},[e._v(e._s(e.timeEstimate))])],1),e._v(" "),n("gl-tooltip",{staticClass:"js-issue-time-estimate",attrs:{target:function(){return e.$refs.issueTimeEstimate},placement:"bottom"}},[n("span",{staticClass:"bold d-block"},[e._v(e._s(e.__("Time estimate")))]),e._v(" "+e._s(e.title)+"\n  ")])],1)}),[],!1,null,null,null).exports;function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ye={components:{GlLabel:M,Icon:R.a,UserAvatarLink:ce.a,TooltipOnTruncate:le.a,IssueDueDate:fe,IssueTimeEstimate:ve,IssueCardWeight:function(){return n.e(4).then(n.bind(null,3230))}},directives:{GlTooltip:se.a},mixins:[{computed:{validIssueWeight:function(){return!1}},methods:{filterByWeight:function(){}}}],props:{issue:{type:Object,required:!0},issueLinkBase:{type:String,required:!0},list:{type:Object,required:!1,default:function(){return{}}},rootPath:{type:String,required:!0},updateFilters:{type:Boolean,required:!1,default:!1},groupId:{type:Number,required:!1,default:null}},data:function(){return{limitBeforeCounter:2,maxRender:3,maxCounter:99}},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(n),!0).forEach((function(t){be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(oe.e)(["isShowingLabels"]),{numberOverLimit:function(){return this.issue.assignees.length-this.limitBeforeCounter},assigneeCounterTooltip:function(){var e=this.numberOverLimit,t=this.maxCounter,n=e>t?t:e;return Object(p.e)(Object(p.a)("%{count} more assignees"),{count:n})},assigneeCounterLabel:function(){return this.numberOverLimit>this.maxCounter?"".concat(this.maxCounter,"+"):"+".concat(this.numberOverLimit)},shouldRenderCounter:function(){return!(this.issue.assignees.length<=this.maxRender)&&this.issue.assignees.length>this.numberOverLimit},issueId:function(){return!!this.issue.iid&&"#".concat(this.issue.iid)},showLabelFooter:function(){return this.isShowingLabels&&this.issue.labels.find(this.showLabel)},issueReferencePath:function(){var e=this.issue,t=e.referencePath;return e.groupId?null:t.split("#")[0]},orderedLabels:function(){return re()(this.issue.labels.filter(this.isNonListLabel),"title")},helpLink:function(){return c.c.scopedLabels.helpLink}}),methods:{isIndexLessThanlimit:function(e){return e<this.limitBeforeCounter},shouldRenderAssignee:function(e){return this.issue.assignees.length<=this.maxRender?e<this.maxRender:e<this.limitBeforeCounter},assigneeUrl:function(e){return e?"".concat(this.rootPath).concat(e.username):""},avatarUrlTitle:function(e){return Object(p.e)(Object(p.a)("Avatar for %{assigneeName}"),{assigneeName:e.name})},showLabel:function(e){return!!e.id},isNonListLabel:function(e){return e.id&&!("label"===this.list.type&&this.list.title===e.title)},filterByLabel:function(e){if(this.updateFilters){var t=encodeURIComponent(e.title),n="label_name[]=".concat(t);c.c.toggleFilter(n)}},showScopedLabel:function(e){return c.c.scopedLabels.enabled&&Object(l.C)(e)}}},we=Object(U.a)(ye,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"d-flex board-card-header",attrs:{dir:"auto"}},[n("h4",{staticClass:"board-card-title append-bottom-0 prepend-top-0"},[e.issue.blocked?n("icon",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"issue-blocked-icon append-right-4",attrs:{name:"issue-block",title:e.__("Blocked issue"),"aria-label":e.__("Blocked issue")}}):e._e(),e._v(" "),e.issue.confidential?n("icon",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"confidential-icon append-right-4",attrs:{name:"eye-slash",title:e.__("Confidential"),"aria-label":e.__("Confidential")}}):e._e(),e._v(" "),n("a",{staticClass:"js-no-trigger",attrs:{href:e.issue.path,title:e.issue.title},on:{mousemove:function(e){e.stopPropagation()}}},[e._v(e._s(e.issue.title))])],1)]),e._v(" "),e.showLabelFooter?n("div",{staticClass:"board-card-labels prepend-top-4 d-flex flex-wrap"},[e._l(e.orderedLabels,(function(t){return[n("gl-label",{key:t.id,attrs:{"background-color":t.color,title:t.title,description:t.description,size:"sm",scoped:e.showScopedLabel(t),"scoped-labels-documentation-link":e.helpLink},on:{click:function(n){return e.filterByLabel(t)}}})]}))],2):e._e(),e._v(" "),n("div",{staticClass:"board-card-footer d-flex justify-content-between align-items-end"},[n("div",{staticClass:"d-flex align-items-start flex-wrap-reverse board-card-number-container overflow-hidden js-board-card-number-container"},[e.issue.referencePath?n("span",{staticClass:"board-card-number overflow-hidden d-flex append-right-8 prepend-top-8"},[e.issueReferencePath?n("tooltip-on-truncate",{staticClass:"board-issue-path block-truncated bold",attrs:{title:e.issueReferencePath,placement:"bottom"}},[e._v(e._s(e.issueReferencePath))]):e._e(),e._v("\n        #"+e._s(e.issue.iid)+"\n      ")],1):e._e(),e._v(" "),n("span",{staticClass:"board-info-items prepend-top-8 d-inline-block"},[e.issue.dueDate?n("issue-due-date",{attrs:{date:e.issue.dueDate,closed:e.issue.closed}}):e._e(),e._v(" "),e.issue.timeEstimate?n("issue-time-estimate",{attrs:{estimate:e.issue.timeEstimate}}):e._e(),e._v(" "),e.validIssueWeight?n("issue-card-weight",{attrs:{weight:e.issue.weight},on:{click:function(t){return e.filterByWeight(e.issue.weight)}}}):e._e()],1)]),e._v(" "),n("div",{staticClass:"board-card-assignee d-flex"},[e._l(e.issue.assignees,(function(t,i){return e.shouldRenderAssignee(i)?n("user-avatar-link",{key:t.id,staticClass:"js-no-trigger",attrs:{"link-href":e.assigneeUrl(t),"img-alt":e.avatarUrlTitle(t),"img-src":t.avatar||t.avatar_url,"img-size":24,"tooltip-placement":"bottom"}},[n("span",{staticClass:"js-assignee-tooltip"},[n("span",{staticClass:"bold d-block"},[e._v(e._s(e.__("Assignee")))]),e._v("\n          "+e._s(t.name)+"\n          "),n("span",{staticClass:"text-white-50"},[e._v("@"+e._s(t.username))])])]):e._e()})),e._v(" "),e.shouldRenderCounter?n("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"avatar-counter",attrs:{title:e.assigneeCounterTooltip,"data-placement":"bottom"}},[e._v(e._s(e.assigneeCounterLabel))]):e._e()],2)])])}),[],!1,null,null,null).exports,ke={name:"BoardsIssueCard",components:{IssueCardInner:we},props:{list:{type:Object,default:function(){return{}}},issue:{type:Object,default:function(){return{}}},issueLinkBase:{type:String,default:""},disabled:{type:Boolean,default:!1},index:{type:Number,default:0},rootPath:{type:String,default:""},groupId:{type:Number}},data:function(){return{showDetail:!1,detailIssue:c.c.detail,multiSelect:c.c.multiSelect}},computed:{issueDetailVisible:function(){return this.detailIssue.issue&&this.detailIssue.issue.id===this.issue.id},multiSelectVisible:function(){var e=this;return this.multiSelect.list.findIndex((function(t){return t.id===e.issue.id}))>-1},canMultiSelect:function(){return gon.features&&gon.features.multiSelectBoard}},methods:{mouseDown:function(){this.showDetail=!0},mouseMove:function(){this.showDetail=!1},showIssue:function(e){if(!e.target.classList.contains("js-no-trigger")){var t=this.canMultiSelect&&(e.ctrlKey||e.metaKey);(this.showDetail||t)&&(this.showDetail=!1,c.c.detail.issue&&c.c.detail.issue.id===this.issue.id?(G.a.$emit("clearDetailIssue",t),t&&G.a.$emit("newDetailIssue",this.issue,t)):(G.a.$emit("newDetailIssue",this.issue,t),c.c.setListDetail(this.list)))}}}},Se=Object(U.a)(ke,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{staticClass:"board-card p-3 rounded",class:{"multi-select":e.multiSelectVisible,"user-can-drag":!e.disabled&&e.issue.id,"is-disabled":e.disabled||!e.issue.id,"is-active":e.issueDetailVisible},attrs:{index:e.index,"data-issue-id":e.issue.id,"data-qa-selector":"board_card"},on:{mousedown:e.mouseDown,mousemove:e.mouseMove,mouseup:function(t){return e.showIssue(t)}}},[n("issue-card-inner",{attrs:{list:e.list,issue:e.issue,"issue-link-base":e.issueLinkBase,"group-id":e.groupId,"root-path":e.rootPath,"update-filters":!0}})],1)}),[],!1,null,null,null).exports,_e=n(386);function Oe(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}gon.features&&gon.features.multiSelectBoard&&_.Sortable.mount(new _.MultiDrag);var Te={name:"BoardList",components:{boardCard:Se,boardNewIssue:ie,GlLoadingIcon:z.a},props:{groupId:{type:Number,required:!1,default:0},disabled:{type:Boolean,required:!0},list:{type:Object,required:!0},issues:{type:Array,required:!0},loading:{type:Boolean,required:!0},issueLinkBase:{type:String,required:!0},rootPath:{type:String,required:!0}},data:function(){return{scrollOffset:250,filters:c.c.state.filters,showCount:!1,showIssueForm:!1}},computed:{paginatedIssueText:function(){return Object(p.e)(Object(p.a)("Showing %{pageSize} of %{total} issues"),{pageSize:this.list.issues.length,total:this.list.issuesSize})},issuesSizeExceedsMax:function(){return this.list.maxIssueCount>0&&this.list.issuesSize>this.list.maxIssueCount}},watch:{filters:{handler:function(){this.list.loadingMore=!1,this.$refs.list.scrollTop=0},deep:!0},issues:function(){var e=this;this.$nextTick((function(){e.scrollHeight()<=e.listHeight()&&e.list.issuesSize>e.list.issues.length&&e.list.isExpanded&&(e.list.page+=1,e.list.getIssues(!1).catch((function(){}))),e.scrollHeight()>Math.ceil(e.listHeight())?e.showCount=!0:e.showCount=!1}))}},created:function(){G.a.$on("hide-issue-form-".concat(this.list.id),this.toggleForm),G.a.$on("scroll-board-list-".concat(this.list.id),this.scrollToTop)},mounted:function(){var e=this,t={};gon.features&&gon.features.multiSelectBoard&&(t.multiDrag=!0,t.selectedClass="js-multi-select",t.animation=500);var n=Object(_e.a)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){Ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({scroll:!0,disabled:this.disabled,filter:".board-list-count, .is-disabled",dataIdAttr:"data-issue-id",removeCloneOnHide:!1},t,{group:{name:"issues",pull:function(t,n,i,a){if(a.target){var r=(a.target.closest(".js-board-list")||a.target.querySelector(".js-board-list")).dataset.boardType;if(r){var o=e.list.type;if(Object.entries({label:["milestone","assignee"],assignee:["milestone","label"],milestone:["label","assignee"]}).some((function(e){return o===e[0]&&e[1].includes(r)})))return"clone"}}return!0},revertClone:!0},onStart:function(t){var n=e.$refs.issue[t.oldIndex];n.showDetail=!1;var i=n.list,a=i.findIssue(Number(t.item.dataset.issueId));c.c.startMoving(i,a),e.$root.$emit("bv::hide::tooltip"),Object(_e.c)()},onAdd:function(t){var n=t.items,i=void 0===n?[]:n,a=t.newIndicies,r=void 0===a?[]:a;if(i.length){var o=Math.min.apply(Math,Oe(r.map((function(e){return e.index})).filter((function(e){return-1!==e})))),s=i.map((function(e){return c.c.moving.list.findIssue(Number(e.dataset.issueId))}));c.c.moveMultipleIssuesToList({listFrom:c.c.moving.list,listTo:e.list,issues:s,newIndex:o})}else c.c.moveIssueToList(c.c.moving.list,e.list,c.c.moving.issue,t.newIndex),e.$nextTick((function(){t.item.remove()}))},onUpdate:function(t){var n=e.sortable.toArray().filter((function(e){return"-1"!==e})),i=t.items,a=void 0===i?[]:i,r=t.newIndicies,o=void 0===r?[]:r,s=t.oldIndicies,l=void 0===s?[]:s;if(a.length){var u=Math.min.apply(Math,Oe(o.map((function(e){return e.index})))),d=a.map((function(e){return c.c.moving.list.findIssue(Number(e.dataset.issueId))}));return c.c.moveMultipleIssuesInList({list:e.list,issues:d,oldIndicies:l.map((function(e){return e.index})),newIndex:u,idArray:n}),t.items.forEach((function(e){_.Sortable.utils.deselect(e)})),void c.c.clearMultiSelect()}c.c.moveIssueInList(e.list,c.c.moving.issue,t.oldIndex,t.newIndex,n)},onEnd:function(t){var n=t.items,i=void 0===n?[]:n,a=t.clones,r=void 0===a?[]:a,o=t.to;if(i.length||r.length){var s;if(o){var l=o.closest(".js-board-list");s=c.c.findList("id",Number(l.dataset.board),"")}var u=s&&s.id===e.list.id;if(s&&!u&&c.c.shouldRemoveIssue(e.list,s)){var d=i.map((function(t){return e.list.findIssue(Number(t.dataset.issueId))}));if(d.filter(Boolean).length&&!c.c.issuesAreContiguous(e.list,d)){var h=[],f=e.list.issues.map((function(e){return e.id}));d.forEach((function(e){var t=f.indexOf(e.id);t>-1&&h.push(t)})),h.sort((function(e,t){return e<t?1:-1})).forEach((function(t){setTimeout((function(){e.list.issues.splice(t,1)}),0)}))}}s||Object(m.a)(Object(p.a)("Something went wrong while performing the action.")),u||(c.c.clearMultiSelect(),r&&r.length&&r.forEach((function(e){return e.classList.remove("multi-select")})),Array.from(document.querySelectorAll(".js-multi-select")||[]).forEach((function(e){_.Sortable.utils.deselect(e)})),e.$nextTick((function(){i&&i.length&&i.forEach((function(e){e.remove()}))}))),Object(_e.b)()}else Object(_e.b)()},onMove:function(e){return!e.related.classList.contains("board-list-count")},onSelect:function(e){var t=e.item.classList;t&&t.contains("js-multi-select")&&!t.contains("multi-select")&&_.Sortable.utils.deselect(e.item)},onDeselect:function(t){var n=t.item,i=n.dataset,a=n.classList;if(a&&a.contains("multi-select")&&!a.contains("js-multi-select")){var r=e.list.findIssue(Number(i.issueId));c.c.toggleMultiSelect(r)}}}));this.sortable=_.Sortable.create(this.$refs.list,n),this.$refs.list.addEventListener("scroll",this.onScroll)},beforeDestroy:function(){G.a.$off("hide-issue-form-".concat(this.list.id),this.toggleForm),G.a.$off("scroll-board-list-".concat(this.list.id),this.scrollToTop),this.$refs.list.removeEventListener("scroll",this.onScroll)},methods:{listHeight:function(){return this.$refs.list.getBoundingClientRect().height},scrollHeight:function(){return this.$refs.list.scrollHeight},scrollTop:function(){return this.$refs.list.scrollTop+this.listHeight()},scrollToTop:function(){this.$refs.list.scrollTop=0},loadNextPage:function(){var e=this,t=this.list.nextPage(),n=function(){e.list.loadingMore=!1};t&&(this.list.loadingMore=!0,t.then(n).catch(n))},toggleForm:function(){this.showIssueForm=!this.showIssueForm},onScroll:function(){!this.list.loadingMore&&this.scrollTop()>this.scrollHeight()-this.scrollOffset&&this.loadNextPage()}}},Ce=Object(U.a)(Te,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"board-list-component position-relative h-100",class:{"d-none":!e.list.isExpanded,"d-flex flex-column":e.list.isExpanded},attrs:{"data-qa-selector":"board_list_cards_area"}},[e.loading?n("div",{staticClass:"board-list-loading text-center",attrs:{"aria-label":e.__("Loading issues")}},[n("gl-loading-icon")],1):e._e(),e._v(" "),"closed"!==e.list.type&&e.showIssueForm?n("board-new-issue",{attrs:{"group-id":e.groupId,list:e.list}}):e._e(),e._v(" "),n("ul",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],ref:"list",staticClass:"board-list w-100 h-100 list-unstyled mb-0 p-1 js-board-list",class:{"is-smaller":e.showIssueForm,"bg-danger-100":e.issuesSizeExceedsMax},attrs:{"data-board":e.list.id,"data-board-type":e.list.type}},[e._l(e.issues,(function(t,i){return n("board-card",{key:t.id,ref:"issue",refInFor:!0,attrs:{index:i,list:e.list,issue:t,"issue-link-base":e.issueLinkBase,"group-id":e.groupId,"root-path":e.rootPath,disabled:e.disabled}})})),e._v(" "),e.showCount?n("li",{staticClass:"board-list-count text-center",attrs:{"data-issue-id":"-1"}},[n("gl-loading-icon",{directives:[{name:"show",rawName:"v-show",value:e.list.loadingMore,expression:"list.loadingMore"}],attrs:{label:"Loading more issues"}}),e._v(" "),e.list.issues.length===e.list.issuesSize?n("span",[e._v(e._s(e.__("Showing all issues")))]):n("span",[e._v(e._s(e.paginatedIssueText))])],1):e._e()],2)],1)}),[],!1,null,null,null).exports,De={name:"IssueCount",props:{maxIssueCount:{type:Number,required:!1,default:0},issuesSize:{type:Number,required:!1,default:0}},computed:{isMaxLimitSet:function(){return 0!==this.maxIssueCount},issuesExceedMax:function(){return this.isMaxLimitSet&&this.issuesSize>this.maxIssueCount}}},Ie=Object(U.a)(De,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"issue-count text-nowrap"},[n("span",{staticClass:"js-issue-size",class:{"text-danger":e.issuesExceedMax}},[e._v("\n    "+e._s(e.issuesSize)+"\n  ")]),e._v(" "),e.isMaxLimitSet?n("span",{staticClass:"js-max-issue-size"},[e._v("\n    "+e._s(e.maxIssueCount)+"\n  ")]):e._e()])}),[],!1,null,null,null).exports,xe=n(128),Pe=r.default.extend({components:{BoardBlankState:W,BoardDelete:K,BoardList:Ce,Icon:R.a,GlButtonGroup:O.a,IssueCount:Ie,GlButton:j.a,GlLabel:M,GlTooltip:T.a},directives:{Tooltip:q.a},mixins:[{computed:{isWipLimitsOn:function(){return!1}}}],props:{list:{type:Object,default:function(){return{}}},disabled:{type:Boolean,required:!0},issueLinkBase:{type:String,required:!0},rootPath:{type:String,required:!0},boardId:{type:String,required:!0}},data:function(){return{detailIssue:c.c.detail,filter:c.c.filter}},computed:{isLoggedIn:function(){return Boolean(gon.current_user_id)},showListHeaderButton:function(){return!this.disabled&&this.list.type!==xe.a.closed&&this.list.type!==xe.a.blank},issuesTooltip:function(){var e=this.list.issuesSize;return Object(p.e)(Object(p.a)("%{issuesSize} issues"),{issuesSize:e})},weightCountToolTip:function(){},caretTooltip:function(){return this.list.isExpanded?Object(p.d)("Boards|Collapse"):Object(p.d)("Boards|Expand")},isNewIssueShown:function(){return this.list.type===xe.a.backlog||this.showListHeaderButton},isSettingsShown:function(){return this.list.type!==xe.a.backlog&&this.showListHeaderButton&&this.list.isExpanded&&this.isWipLimitsOn},showBoardListAndBoardInfo:function(){return this.list.type!==xe.a.blank&&this.list.type!==xe.a.promotion},uniqueKey:function(){return"boards.".concat(this.boardId,".").concat(this.list.type,".").concat(this.list.id)},helpLink:function(){return c.c.scopedLabels.helpLink}},watch:{filter:{handler:function(){this.list.page=1,this.list.getIssues(!0).catch((function(){}))},deep:!0}},mounted:function(){var e=this,t=Object(_e.a)({disabled:this.disabled,group:"boards",draggable:".is-draggable",handle:".js-board-handle",onEnd:function(t){Object(_e.b)();if(void 0!==t.newIndex&&t.oldIndex!==t.newIndex){var n=this.toArray(),i=c.c.findList("id",parseInt(t.item.dataset.id,10));e.$nextTick((function(){c.c.moveList(i,n)}))}}});_.default.create(this.$el.parentNode,t)},created:function(){if(this.list.isExpandable&&F.a.isLocalStorageAccessSafe()&&!this.isLoggedIn){var e="false"===localStorage.getItem("".concat(this.uniqueKey,".expanded"));this.list.isExpanded=!e}},methods:{showScopedLabels:function(e){return c.c.scopedLabels.enabled&&Object(l.C)(e)},showNewIssueForm:function(){this.$refs["board-list"].showIssueForm=!this.$refs["board-list"].showIssueForm},toggleExpanded:function(){this.list.isExpandable&&(this.list.isExpanded=!this.list.isExpanded,F.a.isLocalStorageAccessSafe()&&!this.isLoggedIn&&localStorage.setItem("".concat(this.uniqueKey,".expanded"),this.list.isExpanded),this.isLoggedIn&&this.list.update(),a()(".tooltip").tooltip("hide"))}},template:"#js-board-template"}),Le=(n(65),n(376)),Ae=n(135),Be=n(275),Ne=n(533),Me=n(291),Re=n(536),qe=n(534),Fe=n(537),$e=n(485),Ve=n(292),He={props:{issue:{type:Object,required:!0},list:{type:Object,required:!0}},computed:{updateUrl:function(){return this.issue.path}},methods:{removeIssue:function(){var e=this.issue,t=e.getLists(),n=this.buildPatchRequest(e,t),i={issue:this.seedPatchRequest(e,n)};0===i.issue.label_ids.length&&(i.issue.label_ids=[""]),o.a.patch(this.updateUrl,i).catch((function(){Object(m.a)(Object(p.a)("Failed to remove issue from board, please try again.")),t.forEach((function(t){t.addIssue(e)}))})),t.forEach((function(t){t.removeIssue(e)})),c.c.clearDetailIssue()},buildPatchRequest:function(e,t){var n=t.map((function(e){return e.label.id}));return{label_ids:e.labels.map((function(e){return e.id})).filter((function(e){return!n.includes(e)}))}},seedPatchRequest:function(e,t){return t}}},Ue=Object(U.a)(He,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"block list"},[t("button",{staticClass:"btn btn-default btn-block",attrs:{type:"button"},on:{click:this.removeIssue}},[this._v("\n    "+this._s(this.__("Remove from board"))+"\n  ")])])}),[],!1,null,null,null).exports,We=r.default.extend({components:{AssigneeTitle:Re.a,Assignees:qe.a,GlLabel:M,SidebarEpicsSelect:function(){return n.e(4).then(n.bind(null,3230))},RemoveBtn:Ue,Subscriptions:Fe.a,TimeTracker:$e.a},props:{currentUser:{type:Object,default:function(){return{}}}},data:function(){return{detail:c.c.detail,issue:{},list:{},loadingAssignees:!1,timeTrackingLimitToHours:c.c.timeTracking.limitToHours}},computed:{showSidebar:function(){return Object.keys(this.issue).length},milestoneTitle:function(){return this.issue.milestone?this.issue.milestone.title:Object(p.a)("No Milestone")},canRemove:function(){return!this.list.preset},hasLabels:function(){return this.issue.labels&&this.issue.labels.length},labelDropdownTitle:function(){return this.hasLabels?Object(p.e)(Object(p.a)("%{firstLabel} +%{labelCount} more"),{firstLabel:this.issue.labels[0].title,labelCount:this.issue.labels.length-1}):Object(p.a)("Label")},selectedLabels:function(){return this.hasLabels?this.issue.labels.map((function(e){return e.title})).join(","):""},helpLink:function(){return c.c.scopedLabels.helpLink}},watch:{detail:{handler:function(){this.issue.id!==this.detail.issue.id&&(a()(".block.assignee").find('input:not(.js-vue)[name="issue[assignee_ids][]"]').each((function(e,t){a()(t).remove()})),a()(".js-issue-board-sidebar",this.$el).each((function(e,t){a()(t).data("glDropdown").clearMenu()}))),this.issue=this.detail.issue,this.list=this.detail.list},deep:!0}},created:function(){Ae.a.$on("sidebar.removeAssignee",this.removeAssignee),Ae.a.$on("sidebar.addAssignee",this.addAssignee),Ae.a.$on("sidebar.removeAllAssignees",this.removeAllAssignees),Ae.a.$on("sidebar.saveAssignees",this.saveAssignees)},beforeDestroy:function(){Ae.a.$off("sidebar.removeAssignee",this.removeAssignee),Ae.a.$off("sidebar.addAssignee",this.addAssignee),Ae.a.$off("sidebar.removeAllAssignees",this.removeAllAssignees),Ae.a.$off("sidebar.saveAssignees",this.saveAssignees)},mounted:function(){new Ne.a(this.currentUser),new Ve.a,new Be.a,new Me.a,new Le.a},methods:{closeSidebar:function(){this.detail.issue={}},assignSelf:function(){this.$refs.assigneeBlock.dispatchEvent(new Event("assignYourself")),this.addAssignee(this.currentUser),this.saveAssignees()},removeAssignee:function(e){c.c.detail.issue.removeAssignee(e)},addAssignee:function(e){c.c.detail.issue.addAssignee(e)},removeAllAssignees:function(){c.c.detail.issue.removeAllAssignees()},saveAssignees:function(){var e=this;this.loadingAssignees=!0,c.c.detail.issue.update().then((function(){e.loadingAssignees=!1})).catch((function(){e.loadingAssignees=!1,Object(m.a)(Object(p.a)("An error occurred while saving assignees"))}))},showScopedLabels:function(e){return c.c.scopedLabels.enabled&&Object(l.C)(e)}}}),Ke=n(273);a()(document).off("created.label").on("created.label",(function(e,t,n){n&&c.c.new({title:t.title,position:c.c.state.lists.length-2,list_type:"label",label:{id:t.id,title:t.title,color:t.color}})}));n(90);var ze=n(307),Ge=n(111);function Ye(e){return(Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xe(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Qe(e,t){return!t||"object"!==Ye(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Je(e){return(Je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ze(e,t){return(Ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var et,tt=function(e){function t(e){var n,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Qe(this,Je(t).call(this,{page:"boards",isGroupDecendent:!0,stateFiltersSelector:".issues-state-filters",isGroup:!1,filteredSearchTokenKeys:ze.a}))).store=e,n.updateUrl=i,n.isHandledAsync=!0,n.cantEdit=a.filter((function(e){return"string"==typeof e})),n.cantEditWithValue=a.filter((function(e){return"object"===Ye(e)})),n}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ze(e,t)}(t,e),n=t,(i=[{key:"updateObject",value:function(e){this.store.path=e.substr(1),this.updateUrl&&c.c.updateFiltersUrl()}},{key:"removeTokens",value:function(){var e=Ge.a.container.querySelectorAll(".js-visual-token");[].forEach.call(e,(function(e){e.parentNode.removeChild(e)})),this.filteredSearchInput.value=""}},{key:"updateTokens",value:function(){this.removeTokens(),this.loadSearchParamsFromURL(),this.filteredSearchInput.dispatchEvent(new Event("input"))}},{key:"canEdit",value:function(e,t){return!this.cantEdit.includes(e)&&-1===this.cantEditWithValue.findIndex((function(n){return n.name===e&&n.value===t}))}}])&&Xe(n.prototype,i),a&&Xe(n,a),t}(n(435).a),nt=function(){return{isShowingLabels:!0,activeListId:0}},it={getLabelToggleState:function(e){return e.isShowingLabels?"on":"off"}},at=function(){throw new Error("Not implemented!")},rt={setEndpoints:function(){at()},fetchLists:function(){at()},generateDefaultLists:function(){at()},createList:function(){at()},updateList:function(){at()},deleteList:function(){at()},fetchIssuesForList:function(){at()},moveIssue:function(){at()},createNewIssue:function(){at()},fetchBacklog:function(){at()},bulkUpdateIssues:function(){at()},fetchIssue:function(){at()},toggleIssueSubscription:function(){at()},showPage:function(){at()},toggleEmptyState:function(){at()}};function ot(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var st=function(){throw new Error("Not implemented!")},lt=(ot(et={},"SET_ENDPOINTS",(function(){st()})),ot(et,"REQUEST_ADD_LIST",(function(){st()})),ot(et,"RECEIVE_ADD_LIST_SUCCESS",(function(){st()})),ot(et,"RECEIVE_ADD_LIST_ERROR",(function(){st()})),ot(et,"REQUEST_UPDATE_LIST",(function(){st()})),ot(et,"RECEIVE_UPDATE_LIST_SUCCESS",(function(){st()})),ot(et,"RECEIVE_UPDATE_LIST_ERROR",(function(){st()})),ot(et,"REQUEST_REMOVE_LIST",(function(){st()})),ot(et,"RECEIVE_REMOVE_LIST_SUCCESS",(function(){st()})),ot(et,"RECEIVE_REMOVE_LIST_ERROR",(function(){st()})),ot(et,"REQUEST_ADD_ISSUE",(function(){st()})),ot(et,"RECEIVE_ADD_ISSUE_SUCCESS",(function(){st()})),ot(et,"RECEIVE_ADD_ISSUE_ERROR",(function(){st()})),ot(et,"REQUEST_MOVE_ISSUE",(function(){st()})),ot(et,"RECEIVE_MOVE_ISSUE_SUCCESS",(function(){st()})),ot(et,"RECEIVE_MOVE_ISSUE_ERROR",(function(){st()})),ot(et,"REQUEST_UPDATE_ISSUE",(function(){st()})),ot(et,"RECEIVE_UPDATE_ISSUE_SUCCESS",(function(){st()})),ot(et,"RECEIVE_UPDATE_ISSUE_ERROR",(function(){st()})),ot(et,"SET_CURRENT_PAGE",(function(){st()})),ot(et,"TOGGLE_EMPTY_STATE",(function(){st()})),et);r.default.use(oe.b);var ct=new oe.b.Store({state:nt,getters:it,actions:rt,mutations:lt}),ut=n(121),dt={methods:{toggleModal:function(e){ut.a.store.showAddIssuesModal=e},changeTab:function(e){ut.a.store.activeTab=e}}};r.default.filter("due-date",(function(e){var t=new Date(e);return de()(t,"mmm d, yyyy",!0)}));var ht={name:"modal-filters",props:{store:{type:Object,required:!0}},mounted:function(){Ge.a.container=this.$el,this.filteredSearch=new tt(this.store),this.filteredSearch.setup(),this.filteredSearch.removeTokens(),this.filteredSearch.handleInputPlaceholder(),this.filteredSearch.toggleClearSearchButton()},destroyed:function(){this.filteredSearch.cleanup(),Ge.a.container=document,this.store.path=""},template:"#js-board-modal-filter"},pt={mixins:[dt],data:function(){return ut.a.store},computed:{selectedCount:function(){return ut.a.selectedCount()}},destroyed:function(){this.activeTab="all"}},ft={components:{ModalTabs:Object(U.a)(pt,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"top-area prepend-top-10 append-bottom-10"},[n("ul",{staticClass:"nav-links issues-state-filters"},[n("li",{class:{active:"all"==e.activeTab}},[n("a",{attrs:{href:"#",role:"button"},on:{click:function(t){return t.preventDefault(),e.changeTab("all")}}},[e._v("\n        Open issues "),n("span",{staticClass:"badge badge-pill"},[e._v(" "+e._s(e.issuesCount)+" ")])])]),e._v(" "),n("li",{class:{active:"selected"==e.activeTab}},[n("a",{attrs:{href:"#",role:"button"},on:{click:function(t){return t.preventDefault(),e.changeTab("selected")}}},[e._v("\n        Selected issues "),n("span",{staticClass:"badge badge-pill"},[e._v(" "+e._s(e.selectedCount)+" ")])])])])])}),[],!1,null,null,null).exports,ModalFilters:ht},mixins:[dt],props:{projectId:{type:Number,required:!0},milestonePath:{type:String,required:!0},labelPath:{type:String,required:!0}},data:function(){return ut.a.store},computed:{selectAllText:function(){return ut.a.selectedCount()!==this.issues.length||0===this.issues.length?Object(p.a)("Select all"):Object(p.a)("Deselect all")},showSearch:function(){return"all"===this.activeTab&&!this.loading&&this.issuesCount>0}},methods:{toggleAll:function(){this.$refs.selectAllBtn.blur(),ut.a.toggleAll()}}},mt=Object(U.a)(ft,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("header",{staticClass:"add-issues-header border-top-0 form-actions"},[n("h2",{staticClass:"m-0"},[e._v("\n      Add issues\n      "),n("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":e.__("Close")},on:{click:function(t){return e.toggleModal(!1)}}},[n("span",{attrs:{"aria-hidden":"true"}},[e._v("")])])])]),e._v(" "),!e.loading&&e.issuesCount>0?n("modal-tabs"):e._e(),e._v(" "),e.showSearch?n("div",{staticClass:"d-flex append-bottom-10"},[n("modal-filters",{attrs:{store:e.filter}}),e._v(" "),n("button",{ref:"selectAllBtn",staticClass:"btn btn-success btn-inverted prepend-left-10",attrs:{type:"button"},on:{click:e.toggleAll}},[e._v("\n      "+e._s(e.selectAllText)+"\n    ")])],1):e._e()],1)}),[],!1,null,null,null).exports,vt=n(222),gt={components:{IssueCardInner:we,Icon:R.a},props:{issueLinkBase:{type:String,required:!0},rootPath:{type:String,required:!0},emptyStateSvg:{type:String,required:!0}},data:function(){return ut.a.store},computed:{loopIssues:function(){return"all"===this.activeTab?this.issues:this.selectedIssues},groupedIssues:function(){var e=this,t=[];return this.loopIssues.forEach((function(n,i){var a=i%e.columns;t[a]||t.push([]),t[a].push(n)})),t}},watch:{activeTab:function(){"all"===this.activeTab&&ut.a.purgeUnselectedIssues()}},mounted:function(){this.scrollHandlerWrapper=this.scrollHandler.bind(this),this.setColumnCountWrapper=this.setColumnCount.bind(this),this.setColumnCount(),this.$refs.list.addEventListener("scroll",this.scrollHandlerWrapper),window.addEventListener("resize",this.setColumnCountWrapper)},beforeDestroy:function(){this.$refs.list.removeEventListener("scroll",this.scrollHandlerWrapper),window.removeEventListener("resize",this.setColumnCountWrapper)},methods:{scrollHandler:function(){var e=Math.floor(this.issues.length/this.perPage);this.scrollTop()>this.scrollHeight()-100&&!this.loadingNewPage&&e===this.page&&(this.loadingNewPage=!0,this.page+=1)},toggleIssue:function(e,t){"A"!==e.target.tagName&&ut.a.toggleIssue(t)},listHeight:function(){return this.$refs.list.getBoundingClientRect().height},scrollHeight:function(){return this.$refs.list.scrollHeight},scrollTop:function(){return this.$refs.list.scrollTop+this.listHeight()},showIssue:function(e){return"all"===this.activeTab||-1!==ut.a.selectedIssueIndex(e)},setColumnCount:function(){var e=vt.b.getBreakpointSize();this.columns="xl"===e||"lg"===e?3:"md"===e?2:1}}},bt=Object(U.a)(gt,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{ref:"list",staticClass:"add-issues-list add-issues-list-columns d-flex h-100"},[e.issuesCount>0&&0===e.issues.length?n("div",{staticClass:"empty-state add-issues-empty-state-filter text-center"},[n("div",{staticClass:"svg-content"},[n("img",{attrs:{src:e.emptyStateSvg}})]),e._v(" "),n("div",{staticClass:"text-content"},[n("h4",[e._v(e._s(e.__("There are no issues to show.")))])])]):e._e(),e._v(" "),e._l(e.groupedIssues,(function(t,i){return n("div",{key:i,staticClass:"add-issues-list-column"},e._l(t,(function(t){return e.showIssue(t)?n("div",{key:t.id,staticClass:"board-card-parent"},[n("div",{staticClass:"board-card position-relative p-3 rounded",class:{"is-active":t.selected},on:{click:function(n){return e.toggleIssue(n,t)}}},[n("issue-card-inner",{attrs:{issue:t,"issue-link-base":e.issueLinkBase,"root-path":e.rootPath}}),e._v(" "),t.selected?n("icon",{staticClass:"issue-card-selected text-center",attrs:{"aria-label":"Issue #"+t.id+" selected",name:"mobile-issue-close","aria-checked":"true"}}):e._e()],1)]):e._e()})),0)}))],2)}),[],!1,null,null,null).exports,yt={components:{GlLink:E.a,Icon:R.a},data:function(){return{modal:ut.a.store,state:c.c.state}},computed:{selected:function(){return this.modal.selectedList||this.state.lists[1]}},destroyed:function(){this.modal.selectedList=null}},wt={components:{ListsDropdown:Object(U.a)(yt,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dropdown inline"},[n("button",{staticClass:"dropdown-menu-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-expanded":"false"}},[n("span",{staticClass:"dropdown-label-box",style:{backgroundColor:e.selected.label.color}}),e._v("\n    "+e._s(e.selected.title)+" "),n("icon",{attrs:{name:"chevron-down"}})],1),e._v(" "),n("div",{staticClass:"dropdown-menu dropdown-menu-selectable dropdown-menu-drop-up"},[n("ul",e._l(e.state.lists,(function(t,i){return"label"==t.type?n("li",{key:i},[n("gl-link",{class:{"is-active":t.id==e.selected.id},attrs:{href:"#",role:"button"},on:{click:function(n){n.preventDefault(),e.modal.selectedList=t}}},[n("span",{staticClass:"dropdown-label-box",style:{backgroundColor:t.label.color}}),e._v("\n          "+e._s(t.title)+"\n        ")])],1):e._e()})),0)])])}),[],!1,null,null,null).exports},mixins:[dt,{}],data:function(){return{modal:ut.a.store,state:c.c.state}},computed:{submitDisabled:function(){return!ut.a.selectedCount()},submitText:function(){var e=ut.a.selectedCount();return e?Object(p.c)("Add %d issue","Add %d issues",e):Object(p.a)("Add issues")}},methods:{buildUpdateRequest:function(e){return{add_label_ids:[e.label.id]}},addIssues:function(){var e=this.modal.selectedList||this.state.lists[1],t=ut.a.getSelectedIssues(),n=t.map((function(e){return e.id})),i=this.buildUpdateRequest(e);c.c.bulkUpdate(n,i).catch((function(){Object(m.a)(Object(p.a)("Failed to update issues, please try again.")),t.forEach((function(t){e.removeIssue(t),e.issuesSize-=1}))})),t.forEach((function(t){e.addIssue(t),e.issuesSize+=1})),this.toggleModal(!1)}}},kt=Object(U.a)(wt,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("footer",{staticClass:"form-actions add-issues-footer"},[n("div",{staticClass:"float-left"},[n("button",{staticClass:"btn btn-success",attrs:{disabled:e.submitDisabled,type:"button"},on:{click:e.addIssues}},[e._v("\n      "+e._s(e.submitText)+"\n    ")]),e._v(" "),n("span",{staticClass:"inline add-issues-footer-to-list"},[e._v(e._s(e.__("to list")))]),e._v(" "),n("lists-dropdown")],1),e._v(" "),n("button",{staticClass:"btn btn-default float-right",attrs:{type:"button"},on:{click:function(t){return e.toggleModal(!1)}}},[e._v("\n    "+e._s(e.__("Cancel"))+"\n  ")])])}),[],!1,null,null,null).exports,St={mixins:[dt],props:{newIssuePath:{type:String,required:!0},emptyStateSvg:{type:String,required:!0}},data:function(){return ut.a.store},computed:{contents:function(){var e={title:Object(p.a)("You haven't added any issues to your project yet"),content:Object(p.a)("An issue can be a bug, a todo or a feature request that needs to be discussed in a project. Besides, issues are searchable and filterable.")};return"selected"===this.activeTab&&(e.title=Object(p.a)("You haven't selected any issues yet"),e.content=Object(p.e)(Object(p.a)("Go back to %{startTag}Open issues%{endTag} and select some issues to add to your board."),{startTag:"<strong>",endTag:"</strong>"})),e}}};function _t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_t(Object(n),!0).forEach((function(t){jt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Et={components:{EmptyState:Object(U.a)(St,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"empty-state d-flex mt-0 h-100"},[n("div",{staticClass:"row w-100 my-auto mx-0"},[n("div",{staticClass:"col-12 col-md-6 order-md-last"},[n("aside",{staticClass:"svg-content d-none d-md-block"},[n("img",{attrs:{src:e.emptyStateSvg}})])]),e._v(" "),n("div",{staticClass:"col-12 col-md-6 order-md-first"},[n("div",{staticClass:"text-content"},[n("h4",[e._v(e._s(e.contents.title))]),e._v(" "),n("p",{domProps:{innerHTML:e._s(e.contents.content)}}),e._v(" "),"all"===e.activeTab?n("a",{staticClass:"btn btn-success btn-inverted",attrs:{href:e.newIssuePath}},[e._v(e._s(e.__("New issue")))]):e._e(),e._v(" "),"selected"===e.activeTab?n("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:function(t){return e.changeTab("all")}}},[e._v("\n          "+e._s(e.__("Open issues"))+"\n        ")]):e._e()])])])])}),[],!1,null,null,null).exports,ModalHeader:mt,ModalList:bt,ModalFooter:kt,GlLoadingIcon:z.a},props:{newIssuePath:{type:String,required:!0},emptyStateSvg:{type:String,required:!0},issueLinkBase:{type:String,required:!0},rootPath:{type:String,required:!0},projectId:{type:Number,required:!0},milestonePath:{type:String,required:!0},labelPath:{type:String,required:!0}},data:function(){return ut.a.store},computed:{showList:function(){return"selected"===this.activeTab?this.selectedIssues.length>0:this.issuesCount>0},showEmptyState:function(){return!this.loading&&0===this.issuesCount||"selected"===this.activeTab&&0===this.selectedIssues.length}},watch:{page:function(){this.loadIssues()},showAddIssuesModal:function(){var e=this;if(this.showAddIssuesModal&&!this.issues.length){this.loading=!0;var t=function(){e.loading=!1};this.loadIssues().then(t).catch(t)}else this.showAddIssuesModal||(this.issues=[],this.selectedIssues=[],this.issuesCount=!1)},filter:{handler:function(){var e=this;if(this.$el.tagName){this.page=1,this.filterLoading=!0;var t=function(){e.filterLoading=!1};this.loadIssues(!0).then(t).catch(t)}},deep:!0}},created:function(){this.page=1},methods:{loadIssues:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return!!this.showAddIssuesModal&&c.c.getBacklog(Ot({},Object(l.S)(this.filter.path),{page:this.page,per:this.perPage})).then((function(e){return e.data})).then((function(n){t&&(e.issues=[]),n.issues.forEach((function(t){var n=new ListIssue(t),i=ut.a.findSelectedIssue(n);n.selected=Boolean(i),e.issues.push(n)})),e.loadingNewPage=!1,e.issuesCount||(e.issuesCount=n.size)})).catch((function(){}))}}},Tt=Object(U.a)(Et,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.showAddIssuesModal?n("div",{staticClass:"add-issues-modal d-flex position-fixed position-top-0 position-bottom-0 position-left-0 position-right-0 h-100"},[n("div",{staticClass:"add-issues-container d-flex flex-column m-auto rounded"},[n("modal-header",{attrs:{"project-id":e.projectId,"milestone-path":e.milestonePath,"label-path":e.labelPath}}),e._v(" "),e.loading||!e.showList||e.filterLoading?e._e():n("modal-list",{attrs:{"issue-link-base":e.issueLinkBase,"root-path":e.rootPath,"empty-state-svg":e.emptyStateSvg}}),e._v(" "),e.showEmptyState?n("empty-state",{attrs:{"new-issue-path":e.newIssuePath,"empty-state-svg":e.emptyStateSvg}}):e._e(),e._v(" "),e.loading||e.filterLoading?n("section",{staticClass:"add-issues-list d-flex h-100 text-center"},[n("div",{staticClass:"add-issues-list-loading w-100 align-self-center"},[n("gl-loading-icon",{attrs:{size:"md"}})],1)]):e._e(),e._v(" "),n("modal-footer")],1)]):e._e()}),[],!1,null,null,null).exports,Ct=n(442),Dt=n(436),It=(n(320),n(527)),xt=n.n(It),Pt=n(1570),Lt=n(1236),At=n(677),Bt=n(1416),Nt=n(1237),Mt=n(146),Rt=n(1047),qt=n(1122),Ft=n.n(qt),$t=n(1123),Vt=n.n($t),Ht=n(277),Ut=n(33);function Wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wt(Object(n),!0).forEach((function(t){zt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Gt={id:!1,name:"",labels:[],milestone_id:void 0,assignee:{},assignee_id:void 0,weight:null},Yt={components:{BoardScope:function(){return n.e(4).then(n.bind(null,3230))},DeprecatedModal:Ht.a},props:{canAdminBoard:{type:Boolean,required:!0},milestonePath:{type:String,required:!0},labelsPath:{type:String,required:!0},scopedIssueBoardFeatureEnabled:{type:Boolean,required:!1,default:!1},projectId:{type:Number,required:!1,default:0},groupId:{type:Number,required:!1,default:0},weights:{type:Array,required:!1,default:function(){return[]}},enableScopedLabels:{type:Boolean,required:!1,default:!1},scopedLabelsDocumentationLink:{type:String,required:!1,default:"#"}},data:function(){return{board:Kt({},Gt,{},this.currentBoard),currentBoard:c.c.state.currentBoard,currentPage:c.c.state.currentPage,isLoading:!1}},computed:{isNewForm:function(){return"new"===this.currentPage},isDeleteForm:function(){return"delete"===this.currentPage},isEditForm:function(){return"edit"===this.currentPage},isVisible:function(){return""!==this.currentPage},buttonText:function(){return this.isNewForm?Object(p.a)("Create board"):this.isDeleteForm?Object(p.a)("Delete"):Object(p.a)("Save changes")},buttonKind:function(){return this.isNewForm?"success":this.isDeleteForm?"danger":"info"},title:function(){return this.isNewForm?Object(p.a)("Create new board"):this.isDeleteForm?Object(p.a)("Delete board"):this.readonly?Object(p.a)("Board scope"):Object(p.a)("Edit board")},readonly:function(){return!this.canAdminBoard},submitDisabled:function(){return this.isLoading||0===this.board.name.length}},mounted:function(){this.resetFormState(),this.$refs.name&&this.$refs.name.focus()},methods:{submit:function(){var e=this;0!==this.board.name.length&&(this.isLoading=!0,this.isDeleteForm?c.c.deleteBoard(this.currentBoard).then((function(){Object(Ut.s)(c.c.rootPath)})).catch((function(){Object(m.a)(Object(p.a)("Failed to delete board. Please try again.")),e.isLoading=!1})):c.c.createBoard(this.board).then((function(e){return e.data})).then((function(e){Object(Ut.s)(e.board_path)})).catch((function(){Object(m.a)(Object(p.a)("Unable to save your changes. Please try again.")),e.isLoading=!1})))},cancel:function(){c.c.showPage("")},resetFormState:function(){this.isNewForm?this.board=Kt({},Gt):this.currentBoard&&Object.keys(this.currentBoard).length&&(this.board=Kt({},Gt,{},this.currentBoard))}}},Xt=Object(U.a)(Yt,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("deprecated-modal",{directives:[{name:"show",rawName:"v-show",value:e.isVisible,expression:"isVisible"}],attrs:{"hide-footer":e.readonly,title:e.title,"primary-button-label":e.buttonText,kind:e.buttonKind,"submit-disabled":e.submitDisabled,"modal-dialog-class":"board-config-modal"},on:{cancel:e.cancel,submit:e.submit}},[n("template",{slot:"body"},[e.isDeleteForm?n("p",[e._v(e._s(e.__("Are you sure you want to delete this board?")))]):n("form",{staticClass:"js-board-config-modal",on:{submit:function(e){e.preventDefault()}}},[e.readonly?e._e():n("div",{staticClass:"append-bottom-20"},[n("label",{staticClass:"form-section-title label-bold",attrs:{for:"board-new-name"}},[e._v(e._s(e.__("Board name")))]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.board.name,expression:"board.name"}],ref:"name",staticClass:"form-control",attrs:{id:"board-new-name","data-qa-selector":"board_name_field",type:"text",placeholder:e.__("Enter board name")},domProps:{value:e.board.name},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit(t)},input:function(t){t.target.composing||e.$set(e.board,"name",t.target.value)}}})]),e._v(" "),e.scopedIssueBoardFeatureEnabled?n("board-scope",{attrs:{"collapse-scope":e.isNewForm,board:e.board,"can-admin-board":e.canAdminBoard,"milestone-path":e.milestonePath,"labels-path":e.labelsPath,"scoped-labels-documentation-link":e.scopedLabelsDocumentationLink,"enable-scoped-labels":e.enableScopedLabels,"project-id":e.projectId,"group-id":e.groupId,weights:e.weights}}):e._e()],1)])],2)}),[],!1,null,null,null).exports,Qt={name:"BoardsSelector",components:{BoardForm:Xt,GlLoadingIcon:z.a,GlSearchBoxByType:Pt.a,GlDropdown:Lt.a,GlDropdownDivider:At.a,GlDropdownHeader:Bt.a,GlDropdownItem:Nt.a},props:{currentBoard:{type:Object,required:!0},milestonePath:{type:String,required:!0},throttleDuration:{type:Number,default:200},boardBaseUrl:{type:String,required:!0},hasMissingBoards:{type:Boolean,required:!0},canAdminBoard:{type:Boolean,required:!0},multipleIssueBoardsAvailable:{type:Boolean,required:!0},labelsPath:{type:String,required:!0},projectId:{type:Number,required:!0},groupId:{type:Number,required:!0},scopedIssueBoardFeatureEnabled:{type:Boolean,required:!0},weights:{type:Array,required:!0},enabledScopedLabels:{type:Boolean,required:!1,default:!1},scopedLabelsDocumentationLink:{type:String,required:!1,default:"#"}},data:function(){return{hasScrollFade:!1,loadingBoards:0,loadingRecentBoards:!1,scrollFadeInitialized:!1,boards:[],recentBoards:[],state:c.c.state,throttledSetScrollFade:xt()(this.setScrollFade,this.throttleDuration),contentClientHeight:0,maxPosition:0,store:c.c,filterTerm:""}},computed:{parentType:function(){return this.groupId?"group":"project"},loading:function(){return this.loadingRecentBoards&&this.loadingBoards},currentPage:function(){return this.state.currentPage},filteredBoards:function(){var e=this;return this.boards.filter((function(t){return t.name.toLowerCase().includes(e.filterTerm.toLowerCase())}))},board:function(){return this.state.currentBoard},showDelete:function(){return this.boards.length>1},scrollFadeClass:function(){return{"fade-out":!this.hasScrollFade}},showRecentSection:function(){return this.recentBoards.length&&this.boards.length>10&&!this.filterTerm.length}},watch:{filteredBoards:function(){this.scrollFadeInitialized=!1,this.$nextTick(this.setScrollFade)}},created:function(){c.c.setCurrentBoard(this.currentBoard)},methods:{showPage:function(e){c.c.showPage(e)},loadBoards:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t&&this.boards.length>0||(this.$apollo.addSmartQuery("boards",{variables:function(){return{fullPath:this.state.endpoints.fullPath}},query:function(){return this.groupId?Vt.a:Ft.a},loadingKey:"loadingBoards",update:function(e){return(null==e?void 0:e[this.parentType])?e[this.parentType].boards.edges.map((function(e){var t=e.node;return{id:Object(Rt.a)(t.id),name:t.name}})):[]}}),this.loadingRecentBoards=!0,c.c.recentBoards().then((function(t){e.recentBoards=t.data})).catch((function(t){var n;if((null==t?void 0:null===(n=t.response)||void 0===n?void 0:n.status)!==Mt.a.UNAUTHORIZED)throw t;e.recentBoards=[]})).then((function(){return e.$nextTick()})).then((function(){e.setScrollFade()})).catch((function(){})).finally((function(){e.loadingRecentBoards=!1})))},isScrolledUp:function(){var e=this.$refs.content;return!!e&&this.contentClientHeight+e.scrollTop<this.maxPosition},initScrollFade:function(){var e=this.$refs.content;e&&(this.scrollFadeInitialized=!0,this.contentClientHeight=e.clientHeight,this.maxPosition=e.scrollHeight)},setScrollFade:function(){this.scrollFadeInitialized||this.initScrollFade(),this.hasScrollFade=this.isScrolledUp()}}},Jt=Object(U.a)(Qt,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"boards-switcher js-boards-selector append-right-10"},[n("span",{staticClass:"boards-selector-wrapper js-boards-selector-wrapper"},[n("gl-dropdown",{attrs:{"data-qa-selector":"boards_dropdown","toggle-class":"dropdown-menu-toggle js-dropdown-toggle","menu-class":"flex-column dropdown-extended-height",text:e.board.name},on:{show:e.loadBoards}},[n("div",[n("div",{staticClass:"dropdown-title mb-0",on:{mousedown:function(e){e.preventDefault()}}},[e._v("\n          "+e._s(e.s__("IssueBoards|Switch board"))+"\n        ")])]),e._v(" "),n("gl-dropdown-header",{staticClass:"mt-0"},[n("gl-search-box-by-type",{ref:"searchBox",model:{value:e.filterTerm,callback:function(t){e.filterTerm=t},expression:"filterTerm"}})],1),e._v(" "),e.loading?e._e():n("div",{ref:"content",staticClass:"dropdown-content flex-fill",attrs:{"data-qa-selector":"boards_dropdown_content"},on:{"&scroll":function(t){return e.throttledSetScrollFade(t)}}},[n("gl-dropdown-item",{directives:[{name:"show",rawName:"v-show",value:0===e.filteredBoards.length,expression:"filteredBoards.length === 0"}],staticClass:"no-pointer-events text-secondary"},[e._v("\n          "+e._s(e.s__("IssueBoards|No matching boards found"))+"\n        ")]),e._v(" "),e.showRecentSection?n("h6",{staticClass:"dropdown-bold-header my-0"},[e._v("\n          "+e._s(e.__("Recent"))+"\n        ")]):e._e(),e._v(" "),e.showRecentSection?e._l(e.recentBoards,(function(t){return n("gl-dropdown-item",{key:"recent-"+t.id,staticClass:"js-dropdown-item",attrs:{href:e.boardBaseUrl+"/"+t.id}},[e._v("\n            "+e._s(t.name)+"\n          ")])})):e._e(),e._v(" "),e.showRecentSection?n("hr",{staticClass:"my-1"}):e._e(),e._v(" "),e.showRecentSection?n("h6",{staticClass:"dropdown-bold-header my-0"},[e._v("\n          "+e._s(e.__("All"))+"\n        ")]):e._e(),e._v(" "),e._l(e.filteredBoards,(function(t){return n("gl-dropdown-item",{key:t.id,staticClass:"js-dropdown-item",attrs:{href:e.boardBaseUrl+"/"+t.id}},[e._v("\n          "+e._s(t.name)+"\n        ")])})),e._v(" "),e.hasMissingBoards?n("gl-dropdown-item",{staticClass:"small unclickable"},[e._v("\n          "+e._s(e.s__("IssueBoards|Some of your boards are hidden, activate a license to see them again."))+"\n        ")]):e._e()],2),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.filteredBoards.length>0,expression:"filteredBoards.length > 0"}],staticClass:"dropdown-content-faded-mask",class:e.scrollFadeClass}),e._v(" "),e.loading?n("gl-loading-icon"):e._e(),e._v(" "),e.canAdminBoard?n("div",[n("gl-dropdown-divider"),e._v(" "),e.multipleIssueBoardsAvailable?n("gl-dropdown-item",{attrs:{"data-qa-selector":"create_new_board_button"},on:{click:function(t){return t.preventDefault(),e.showPage("new")}}},[e._v("\n          "+e._s(e.s__("IssueBoards|Create new board"))+"\n        ")]):e._e(),e._v(" "),e.showDelete?n("gl-dropdown-item",{staticClass:"text-danger js-delete-board",on:{click:function(t){return t.preventDefault(),e.showPage("delete")}}},[e._v("\n          "+e._s(e.s__("IssueBoards|Delete board"))+"\n        ")]):e._e()],1):e._e()],1),e._v(" "),e.currentPage?n("board-form",{attrs:{"milestone-path":e.milestonePath,"labels-path":e.labelsPath,"project-id":e.projectId,"group-id":e.groupId,"can-admin-board":e.canAdminBoard,"scoped-issue-board-feature-enabled":e.scopedIssueBoardFeatureEnabled,weights:e.weights,"enable-scoped-labels":e.enabledScopedLabels,"scoped-labels-documentation-link":e.scopedLabelsDocumentationLink}}):e._e()],1)])}),[],!1,null,null,null).exports;function Zt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function en(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}r.default.use(Ct.a);var tn,nn=new Ct.a({defaultClient:Object(Dt.a)()}),an=function(){var e=document.getElementById("js-multiple-boards-switcher");return new r.default({el:e,components:{BoardsSelector:Jt},apolloProvider:nn,data:function(){var t=e.dataset;return{boardsSelectorProps:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zt(Object(n),!0).forEach((function(t){en(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{currentBoard:JSON.parse(t.currentBoard),hasMissingBoards:Object(l.F)(t.hasMissingBoards),canAdminBoard:Object(l.F)(t.canAdminBoard),multipleIssueBoardsAvailable:Object(l.F)(t.multipleIssueBoardsAvailable),projectId:Number(t.projectId),groupId:Number(t.groupId),scopedIssueBoardFeatureEnabled:Object(l.F)(t.scopedIssueBoardFeatureEnabled),weights:JSON.parse(t.weights)})}},render:function(e){return e(Jt,{props:this.boardsSelectorProps})}})};function rn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function on(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rn(Object(n),!0).forEach((function(t){sn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a=function(){var e=document.getElementById("board-app");window.addEventListener("pageshow",(function(e){var t=window.performance&&window.performance.navigation.type===l.b.TYPE_BACK_FORWARD;(e.persisted||t)&&window.location.reload()})),tn&&tn.$destroy(!0),c.c.create(),c.c.setTimeTrackingLimitToHours(e.dataset.timeTrackingLimitToHours),tn=new r.default({el:e,components:{Board:Pe,BoardSidebar:We,BoardAddIssuesModal:Tt,BoardSettingsSidebar:function(){return n.e(4).then(n.bind(null,3230))}},store:ct,data:{state:c.c.state,loading:!0,boardsEndpoint:e.dataset.boardsEndpoint,recentBoardsEndpoint:e.dataset.recentBoardsEndpoint,listsEndpoint:e.dataset.listsEndpoint,boardId:e.dataset.boardId,disabled:Object(l.F)(e.dataset.disabled),issueLinkBase:e.dataset.issueLinkBase,rootPath:e.dataset.rootPath,bulkUpdatePath:e.dataset.bulkUpdatePath,detailIssue:c.c.detail},computed:{detailIssueVisible:function(){return Object.keys(this.detailIssue.issue).length}},created:function(){c.c.setEndpoints({boardsEndpoint:this.boardsEndpoint,recentBoardsEndpoint:this.recentBoardsEndpoint,listsEndpoint:this.listsEndpoint,bulkUpdatePath:this.bulkUpdatePath,boardId:this.boardId,fullPath:e.dataset.fullPath}),c.c.rootPath=this.boardsEndpoint,G.a.$on("updateTokens",this.updateTokens),G.a.$on("newDetailIssue",this.updateDetailIssue),G.a.$on("clearDetailIssue",this.clearDetailIssue),Ae.a.$on("toggleSubscription",this.toggleSubscription)},beforeDestroy:function(){G.a.$off("updateTokens",this.updateTokens),G.a.$off("newDetailIssue",this.updateDetailIssue),G.a.$off("clearDetailIssue",this.clearDetailIssue),Ae.a.$off("toggleSubscription",this.toggleSubscription)},mounted:function(){var e=this;this.filterManager=new tt(c.c.filter,!0,c.c.cantEdit),this.filterManager.setup(),c.c.disabled=this.disabled,c.c.all().then((function(e){return e.data})).then((function(t){t.forEach((function(e){var t=e.position;"closed"===e.list_type?t=1/0:"backlog"===e.list_type&&(t=-1),c.c.addList(on({},e,{position:t}))})),c.c.addBlankState(),c.c,e.loading=!1})).catch((function(){Object(m.a)(Object(p.a)("An error occurred while fetching the board lists. Please try again."))}))},methods:{updateTokens:function(){this.filterManager.updateTokens()},updateDetailIssue:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.sidebarInfoEndpoint;if(n&&void 0===e.subscribed&&(e.setFetchingState("subscriptions",!0),c.c.getIssueInfo(n).then((function(e){return e.data})).then((function(t){var n=Object(l.g)(t),i=n.subscribed,a=n.totalTimeSpent,r=n.timeEstimate,o=n.humanTimeEstimate,s=n.humanTotalTimeSpent,c=n.weight,u=n.epic,d=n.assignees;e.setFetchingState("subscriptions",!1),e.updateData({humanTimeSpent:s,timeSpent:a,humanTimeEstimate:o,timeEstimate:r,subscribed:i,weight:c,epic:u,assignees:d})})).catch((function(){e.setFetchingState("subscriptions",!1),Object(m.a)(Object(p.a)("An error occurred while fetching sidebar data"))}))),t)return c.c.toggleMultiSelect(e),c.c.detail.issue?void c.c.clearDetailIssue():void 0;c.c.setIssueDetail(e)},clearDetailIssue:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&c.c.clearMultiSelect(),c.c.clearDetailIssue()},toggleSubscription:function(e){var t=c.c.detail.issue;t.id===e&&t.toggleSubscriptionEndpoint&&(t.setFetchingState("subscriptions",!0),c.c.toggleIssueSubscription(t.toggleSubscriptionEndpoint).then((function(){t.setFetchingState("subscriptions",!1),t.updateData({subscribed:!t.subscribed})})).catch((function(){t.setFetchingState("subscriptions",!1),Object(m.a)(Object(p.a)("An error occurred when toggling the notification subscription"))})))}}}),new r.default({el:document.getElementById("js-add-list"),data:on({filters:c.c.state.filters},{}),mounted:function(){a()(".js-new-board-list").each((function(){var e=a()(this),t=e.closest(".dropdown");new Ke.a(t.find(".dropdown-new-label"),e.data("namespacePath"),e.data("projectPath")),e.glDropdown({data:function(t,n){o.a.get(e.attr("data-list-labels-path")).then((function(e){var t=e.data;return n(t)})).catch((function(){e.data("bs.dropdown").hide(),Object(m.a)(Object(p.a)("Error fetching labels."))}))},renderRow:function(e){var t=c.c.findListByLabelId(e.id),n=a()("<li />"),i=a()("<a />",{class:t?"is-active js-board-list-".concat(t.id):"",text:e.title,href:"#"}),r=a()("<span />",{class:"dropdown-label-box",style:"background-color: ".concat(e.color)});return n.append(i.prepend(r))},search:{fields:["title"]},filterable:!0,selectable:!0,multiSelect:!0,containerSelector:".js-tab-container-labels .dropdown-page-one .dropdown-content",clicked:function(e){var t=e.e,n=e.selectedObj;t.preventDefault(),c.c.findListByLabelId(n.id)||c.c.new({title:n.title,position:c.c.state.lists.length-2,list_type:"label",label:{id:n.id,title:n.title,color:n.color}})}})}))}}),c.c;var t=document.getElementById("js-add-issues-btn");t&&new r.default({el:t,mixins:[dt],data:function(){return on({modal:ut.a.store,store:c.c.state},{},{canAdminList:this.$options.el.hasAttribute("data-can-admin-list")})},computed:{disabled:function(){return!this.store||!this.store.lists.filter((function(e){return!e.preset})).length},tooltipTitle:function(){return this.disabled?Object(p.a)("Please add a list to your board first"):""}},watch:{disabled:function(){this.updateTooltip()}},mounted:function(){this.updateTooltip()},methods:{updateTooltip:function(){var e=this,t=a()(this.$refs.addIssuesButton);this.$nextTick((function(){e.disabled?t.tooltip():t.tooltip("dispose")}))},openModal:function(){this.disabled||this.toggleModal(!0)}},template:'\n        <div class="board-extra-actions">\n          <button\n            class="btn btn-success prepend-left-10"\n            type="button"\n            data-placement="bottom"\n            ref="addIssuesButton"\n            :class="{ \'disabled\': disabled }"\n            :title="tooltipTitle"\n            :aria-disabled="disabled"\n            v-if="canAdminList"\n            @click="openModal">\n            Add issues\n          </button>\n        </div>\n      '}),ut.a,c.c,an()}},121:function(e,t,n){"use strict";n(28),n(26),n(85),n(27);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store={columns:3,issues:[],issuesCount:!1,selectedIssues:[],showAddIssuesModal:!1,activeTab:"all",selectedList:null,searchTerm:"",loading:!1,loadingNewPage:!1,filterLoading:!1,page:1,perPage:50,filter:{path:""}}}var t,n,a;return t=e,(n=[{key:"selectedCount",value:function(){return this.getSelectedIssues().length}},{key:"toggleIssue",value:function(e){var t=e,n=t.selected;t.selected=!n,n?this.removeSelectedIssue(t):this.addSelectedIssue(t)}},{key:"toggleAll",value:function(){var e=this,t=this.selectedCount()!==this.store.issues.length;this.store.issues.forEach((function(n){var i=n;i.selected!==t&&(i.selected=t,t?e.addSelectedIssue(n):e.removeSelectedIssue(n))}))}},{key:"getSelectedIssues",value:function(){return this.store.selectedIssues.filter((function(e){return e.selected}))}},{key:"addSelectedIssue",value:function(e){-1===this.selectedIssueIndex(e)&&this.store.selectedIssues.push(e)}},{key:"removeSelectedIssue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];("all"===this.store.activeTab||t)&&(this.store.selectedIssues=this.store.selectedIssues.filter((function(t){return t.id!==e.id})))}},{key:"purgeUnselectedIssues",value:function(){var e=this;this.store.selectedIssues.forEach((function(t){t.selected||e.removeSelectedIssue(t,!0)}))}},{key:"selectedIssueIndex",value:function(e){return this.store.selectedIssues.indexOf(e)}},{key:"findSelectedIssue",value:function(e){return this.store.selectedIssues.filter((function(t){return t.id===e.id}))[0]}}])&&i(t.prototype,n),a&&i(t,a),e}();t.a=new a},1221:function(e,t,n){"use strict";var i=n(63),a=n(102),r=n(79);var o={vertical:{type:Boolean,default:!1},size:{type:String,default:function(){return Object(r.b)("BButton","size")}},tag:{type:String,default:"div"},ariaRole:{type:String,default:"group"}},s=i.a.extend({name:"BButtonGroup",functional:!0,props:o,render:function(e,t){var n,i,r,o=t.props,s=t.data,l=t.children;return e(o.tag,Object(a.a)(s,{class:(n={"btn-group":!o.vertical,"btn-group-vertical":o.vertical},i="btn-group-".concat(o.size),r=Boolean(o.size),i in n?Object.defineProperty(n,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[i]=r,n),attrs:{role:o.ariaRole}}),l)}}),l=n(60);const c={components:{BButtonGroup:s}};const u=n.n(l)()({render:function(){var e=this.$createElement;return(this._self._c||e)("b-button-group",this._g(this._b({},"b-button-group",this.$attrs,!1),this.$listeners),[this._t("default")],2)},staticRenderFns:[]},void 0,c,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=u},135:function(e,t,n){"use strict";var i=new(n(17).default);window.emitSidebarEvent=function(){return i.$emit.apply(i,arguments)},t.a=i},1416:function(e,t,n){"use strict";var i=n(63),a=n(102);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(n,!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l={id:{type:String,default:null},tag:{type:String,default:"header"},variant:{type:String,default:null}},c=i.a.extend({name:"BDropdownHeader",functional:!0,props:l,render:function(e,t){var n=t.props,i=t.data,r=t.children,l=i.attrs||{};return i.attrs={},e("li",Object(a.a)(i,{attrs:{role:"presentation"}}),[e(n.tag,{staticClass:"dropdown-header",class:s({},"text-".concat(n.variant),n.variant),attrs:o({},l,{id:n.id||null,role:"heading"}),ref:"header"},r)])}}),u=n(60);const d={components:{BDropdownHeader:c},inheritAttrs:!1};const h=n.n(u)()({render:function(){var e=this.$createElement;return(this._self._c||e)("b-dropdown-header",this._g(this._b({staticClass:"gl-dropdown-header"},"b-dropdown-header",this.$attrs,!1),this.$listeners),[this._t("default")],2)},staticRenderFns:[]},void 0,d,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=h},150:function(e,t,n){"use strict";var i=n(37);t.a={props:{state:{type:Boolean,default:null}},computed:{computedState:function(){return Object(i.a)(this.state)?this.state:null},stateClass:function(){var e=this.computedState;return!0===e?"is-valid":!1===e?"is-invalid":null}}}},1570:function(e,t,n){"use strict";var i=n(103),a=n(384),r=n(760),o=n(828),s=n(60),l=n.n(s);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u={components:{GlIcon:i.a,GlFormInput:a.a,GlLoadingIcon:r.a},directives:{GlTooltip:o.a},inheritAttrs:!1,props:{value:{type:String,required:!1,default:""},isLoading:{type:Boolean,required:!1,default:!1},tooltipContainer:{required:!1,default:!1,validator:function(e){return!1===e||"string"==typeof e||e instanceof HTMLElement}}},computed:{inputAttributes:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){c(e,t,n[t])}))}return e}({type:"text",placeholder:"Search"},this.$attrs);return e["aria-label"]||(e["aria-label"]=e.placeholder),e},hasValue:function(){return Boolean(this.localValue.length)},localValue:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}},methods:{clearInput:function(){this.localValue="",this.focusInput()},focusInput:function(){this.$refs.input.$el.focus()}}};const d=l()({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"gl-search-box-by-type"},[n("gl-icon",{staticClass:"gl-search-box-by-type-search-icon",attrs:{name:"search"}}),e._v(" "),n("gl-form-input",e._g(e._b({ref:"input",staticClass:"gl-search-box-by-type-input",model:{value:e.localValue,callback:function(t){e.localValue=t},expression:"localValue"}},"gl-form-input",e.inputAttributes,!1),e.$listeners)),e._v(" "),n("div",{staticClass:"gl-search-box-by-type-right-icons"},[e.isLoading?n("gl-loading-icon",{staticClass:"gl-search-box-by-type-loading-icon"}):e._e(),e._v(" "),e.hasValue?n("button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover",value:{container:e.tooltipContainer},expression:"{ container: tooltipContainer }",modifiers:{hover:!0}}],staticClass:"gl-search-box-by-type-clear",attrs:{title:"Clear","aria-hidden":"true",name:"clear"},on:{click:e.clearInput}},[n("gl-icon",{attrs:{name:"clear"}})],1):e._e()],1)],1)},staticRenderFns:[]},void 0,u,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=d},166:function(e,t,n){"use strict";var i=n(44);t.a={props:{name:{type:String},id:{type:String},disabled:{type:Boolean},required:{type:Boolean,default:!1},form:{type:String,default:null},autofocus:{type:Boolean,default:!1}},mounted:function(){this.handleAutofocus()},activated:function(){this.handleAutofocus()},methods:{handleAutofocus:function(){var e=this;this.$nextTick((function(){Object(i.t)((function(){var t=e.$el;e.autofocus&&Object(i.p)(t)&&(Object(i.q)(t,"input, textarea, select")||(t=Object(i.u)("input, textarea, select",t)),t&&t.focus&&t.focus())}))}))}}}},167:function(e,t,n){"use strict";var i=n(79);t.a={props:{size:{type:String,default:function(){return Object(i.b)("formControls","size")}}},computed:{sizeFormClass:function(){return[this.size?"form-control-".concat(this.size):null]},sizeBtnClass:function(){return[this.size?"btn-".concat(this.size):null]}}}},176:function(e,t,n){"use strict";n(30),n(42),n(26),n(85),n(46),n(27);var i=n(0),a=n.n(i),r=n(20),o=n.n(r),s=n(11),l=n(14),c=n(1);t.a={init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.form,n=e.issues,i=e.prefixId;this.prefixId=i||"issue_",this.form=t||this.getElement(".bulk-update"),this.$labelDropdown=this.form.find(".js-label-select"),this.issues=n||this.getElement(".issues-list .issue"),this.willUpdateLabels=!1,this.bindEvents()},bindEvents:function(){return this.form.off("submit").on("submit",this.onFormSubmit.bind(this))},onFormSubmit:function(e){return e.preventDefault(),this.submit()},submit:function(){var e=this;s.a[this.form.attr("method")](this.form.attr("action"),this.getFormDataAsObject()).then((function(){return window.location.reload()})).catch((function(){return e.onFormSubmitFailure()}))},onFormSubmitFailure:function(){return this.form.find('[type="submit"]').enable(),new l.a(Object(c.a)("Issue update failed"))},getSelectedIssues:function(){return this.issues.has(".selected-issuable:checked")},getLabelsFromSelection:function(){var e=[];return this.getSelectedIssues().map((function(){var t=a()(this).data("labels");if(t)return t.map((function(t){if(-1===e.indexOf(t))return e.push(t)}))})),e},getUnmarkedIndeterminedLabels:function(){var e=[],t=this.$labelDropdown.data("indeterminate");return this.getLabelsFromSelection().forEach((function(n){-1===t.indexOf(n)&&e.push(n)})),e},getFormDataAsObject:function(){var e={update:{state_event:this.form.find('input[name="update[state_event]"]').val(),assignee_ids:[this.form.find('input[name="update[assignee_ids][]"]').val()],milestone_id:this.form.find('input[name="update[milestone_id]"]').val(),issuable_ids:this.form.find('input[name="update[issuable_ids]"]').val(),subscription_event:this.form.find('input[name="update[subscription_event]"]').val(),add_label_ids:[],remove_label_ids:[]}};return this.willUpdateLabels&&(e.update.add_label_ids=this.$labelDropdown.data("marked"),e.update.remove_label_ids=this.$labelDropdown.data("unmarked")),e},setOriginalDropdownData:function(){var e=a()(".bulk-update .js-label-select");e.data("common",this.getOriginalCommonIds()),e.data("marked",this.getOriginalMarkedIds()),e.data("indeterminate",this.getOriginalIndeterminateIds())},getOriginalCommonIds:function(){var e=this,t=[];return this.getElement(".selected-issuable:checked").each((function(n,i){t.push(e.getElement("#".concat(e.prefixId).concat(i.dataset.id)).data("labels"))})),o.a.intersection.apply(this,t)},getOriginalMarkedIds:function(){var e=this,t=[];return this.getElement(".selected-issuable:checked").each((function(n,i){t.push(e.getElement("#".concat(e.prefixId).concat(i.dataset.id)).data("labels"))})),o.a.intersection.apply(this,t)},getOriginalIndeterminateIds:function(){var e=this,t=[],n=[],i=[];return this.getElement(".selected-issuable:checked").each((function(a,r){(i=e.getElement("#".concat(e.prefixId).concat(r.dataset.id)).data("labels")).forEach((function(e){-1===t.indexOf(e)&&t.push(e)})),n.push(i)})),n.unshift(t),o.a.difference(t,o.a.intersection.apply(this,n))},getElement:function(e){return this.scopeEl=this.scopeEl||a()(".content"),this.scopeEl.find(e)}}},180:function(e,t,n){"use strict";n(72);var i=n(301),a=n(828),r=n(236),o={name:"UserAvatarLink",components:{GlLink:i.a,userAvatarImage:r.a},directives:{GlTooltip:a.a},props:{linkHref:{type:String,required:!1,default:""},imgSrc:{type:String,required:!1,default:""},imgAlt:{type:String,required:!1,default:""},imgCssClasses:{type:String,required:!1,default:""},imgSize:{type:Number,required:!1,default:20},tooltipText:{type:String,required:!1,default:""},tooltipPlacement:{type:String,required:!1,default:"top"},username:{type:String,required:!1,default:""}},computed:{shouldShowUsername:function(){return this.username.length>0},avatarTooltipText:function(){return this.shouldShowUsername?"":this.tooltipText}}},s=n(4),l=Object(s.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("gl-link",{staticClass:"user-avatar-link",attrs:{href:e.linkHref}},[n("user-avatar-image",{attrs:{"img-src":e.imgSrc,"img-alt":e.imgAlt,"css-classes":e.imgCssClasses,size:e.imgSize,"tooltip-text":e.avatarTooltipText,"tooltip-placement":e.tooltipPlacement}},[e._t("default")],2),e.shouldShowUsername?n("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"js-user-avatar-link-username",attrs:{title:e.tooltipText,"tooltip-placement":e.tooltipPlacement}},[e._v(e._s(e.username))]):e._e(),e._t("avatar-badge")],2)}),[],!1,null,null,null);t.a=l.exports},184:function(e,t,n){var i=n(108),a=n(271),r=n(215),o=n(296),s=n(344),l=n(419);i({target:"Reflect",stat:!0},{get:function e(t,n){var i,c,u=arguments.length<3?t:arguments[2];return r(t)===u?t[n]:(i=s.f(t,n))?o(i,"value")?i.value:void 0===i.get?void 0:i.get.call(u):a(c=l(t))?e(c,n,u):void 0}})},188:function(e,t,n){
/*!
 * Pikaday
 *
 * Copyright  2014 David Bushell | BSD & MIT license | https://github.com/Pikaday/Pikaday
 */
!function(t,i){"use strict";var a;try{a=n(!function(){var e=new Error("Cannot find module 'moment'");throw e.code="MODULE_NOT_FOUND",e}())}catch(e){}e.exports=function(e){var t="function"==typeof e,n=!!window.addEventListener,i=window.document,a=window.setTimeout,r=function(e,t,i,a){n?e.addEventListener(t,i,!!a):e.attachEvent("on"+t,i)},o=function(e,t,i,a){n?e.removeEventListener(t,i,!!a):e.detachEvent("on"+t,i)},s=function(e,t){return-1!==(" "+e.className+" ").indexOf(" "+t+" ")},l=function(e,t){s(e,t)||(e.className=""===e.className?t:e.className+" "+t)},c=function(e,t){var n;e.className=(n=(" "+e.className+" ").replace(" "+t+" "," ")).trim?n.trim():n.replace(/^\s+|\s+$/g,"")},u=function(e){return/Array/.test(Object.prototype.toString.call(e))},d=function(e){return/Date/.test(Object.prototype.toString.call(e))&&!isNaN(e.getTime())},h=function(e){var t=e.getDay();return 0===t||6===t},p=function(e){return e%4==0&&e%100!=0||e%400==0},f=function(e,t){return[31,p(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},m=function(e){d(e)&&e.setHours(0,0,0,0)},v=function(e,t){return e.getTime()===t.getTime()},g=function(e,t,n){var i,a;for(i in t)(a=void 0!==e[i])&&"object"==typeof t[i]&&null!==t[i]&&void 0===t[i].nodeName?d(t[i])?n&&(e[i]=new Date(t[i].getTime())):u(t[i])?n&&(e[i]=t[i].slice(0)):e[i]=g({},t[i],n):!n&&a||(e[i]=t[i]);return e},b=function(e,t,n){var a;i.createEvent?((a=i.createEvent("HTMLEvents")).initEvent(t,!0,!1),a=g(a,n),e.dispatchEvent(a)):i.createEventObject&&(a=i.createEventObject(),a=g(a,n),e.fireEvent("on"+t,a))},y=function(e){return e.month<0&&(e.year-=Math.ceil(Math.abs(e.month)/12),e.month+=12),e.month>11&&(e.year+=Math.floor(Math.abs(e.month)/12),e.month-=12),e},w={field:null,bound:void 0,ariaLabel:"Use the arrow keys to pick a date",position:"bottom left",reposition:!0,format:"YYYY-MM-DD",toString:null,parse:null,defaultDate:null,setDefaultDate:!1,firstDay:0,formatStrict:!1,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,pickWholeWeek:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,enableSelectionDaysInNextAndPreviousMonths:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,blurFieldOnSelect:!0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},theme:null,events:[],onSelect:null,onOpen:null,onClose:null,onDraw:null,keyboardInput:!0},k=function(e,t,n){for(t+=e.firstDay;t>=7;)t-=7;return n?e.i18n.weekdaysShort[t]:e.i18n.weekdays[t]},S=function(e){var t=[],n="false";if(e.isEmpty){if(!e.showDaysInNextAndPreviousMonths)return'<td class="is-empty"></td>';t.push("is-outside-current-month"),e.enableSelectionDaysInNextAndPreviousMonths||t.push("is-selection-disabled")}return e.isDisabled&&t.push("is-disabled"),e.isToday&&t.push("is-today"),e.isSelected&&(t.push("is-selected"),n="true"),e.hasEvent&&t.push("has-event"),e.isInRange&&t.push("is-inrange"),e.isStartRange&&t.push("is-startrange"),e.isEndRange&&t.push("is-endrange"),'<td data-day="'+e.day+'" class="'+t.join(" ")+'" aria-selected="'+n+'"><button class="pika-button pika-day" type="button" data-pika-year="'+e.year+'" data-pika-month="'+e.month+'" data-pika-day="'+e.day+'">'+e.day+"</button></td>"},_=function(e,t,n,i){return'<tr class="pika-row'+(n?" pick-whole-week":"")+(i?" is-selected":"")+'">'+(t?e.reverse():e).join("")+"</tr>"},O=function(e,t,n,i,a,r){var o,s,l,c,d,h=e._o,p=n===h.minYear,f=n===h.maxYear,m='<div id="'+r+'" class="pika-title" role="heading" aria-live="assertive">',v=!0,g=!0;for(l=[],o=0;o<12;o++)l.push('<option value="'+(n===a?o-t:12+o-t)+'"'+(o===i?' selected="selected"':"")+(p&&o<h.minMonth||f&&o>h.maxMonth?'disabled="disabled"':"")+">"+h.i18n.months[o]+"</option>");for(c='<div class="pika-label">'+h.i18n.months[i]+'<select class="pika-select pika-select-month" tabindex="-1">'+l.join("")+"</select></div>",u(h.yearRange)?(o=h.yearRange[0],s=h.yearRange[1]+1):(o=n-h.yearRange,s=1+n+h.yearRange),l=[];o<s&&o<=h.maxYear;o++)o>=h.minYear&&l.push('<option value="'+o+'"'+(o===n?' selected="selected"':"")+">"+o+"</option>");return d='<div class="pika-label">'+n+h.yearSuffix+'<select class="pika-select pika-select-year" tabindex="-1">'+l.join("")+"</select></div>",h.showMonthAfterYear?m+=d+c:m+=c+d,p&&(0===i||h.minMonth>=i)&&(v=!1),f&&(11===i||h.maxMonth<=i)&&(g=!1),0===t&&(m+='<button class="pika-prev'+(v?"":" is-disabled")+'" type="button">'+h.i18n.previousMonth+"</button>"),t===e._o.numberOfMonths-1&&(m+='<button class="pika-next'+(g?"":" is-disabled")+'" type="button">'+h.i18n.nextMonth+"</button>"),m+"</div>"},j=function(o){var l=this,c=l.config(o);l._onMouseDown=function(e){if(l._v){var t=(e=e||window.event).target||e.srcElement;if(t)if(s(t,"is-disabled")||(!s(t,"pika-button")||s(t,"is-empty")||s(t.parentNode,"is-disabled")?s(t,"pika-prev")?l.prevMonth():s(t,"pika-next")&&l.nextMonth():(l.setDate(new Date(t.getAttribute("data-pika-year"),t.getAttribute("data-pika-month"),t.getAttribute("data-pika-day"))),c.bound&&a((function(){l.hide(),c.blurFieldOnSelect&&c.field&&c.field.blur()}),100))),s(t,"pika-select"))l._c=!0;else{if(!e.preventDefault)return e.returnValue=!1,!1;e.preventDefault()}}},l._onChange=function(e){var t=(e=e||window.event).target||e.srcElement;t&&(s(t,"pika-select-month")?l.gotoMonth(t.value):s(t,"pika-select-year")&&l.gotoYear(t.value))},l._onKeyChange=function(e){if(e=e||window.event,l.isVisible())switch(e.keyCode){case 13:case 27:c.field&&c.field.blur();break;case 37:e.preventDefault(),l.adjustDate("subtract",1);break;case 38:l.adjustDate("subtract",7);break;case 39:l.adjustDate("add",1);break;case 40:l.adjustDate("add",7)}},l._onInputChange=function(n){var i;n.firedBy!==l&&(i=c.parse?c.parse(c.field.value,c.format):t?(i=e(c.field.value,c.format,c.formatStrict))&&i.isValid()?i.toDate():null:new Date(Date.parse(c.field.value)),d(i)&&l.setDate(i),l._v||l.show())},l._onInputFocus=function(){l.show()},l._onInputClick=function(){l.show()},l._onInputBlur=function(){var e=i.activeElement;do{if(s(e,"pika-single"))return}while(e=e.parentNode);l._c||(l._b=a((function(){l.hide()}),50)),l._c=!1},l._onClick=function(e){var t=(e=e||window.event).target||e.srcElement,i=t;if(t){!n&&s(t,"pika-select")&&(t.onchange||(t.setAttribute("onchange","return;"),r(t,"change",l._onChange)));do{if(s(i,"pika-single")||i===c.trigger)return}while(i=i.parentNode);l._v&&t!==c.trigger&&i!==c.trigger&&l.hide()}},l.el=i.createElement("div"),l.el.className="pika-single"+(c.isRTL?" is-rtl":"")+(c.theme?" "+c.theme:""),r(l.el,"mousedown",l._onMouseDown,!0),r(l.el,"touchend",l._onMouseDown,!0),r(l.el,"change",l._onChange),c.keyboardInput&&r(i,"keydown",l._onKeyChange),c.field&&(c.container?c.container.appendChild(l.el):c.bound?i.body.appendChild(l.el):c.field.parentNode.insertBefore(l.el,c.field.nextSibling),r(c.field,"change",l._onInputChange),c.defaultDate||(t&&c.field.value?c.defaultDate=e(c.field.value,c.format).toDate():c.defaultDate=new Date(Date.parse(c.field.value)),c.setDefaultDate=!0));var u=c.defaultDate;d(u)?c.setDefaultDate?l.setDate(u,!0):l.gotoDate(u):l.gotoDate(new Date),c.bound?(this.hide(),l.el.className+=" is-bound",r(c.trigger,"click",l._onInputClick),r(c.trigger,"focus",l._onInputFocus),r(c.trigger,"blur",l._onInputBlur)):this.show()};return j.prototype={config:function(e){this._o||(this._o=g({},w,!0));var t=g(this._o,e,!0);t.isRTL=!!t.isRTL,t.field=t.field&&t.field.nodeName?t.field:null,t.theme="string"==typeof t.theme&&t.theme?t.theme:null,t.bound=!!(void 0!==t.bound?t.field&&t.bound:t.field),t.trigger=t.trigger&&t.trigger.nodeName?t.trigger:t.field,t.disableWeekends=!!t.disableWeekends,t.disableDayFn="function"==typeof t.disableDayFn?t.disableDayFn:null;var n=parseInt(t.numberOfMonths,10)||1;if(t.numberOfMonths=n>4?4:n,d(t.minDate)||(t.minDate=!1),d(t.maxDate)||(t.maxDate=!1),t.minDate&&t.maxDate&&t.maxDate<t.minDate&&(t.maxDate=t.minDate=!1),t.minDate&&this.setMinDate(t.minDate),t.maxDate&&this.setMaxDate(t.maxDate),u(t.yearRange)){var i=(new Date).getFullYear()-10;t.yearRange[0]=parseInt(t.yearRange[0],10)||i,t.yearRange[1]=parseInt(t.yearRange[1],10)||i}else t.yearRange=Math.abs(parseInt(t.yearRange,10))||w.yearRange,t.yearRange>100&&(t.yearRange=100);return t},toString:function(n){return n=n||this._o.format,d(this._d)?this._o.toString?this._o.toString(this._d,n):t?e(this._d).format(n):this._d.toDateString():""},getMoment:function(){return t?e(this._d):null},setMoment:function(n,i){t&&e.isMoment(n)&&this.setDate(n.toDate(),i)},getDate:function(){return d(this._d)?new Date(this._d.getTime()):null},setDate:function(e,t){if(!e)return this._d=null,this._o.field&&(this._o.field.value="",b(this._o.field,"change",{firedBy:this})),this.draw();if("string"==typeof e&&(e=new Date(Date.parse(e))),d(e)){var n=this._o.minDate,i=this._o.maxDate;d(n)&&e<n?e=n:d(i)&&e>i&&(e=i),this._d=new Date(e.getTime()),m(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),b(this._o.field,"change",{firedBy:this})),t||"function"!=typeof this._o.onSelect||this._o.onSelect.call(this,this.getDate())}},gotoDate:function(e){var t=!0;if(d(e)){if(this.calendars){var n=new Date(this.calendars[0].year,this.calendars[0].month,1),i=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),a=e.getTime();i.setMonth(i.getMonth()+1),i.setDate(i.getDate()-1),t=a<n.getTime()||i.getTime()<a}t&&(this.calendars=[{month:e.getMonth(),year:e.getFullYear()}],"right"===this._o.mainCalendar&&(this.calendars[0].month+=1-this._o.numberOfMonths)),this.adjustCalendars()}},adjustDate:function(e,t){var n,i=this.getDate()||new Date,a=24*parseInt(t)*60*60*1e3;"add"===e?n=new Date(i.valueOf()+a):"subtract"===e&&(n=new Date(i.valueOf()-a)),this.setDate(n)},adjustCalendars:function(){this.calendars[0]=y(this.calendars[0]);for(var e=1;e<this._o.numberOfMonths;e++)this.calendars[e]=y({month:this.calendars[0].month+e,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(e){isNaN(e)||(this.calendars[0].month=parseInt(e,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function(e){isNaN(e)||(this.calendars[0].year=parseInt(e,10),this.adjustCalendars())},setMinDate:function(e){e instanceof Date?(m(e),this._o.minDate=e,this._o.minYear=e.getFullYear(),this._o.minMonth=e.getMonth()):(this._o.minDate=w.minDate,this._o.minYear=w.minYear,this._o.minMonth=w.minMonth,this._o.startRange=w.startRange),this.draw()},setMaxDate:function(e){e instanceof Date?(m(e),this._o.maxDate=e,this._o.maxYear=e.getFullYear(),this._o.maxMonth=e.getMonth()):(this._o.maxDate=w.maxDate,this._o.maxYear=w.maxYear,this._o.maxMonth=w.maxMonth,this._o.endRange=w.endRange),this.draw()},setStartRange:function(e){this._o.startRange=e},setEndRange:function(e){this._o.endRange=e},draw:function(e){if(this._v||e){var t,n=this._o,i=n.minYear,r=n.maxYear,o=n.minMonth,s=n.maxMonth,l="";this._y<=i&&(this._y=i,!isNaN(o)&&this._m<o&&(this._m=o)),this._y>=r&&(this._y=r,!isNaN(s)&&this._m>s&&(this._m=s)),t="pika-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2);for(var c=0;c<n.numberOfMonths;c++)l+='<div class="pika-lendar">'+O(this,c,this.calendars[c].year,this.calendars[c].month,this.calendars[0].year,t)+this.render(this.calendars[c].year,this.calendars[c].month,t)+"</div>";this.el.innerHTML=l,n.bound&&"hidden"!==n.field.type&&a((function(){n.trigger.focus()}),1),"function"==typeof this._o.onDraw&&this._o.onDraw(this),n.bound&&n.field.setAttribute("aria-label",n.ariaLabel)}},adjustPosition:function(){var e,t,n,a,r,o,s,u,d,h,p,f;if(!this._o.container){if(this.el.style.position="absolute",t=e=this._o.trigger,n=this.el.offsetWidth,a=this.el.offsetHeight,r=window.innerWidth||i.documentElement.clientWidth,o=window.innerHeight||i.documentElement.clientHeight,s=window.pageYOffset||i.body.scrollTop||i.documentElement.scrollTop,p=!0,f=!0,"function"==typeof e.getBoundingClientRect)u=(h=e.getBoundingClientRect()).left+window.pageXOffset,d=h.bottom+window.pageYOffset;else for(u=t.offsetLeft,d=t.offsetTop+t.offsetHeight;t=t.offsetParent;)u+=t.offsetLeft,d+=t.offsetTop;(this._o.reposition&&u+n>r||this._o.position.indexOf("right")>-1&&u-n+e.offsetWidth>0)&&(u=u-n+e.offsetWidth,p=!1),(this._o.reposition&&d+a>o+s||this._o.position.indexOf("top")>-1&&d-a-e.offsetHeight>0)&&(d=d-a-e.offsetHeight,f=!1),this.el.style.left=u+"px",this.el.style.top=d+"px",l(this.el,p?"left-aligned":"right-aligned"),l(this.el,f?"bottom-aligned":"top-aligned"),c(this.el,p?"right-aligned":"left-aligned"),c(this.el,f?"top-aligned":"bottom-aligned")}},render:function(e,t,n){var i=this._o,a=new Date,r=f(e,t),o=new Date(e,t,1).getDay(),s=[],l=[];m(a),i.firstDay>0&&(o-=i.firstDay)<0&&(o+=7);for(var c=0===t?11:t-1,u=11===t?0:t+1,p=0===t?e-1:e,g=11===t?e+1:e,b=f(p,c),y=r+o,w=y;w>7;)w-=7;y+=7-w;for(var O,j,E,T,C=!1,D=0,I=0;D<y;D++){var x=new Date(e,t,D-o+1),P=!!d(this._d)&&v(x,this._d),L=v(x,a),A=-1!==i.events.indexOf(x.toDateString()),B=D<o||D>=r+o,N=D-o+1,M=t,R=e,q=i.startRange&&v(i.startRange,x),F=i.endRange&&v(i.endRange,x),$=i.startRange&&i.endRange&&i.startRange<x&&x<i.endRange;B&&(D<o?(N=b+N,M=c,R=p):(N-=r,M=u,R=g));var V={day:N,month:M,year:R,hasEvent:A,isSelected:P,isToday:L,isDisabled:i.minDate&&x<i.minDate||i.maxDate&&x>i.maxDate||i.disableWeekends&&h(x)||i.disableDayFn&&i.disableDayFn(x),isEmpty:B,isStartRange:q,isEndRange:F,isInRange:$,showDaysInNextAndPreviousMonths:i.showDaysInNextAndPreviousMonths,enableSelectionDaysInNextAndPreviousMonths:i.enableSelectionDaysInNextAndPreviousMonths};i.pickWholeWeek&&P&&(C=!0),l.push(S(V)),7==++I&&(i.showWeekNumber&&l.unshift((O=D-o,j=t,E=e,T=void 0,void 0,T=new Date(E,0,1),'<td class="pika-week">'+Math.ceil(((new Date(E,j,O)-T)/864e5+T.getDay()+1)/7)+"</td>")),s.push(_(l,i.isRTL,i.pickWholeWeek,C)),l=[],I=0,C=!1)}return function(e,t,n){return'<table cellpadding="0" cellspacing="0" class="pika-table" role="grid" aria-labelledby="'+n+'">'+function(e){var t,n=[];e.showWeekNumber&&n.push("<th></th>");for(t=0;t<7;t++)n.push('<th scope="col"><abbr title="'+k(e,t)+'">'+k(e,t,!0)+"</abbr></th>");return"<thead><tr>"+(e.isRTL?n.reverse():n).join("")+"</tr></thead>"}(e)+(i=t,"<tbody>"+i.join("")+"</tbody>")+"</table>";var i}(i,s,n)},isVisible:function(){return this._v},show:function(){this.isVisible()||(this._v=!0,this.draw(),c(this.el,"is-hidden"),this._o.bound&&(r(i,"click",this._onClick),this.adjustPosition()),"function"==typeof this._o.onOpen&&this._o.onOpen.call(this))},hide:function(){var e=this._v;!1!==e&&(this._o.bound&&o(i,"click",this._onClick),this.el.style.position="static",this.el.style.left="auto",this.el.style.top="auto",l(this.el,"is-hidden"),this._v=!1,void 0!==e&&"function"==typeof this._o.onClose&&this._o.onClose.call(this))},destroy:function(){var e=this._o;this.hide(),o(this.el,"mousedown",this._onMouseDown,!0),o(this.el,"touchend",this._onMouseDown,!0),o(this.el,"change",this._onChange),e.keyboardInput&&o(i,"keydown",this._onKeyChange),e.field&&(o(e.field,"change",this._onInputChange),e.bound&&(o(e.trigger,"click",this._onInputClick),o(e.trigger,"focus",this._onInputFocus),o(e.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}},j}(a)}()},205:function(e,t,n){"use strict";var i=n(37);t.a={model:{prop:"value",event:"update"},props:{value:{type:[String,Number],default:""},ariaInvalid:{type:[Boolean,String],default:!1},readonly:{type:Boolean,default:!1},plaintext:{type:Boolean,default:!1},autocomplete:{type:String,default:null},placeholder:{type:String,default:null},formatter:{type:Function,default:null},lazyFormatter:{type:Boolean,default:!1},trim:{type:Boolean,default:!1},number:{type:Boolean,default:!1},lazy:{type:Boolean,default:!1},debounce:{type:[Number,String],default:0}},data:function(){return{localValue:this.stringifyValue(this.value),vModelValue:this.value}},computed:{computedDebounce:function(){return Math.max(parseInt(this.debounce,10)||0,0)},computedClass:function(){return[{"custom-range":"range"===this.type,"form-control-plaintext":this.plaintext&&"range"!==this.type&&"color"!==this.type,"form-control":!this.plaintext&&"range"!==this.type||"color"===this.type},this.sizeFormClass,this.stateClass]},computedAriaInvalid:function(){return this.ariaInvalid&&"false"!==this.ariaInvalid?!0===this.ariaInvalid?"true":this.ariaInvalid:!1===this.computedState?"true":null}},watch:{value:function(e){var t=this.stringifyValue(e);t!==this.localValue&&e!==this.vModelValue&&(this.clearDebounce(),this.localValue=t,this.vModelValue=e)}},mounted:function(){this.$_inputDebounceTimer=null,this.$on("hook:beforeDestroy",this.clearDebounce);var e=this.value,t=this.stringifyValue(e);t!==this.localValue&&e!==this.vModelValue&&(this.localValue=t,this.vModelValue=e)},methods:{clearDebounce:function(){clearTimeout(this.$_inputDebounceTimer),this.$_inputDebounceTimer=null},stringifyValue:function(e){return Object(i.k)(e)?"":String(e)},formatValue:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e=this.stringifyValue(e),this.lazyFormatter&&!n||!Object(i.d)(this.formatter)||(e=this.formatter(e,t)),e},modifyValue:function(e){if(this.trim&&(e=e.trim()),this.number){var t=parseFloat(e);e=isNaN(t)?e:t}return e},updateValue:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.lazy,a=this.computedDebounce;if((!i||n)&&(e=this.modifyValue(e))!==this.vModelValue){this.clearDebounce();var r=function(){t.vModelValue=e,t.$emit("update",e)};a>0&&!i&&!n?this.$_inputDebounceTimer=setTimeout(r,a):r()}},onInput:function(e){if(!e.target.composing){var t=e.target.value,n=this.formatValue(t,e);!1===n||e.defaultPrevented?e.preventDefault():(this.localValue=n,this.updateValue(n),this.$emit("input",n))}},onChange:function(e){if(!e.target.composing){var t=e.target.value,n=this.formatValue(t,e);!1===n||e.defaultPrevented?e.preventDefault():(this.localValue=n,this.updateValue(n,!0),this.$emit("change",n))}},onBlur:function(e){var t=e.target.value,n=this.formatValue(t,e,!0);!1!==n&&(this.localValue=this.stringifyValue(this.modifyValue(n)),this.updateValue(n,!0)),this.$emit("blur",e)},focus:function(){this.disabled||this.$el.focus()},blur:function(){this.disabled||this.$el.blur()}}}},206:function(e,t,n){"use strict";t.a={computed:{selectionStart:{cache:!1,get:function(){return this.$refs.input.selectionStart},set:function(e){this.$refs.input.selectionStart=e}},selectionEnd:{cache:!1,get:function(){return this.$refs.input.selectionEnd},set:function(e){this.$refs.input.selectionEnd=e}},selectionDirection:{cache:!1,get:function(){return this.$refs.input.selectionDirection},set:function(e){this.$refs.input.selectionDirection=e}}},methods:{select:function(){var e;(e=this.$refs.input).select.apply(e,arguments)},setSelectionRange:function(){var e;(e=this.$refs.input).setSelectionRange.apply(e,arguments)},setRangeText:function(){var e;(e=this.$refs.input).setRangeText.apply(e,arguments)}}}},207:function(e,t,n){"use strict";t.a={computed:{validity:{cache:!1,get:function(){return this.$refs.input.validity}},validationMessage:{cache:!1,get:function(){return this.$refs.input.validationMessage}},willValidate:{cache:!1,get:function(){return this.$refs.input.willValidate}}},methods:{setCustomValidity:function(){var e;return(e=this.$refs.input).setCustomValidity.apply(e,arguments)},checkValidity:function(){var e;return(e=this.$refs.input).checkValidity.apply(e,arguments)},reportValidity:function(){var e;return(e=this.$refs.input).reportValidity.apply(e,arguments)}}}},2261:function(e,t,n){n(105),n(113),e.exports=n(2262)},2262:function(e,t,n){"use strict";n.r(t);var i=n(248),a=n(70),r=n(1152);document.addEventListener("DOMContentLoaded",(function(){new i.a,new a.a,Object(r.a)()}))},248:function(e,t,n){"use strict";n(24),n(49),n(56),n(30),n(28),n(42),n(26),n(85),n(40),n(46),n(69),n(145),n(35),n(18),n(64),n(55),n(36),n(283),n(91),n(89),n(27),n(41);var i=n(0),a=n.n(i),r=n(20),o=n.n(r),s=n(11),l=n(1),c=n(121),u=n(16);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){var i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},h=a()(t||".js-user-search");this.users=this.users.bind(this),this.user=this.user.bind(this),this.usersPath="/autocomplete/users.json",this.userPath="/autocomplete/users/:id.json",null!=e&&("object"===d(e)?this.currentUser=e:this.currentUser=JSON.parse(e));var p=r.handleClick,f=this;h.each((function(e,t){var n=i,r={},d=a()(t);r.projectId=d.data("projectId"),r.groupId=d.data("groupId"),r.showCurrentUser=d.data("currentUser"),r.todoFilter=d.data("todoFilter"),r.todoStateFilter=d.data("todoStateFilter"),r.iid=d.data("iid"),r.issuableType=d.data("issuableType");var h=d.data("nullUser"),f=d.data("nullUserDefault"),m=d.data("showMenuAbove"),v=d.data("anyUser"),g=d.data("firstUser");r.authorId=d.data("authorId");var b,y,w,k=d.data("defaultLabel"),S=d.data("issueUpdate"),_=d.closest(".selectbox"),O=_.closest(".block"),j=d.data("abilityName"),E=O.find(".value"),T=O.find(".sidebar-collapsed-user"),C=O.find(".block-loading").fadeOut(),D=f&&h?0:null,I=d.data("selected");void 0===I&&(I=D);var x=function(){var e=d.closest(".selectbox").find("input[name='".concat(d.data("fieldName"),"'][value=0]"));e&&e.remove();var t=d.data("currentUserInfo")||{},i=n.currentUser||{},a=d.data("fieldName"),r=t.name,s=t.id||i.id,l=o.a.template('\n        <input type="hidden" name="<%- fieldName %>"\n          data-meta="<%- userName %>"\n          value="<%- userId %>" />\n        ')({fieldName:a,userName:r,userId:s});_?d.parent().before(l):d.after(l)};O[0]&&O[0].addEventListener("assignYourself",x);var P=function(){return _.find('input[name="'.concat(d.data("fieldName"),'"]'))},L=function(){return P().map((function(e,t){return parseInt(t.value,10)})).get()},A=function(){var e=d.data("maxSelect");if(e){var t=L();if(t.length>e){var n=t[0];d.closest(".selectbox").find("input[name='".concat(d.data("fieldName"),"'][value=").concat(n,"]")).remove(),emitSidebarEvent("sidebar.removeAssignee",{id:n})}}},B=function(e,t){var n=L().filter((function(e){return 0!==e})),i=P().map((function(e,t){return{name:t.dataset.meta,value:parseInt(t.value,10)}})).filter((function(e){return 0!==e.id})).get(0);if(0===n.length)return Object(l.d)("UsersSelect|Unassigned");if(1===n.length)return i.name;if(t){var a=n.filter((function(t){return t!==e.id}));return Object(l.e)(Object(l.d)("UsersSelect|%{name} + %{length} more"),{name:e.name,length:a.length})}return Object(l.e)(Object(l.d)("UsersSelect|%{name} + %{length} more"),{name:i.name,length:n.length-1})};return a()(".assign-to-me-link").on("click",(function(e){if(e.preventDefault(),a()(e.currentTarget).hide(),d.data("multiSelect")){x(),A();var t=d.data("currentUserInfo");d.find(".dropdown-toggle-text").text(B(t)).removeClass("is-default")}else{var n=a()('input[name="'.concat(d.data("fieldName"),'"]'));n.val(gon.current_user_id),I=n.val(),d.find(".dropdown-toggle-text").text(gon.current_user_fullname).removeClass("is-default")}})),O.on("click",".js-assign-yourself",(function(e){return e.preventDefault(),b(n.currentUser.id)})),b=function(e){var t={};return t[j]={},t[j].assignee_id=null!=e?e:null,C.removeClass("hidden").fadeIn(),d.trigger("loading.gl.dropdown"),s.a.put(S,t).then((function(e){var t=e.data,n={},i=n.name;return d.trigger("loaded.gl.dropdown"),C.fadeOut(),t.assignee?(n={name:t.assignee.name,username:t.assignee.username,avatar:t.assignee.avatar_url},i=o.a.escape(n.name)):(n={name:Object(l.d)("UsersSelect|Unassigned"),username:"",avatar:""},i=Object(l.d)("UsersSelect|Assignee")),E.html(y(n)),T.attr("title",i).tooltip("_fixTitle"),T.html(w(n))}))},w=o.a.template('<% if( avatar ) { %> <a class="author-link" href="/<%- username %>"> <img width="24" class="avatar avatar-inline s24" alt="" src="<%- avatar %>"> </a> <% } else { %> <i class="fa fa-user"></i> <% } %>'),y=o.a.template('<% if (username) { %> <a class="author-link bold" href="/<%- username %>"> <% if( avatar ) { %> <img width="32" class="avatar avatar-inline s32" alt="" src="<%- avatar %>"> <% } %> <span class="author"><%- name %></span> <span class="username"> @<%- username %> </span> </a> <% } else { %> <span class="no-value assign-yourself">\n      '.concat(Object(l.e)(Object(l.d)("UsersSelect|No assignee - %{openingTag} assign yourself %{closingTag}"),{openingTag:'<a href="#" class="js-assign-yourself">',closingTag:"</a>"}),"</span> <% } %>")),d.glDropdown({showMenuAbove:m,data:function(e,t){var i=this;return n.users(e,r,(function(n){(i.instance||i.options.instance).options.processData(e,n,t)}))},processData:function(e,t,n){var i,a,r,s,c,p,f=t;if(d.hasClass("js-multiselect")&&0===e.length){var b=P(),y=o.a.uniq(b,!1,(function(e){return e.value})).filter((function(e){var t=parseInt(e.value,10);return!f.find((function(e){return e.id===t}))&&0!==t})).map((function(e){var t=parseInt(e.value,10),n=e.dataset,i=n.avatarUrl,a=n.avatar_url,r=n.name,o=n.username,s=n.canMerge;return{avatar_url:i||a,id:t,name:r,username:o,can_merge:Object(u.F)(s)}}));f=t.concat(y)}if(0===e.length){if(p=0,g)for(a=0,r=f.length;a<r;a+=1)if((c=f[a]).username===g){f.splice(a,1),f.unshift(c);break}if(h&&(p+=1,f.unshift({beforeDivider:!0,name:Object(l.d)("UsersSelect|Unassigned"),id:0})),v&&(p+=1,!0===(s=v)&&(s=Object(l.d)("UsersSelect|Any User")),i={beforeDivider:!0,name:s,id:null},f.unshift(i)),p&&f.splice(p,0,{type:"divider"}),d.hasClass("js-multiselect")){var w=L().filter((function(e){return 0!==e}));if(w.length>0){d.data("dropdownHeader")&&(p+=1,f.splice(p,0,{type:"header",content:d.data("dropdownHeader")}));var k=f.filter((function(e){return-1!==w.indexOf(e.id)})).sort((function(e,t){return e.name>t.name}));f=f.filter((function(e){return-1===w.indexOf(e.id)})),k.forEach((function(e){p+=1,f.splice(p,0,e)})),f.splice(p+1,0,{type:"divider"})}}}n(f),m&&d.data("glDropdown").positionMenuAbove()},filterable:!0,filterRemote:!0,search:{fields:["name","username"]},selectable:!0,fieldName:d.data("fieldName"),toggleLabel:function(e,t,n){var i=n.filterInput.val();if(this.multiSelect&&""===i){var r=n.filteredFullData(),o=n.parseData.bind(n);this.processData(i,r,o)}return this.multiSelect?B(e,a()(t).hasClass("is-active")):e&&"id"in e&&a()(t).hasClass("is-active")?(d.find(".dropdown-toggle-text").removeClass("is-default"),e.text?e.text:e.name):(d.find(".dropdown-toggle-text").addClass("is-default"),k)},defaultLabel:k,hidden:function(){d.hasClass("js-multiselect")&&emitSidebarEvent("sidebar.saveAssignees"),d.data("alwaysShowSelectbox")||(_.hide(),O=_.closest(".block"),(E=O.find(".value")).css("display",""))},multiSelect:d.hasClass("js-multiselect"),inputMeta:d.data("inputMeta"),clicked:function(e){var t=e.$el,n=e.e,i=e.isMarking,r=e.selectedObj;if(t.tooltip("dispose"),d.hasClass("js-multiselect")){var o=t.hasClass("is-active"),s=d.closest(".selectbox").find("input[name='".concat(d.data("fieldName"),"'][value!=0]"));if(A(),r.beforeDivider&&"unassigned"===r.name.toLowerCase())s.each((function(e,t){t.remove()})),emitSidebarEvent("sidebar.removeAllAssignees");else if(o){emitSidebarEvent("sidebar.addAssignee",r);var l=d.closest(".selectbox").find("input[name='".concat(d.data("fieldName"),"'][value=0]"));l&&l.remove()}else 0===s.length&&this.addInput(d.data("fieldName"),0,{}),emitSidebarEvent("sidebar.removeAssignee",r);L().find((function(e){return e===gon.current_user_id}))?a()(".assign-to-me-link").hide():a()(".assign-to-me-link").show()}var u=a()("body").attr("data-page"),h="projects:issues:index"===u,f=u==u&&"projects:merge_requests:index"===u;if(d.hasClass("js-filter-bulk-update")||d.hasClass("js-issuable-form-dropdown")){n.preventDefault();var m=r.id!==I;(I=m?r.id:D)===gon.current_user_id?a()(".assign-to-me-link").hide():a()(".assign-to-me-link").show()}else{if(t.closest(".add-issues-modal").length)c.a.store.filter[d.data("fieldName")]=r.id;else if(p)n.preventDefault(),p(r,i);else{if(d.hasClass("js-filter-submit")&&(h||f))return Issuable.filterResults(d.closest("form"));if(d.hasClass("js-filter-submit"))return d.closest("form").submit();if(!d.hasClass("js-multiselect")){var v=d.closest(".selectbox").find("input[name='".concat(d.data("fieldName"),"']")).val();return b(v)}}d.data("maxSelect")&&L().length===d.data("maxSelect")&&d.dropdown("toggle")}},id:function(e){return e.id},opened:function(e){var t=a()(e.currentTarget),n=L();function i(e){t.find('li[data-user-id="'.concat(e,'"] .dropdown-menu-user-link')).addClass("is-active")}d.hasClass("js-issue-board-sidebar")&&0===n.length&&this.addInput(d.data("fieldName"),0,{}),t.find(".is-active").removeClass("is-active"),n.length>0?L().forEach((function(e){return i(e)})):d.hasClass("js-issue-board-sidebar")?i(0):i(I)},updateLabel:d.data("dropdownTitle"),renderRow:function(e){var t=e.username?"@".concat(e.username):"",i=e.avatar_url?e.avatar_url:gon.default_avatar_url,a=!1;if(this.multiSelect){a=L().find((function(t){return e.id===t}));var s=this.fieldName;d.closest(".selectbox").find("input[name='".concat(s,"'][value='").concat(e.id,"']")).length&&(a=!0)}else a=e.id===I;var l="";return null!=e.beforeDivider?"<li><a href='#' class='".concat(!0===a?"is-active":"","'>").concat(o.a.escape(e.name),"</a></li>"):l="<img src='".concat(i,"' class='avatar avatar-inline m-0' width='32' />"),n.renderRow(r.issuableType,e,a,t,l)}})})),n.e(239).then(n.t.bind(null,428,7)).then((function(){a()(".ajax-users-select").each((function(e,t){var n={};n.skipLdap=a()(t).hasClass("skip_ldap"),n.projectId=a()(t).data("projectId"),n.groupId=a()(t).data("groupId"),n.showCurrentUser=a()(t).data("currentUser"),n.authorId=a()(t).data("authorId"),n.skipUsers=a()(t).data("skipUsers");var i=a()(t).data("nullUser"),r=a()(t).data("anyUser"),o=a()(t).data("emailUser"),s=a()(t).data("firstUser");return a()(t).select2({placeholder:Object(l.a)("Search for a user"),multiple:a()(t).hasClass("multiselect"),minimumInputLength:0,query:function(e){return f.users(e.term,n,(function(t){var n,a={results:t};if(0===e.term.length){if(s)for(var c=a.results,u=0,d=c.length;u<d;u+=1){var h=c[u];if(h.username===s){a.results.splice(u,1),a.results.unshift(h);break}}if(i){var p={name:Object(l.d)("UsersSelect|Unassigned"),id:0};a.results.unshift(p)}if(r){!0===(n=r)&&(n=Object(l.d)("UsersSelect|Any User"));var f={name:n,id:null};a.results.unshift(f)}}if(o&&0===a.results.length&&e.term.match(/^[^@]+@[^@]+$/)){var m=e.term.trim(),v={name:Object(l.e)(Object(l.a)('Invite "%{trimmed}" by email'),{trimmed:m}),username:m,id:m,invite:!0};a.results.unshift(v)}return e.callback(a)}))},initSelection:function(){var e=1<=arguments.length?[].slice.call(arguments,0):[];return f.initSelection.apply(f,e)},formatResult:function(){var e=1<=arguments.length?[].slice.call(arguments,0):[];return f.formatResult.apply(f,e)},formatSelection:function(){var e=1<=arguments.length?[].slice.call(arguments,0):[];return f.formatSelection.apply(f,e)},dropdownCssClass:"ajax-users-dropdown",escapeMarkup:function(e){return e}})}))})).catch((function(){}))}window.emitSidebarEvent=window.emitSidebarEvent||a.a.noop,h.prototype.initSelection=function(e,t){var n=a()(e).val();return"0"===n?t({name:Object(l.d)("UsersSelect|Unassigned")}):""!==n?this.user(n,t):void 0},h.prototype.formatResult=function(e){var t=gon.default_avatar_url;return e.avatar_url&&(t=e.avatar_url),"\n    <div class='user-result'>\n      <div class='user-image'>\n        <img class='avatar avatar-inline s32' src='".concat(t,"'>\n      </div>\n      <div class='user-info'>\n        <div class='user-name dropdown-menu-user-full-name'>\n          ").concat(o.a.escape(e.name),"\n        </div>\n        <div class='user-username dropdown-menu-user-username text-secondary'>\n          ").concat(e.invite?"":"@".concat(o.a.escape(e.username)),"\n        </div>\n      </div>\n    </div>\n  ")},h.prototype.formatSelection=function(e){return o.a.escape(e.name)},h.prototype.user=function(e,t){if(!/^\d+$/.test(e))return!1;var n=this.buildUrl(this.userPath);return n=n.replace(":id",e),s.a.get(n).then((function(e){var n=e.data;t(n)}))},h.prototype.users=function(e,t,n){var i=this.buildUrl(this.usersPath),a={search:e,active:!0,project_id:t.projectId||null,group_id:t.groupId||null,skip_ldap:t.skipLdap||null,todo_filter:t.todoFilter||null,todo_state_filter:t.todoStateFilter||null,current_user:t.showCurrentUser||null,author_id:t.authorId||null,skip_users:t.skipUsers||null};return"merge_request"===t.issuableType&&(a.merge_request_iid=t.iid||null),s.a.get(i,{params:a}).then((function(e){var t=e.data;n(t)}))},h.prototype.buildUrl=function(e){return null!=gon.relative_url_root&&(e=gon.relative_url_root.replace(/\/$/,"")+e),e},h.prototype.renderRow=function(e,t,n,i,a){var r="merge_request"!==e||t.can_merge?"":Object(l.a)("Cannot merge"),s=r?"has-tooltip":"",c="".concat(!0===n?"is-active":""," ").concat(s),u=r?'data-container="body" data-placement="left" data-title="'.concat(r,'"'):"";return"\n    <li data-user-id=".concat(t.id,'>\n      <a href="#" class="dropdown-menu-user-link d-flex align-items-center ').concat(c,'" ').concat(u,">\n        ").concat(this.renderRowAvatar(e,t,a),'\n        <span class="d-flex flex-column overflow-hidden">\n          <strong class="dropdown-menu-user-full-name">\n            ').concat(o.a.escape(t.name),"\n          </strong>\n          ").concat(i?'<span class="dropdown-menu-user-username">'.concat(i,"</span>"):"","\n        </span>\n      </a>\n    </li>\n  ")},h.prototype.renderRowAvatar=function(e,t,n){if(t.beforeDivider)return n;var i="merge_request"!==e||t.can_merge?"":'<i class="fa fa-exclamation-triangle merge-icon"></i>';return'<span class="position-relative mr-2">\n    '.concat(n,"\n    ").concat(i,"\n  </span>")},t.a=h},259:function(e,t,n){"use strict";n(24),n(49),n(56),n(26),n(78),n(40),n(69),n(145),n(18),n(68),n(36),n(27),n(41),n(90),n(30),n(65),n(46),n(55),n(91),n(67);var i=n(20),a=/\{\{(.+?)\}\}/g,r={toCamelCase:function(e){return this.camelize(e.split("-").slice(1).join(" "))},template:function(e,t){var n=Object(i.template)(e,{escape:a});return n(t)},camelize:function(e){return e.replace(/(?:^\w|[A-Z]|\b\w)/g,(function(e,t){return 0===t?e.toLowerCase():e.toUpperCase()})).replace(/\s+/g,"")},closest:function(e,t){for(;e&&e.tagName!==t&&"HTML"!==e.tagName;)e=e.parentNode;return e},isDropDownParts:function(e){return!(!e||!e.hasAttribute||"HTML"===e.tagName)&&(e.hasAttribute("data-dropdown-trigger")||e.hasAttribute("data-dropdown"))}};function o(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var l=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.currentIndex=0,this.hidden=!0,this.list="string"==typeof t?document.querySelector(t):t,this.items=[],this.eventWrapper={},this.hideOnClick=!1!==n.hideOnClick,n.addActiveClassToDropdownButton&&(this.dropdownToggle=this.list.parentNode.querySelector(".js-dropdown-toggle")),this.getItems(),this.initTemplateString(),this.addEvents(),this.initialState=t.innerHTML}var t,n,i;return t=e,i=[{key:"setImagesSrc",value:function(e){o(e.querySelectorAll("img[data-src]")).forEach((function(e){var t=e;t.src=t.getAttribute("data-src"),t.removeAttribute("data-src")}))}}],(n=[{key:"getItems",value:function(){return this.items=[].slice.call(this.list.querySelectorAll("li")),this.items}},{key:"initTemplateString",value:function(){var e=this.items||this.getItems(),t="";return e.length>0&&(t=e[e.length-1].outerHTML),this.templateString=t,this.templateString}},{key:"clickEvent",value:function(e){if("UL"!==e.target.tagName&&!e.target.closest(".".concat("droplab-item-ignore"))){var t=e.target.closest("li");if(t){this.addSelectedClass(t),e.preventDefault(),this.hideOnClick&&this.hide();var n=new CustomEvent("click.dl",{detail:{list:this,selected:t,data:e.target.dataset}});this.list.dispatchEvent(n)}}}},{key:"addSelectedClass",value:function(e){this.removeSelectedClasses(),e.classList.add("droplab-item-selected")}},{key:"removeSelectedClasses",value:function(){(this.items||this.getItems()).forEach((function(e){return e.classList.remove("droplab-item-selected")}))}},{key:"addEvents",value:function(){this.eventWrapper.clickEvent=this.clickEvent.bind(this),this.eventWrapper.closeDropdown=this.closeDropdown.bind(this),this.list.addEventListener("click",this.eventWrapper.clickEvent),this.list.addEventListener("keyup",this.eventWrapper.closeDropdown)}},{key:"closeDropdown",value:function(e){return 27!==e.keyCode||(e.preventDefault(),this.toggle())}},{key:"setData",value:function(e){this.data=e,this.render(e)}},{key:"addData",value:function(e){this.data=(this.data||[]).concat(e),this.render(this.data)}},{key:"render",value:function(e){var t=e?e.map(this.renderChildren.bind(this)):[];if(!this.list.querySelector(".filter-dropdown-loading")){(this.list.querySelector("ul[data-dynamic]")||this.list).innerHTML=t.join("");var n=new CustomEvent("render.dl",{detail:{list:this}});this.list.dispatchEvent(n)}}},{key:"renderChildren",value:function(t){var n=r.template(this.templateString,t),i=document.createElement("div");return i.innerHTML=n,e.setImagesSrc(i),i.firstChild.style.display=t.droplab_hidden?"none":"block",i.firstChild.outerHTML}},{key:"show",value:function(){this.hidden&&(this.list.style.display="block",this.currentIndex=0,this.hidden=!1,this.dropdownToggle&&this.dropdownToggle.classList.add("active"))}},{key:"hide",value:function(){this.hidden||(this.list.style.display="none",this.currentIndex=0,this.hidden=!0,this.dropdownToggle&&this.dropdownToggle.classList.remove("active"))}},{key:"toggle",value:function(){return this.hidden?this.show():this.hide()}},{key:"destroy",value:function(){this.hide(),this.list.removeEventListener("click",this.eventWrapper.clickEvent),this.list.removeEventListener("keyup",this.eventWrapper.closeDropdown)}}])&&s(t.prototype,n),i&&s(t,i),e}();var c=function e(t,n,i,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.trigger=t,this.list=new l(n,a),this.type="Hook",this.event="click",this.plugins=i||[],this.config=a||{},this.id=t.id};function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function h(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=function(e){function t(e,n,i,a){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=h(this,p(t).call(this,e,n,i,a))).type="button",r.event="click",r.eventWrapper={},r.addEvents(),r.addPlugins(),r}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,e),n=t,(i=[{key:"addPlugins",value:function(){var e=this;this.plugins.forEach((function(t){return t.init(e)}))}},{key:"clicked",value:function(e){var t=new CustomEvent("click.dl",{detail:{hook:this},bubbles:!0,cancelable:!0});e.target.dispatchEvent(t),this.list.toggle()}},{key:"addEvents",value:function(){this.eventWrapper.clicked=this.clicked.bind(this),this.trigger.addEventListener("click",this.eventWrapper.clicked)}},{key:"removeEvents",value:function(){this.trigger.removeEventListener("click",this.eventWrapper.clicked)}},{key:"restoreInitialState",value:function(){this.list.list.innerHTML=this.list.initialState}},{key:"removePlugins",value:function(){this.plugins.forEach((function(e){return e.destroy()}))}},{key:"destroy",value:function(){this.restoreInitialState(),this.removeEvents(),this.removePlugins()}}])&&d(n.prototype,i),a&&d(n,a),t}(c);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function b(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var k=function(e){function t(e,n,i,a){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=b(this,y(t).call(this,e,n,i,a))).type="input",r.event="input",r.eventWrapper={},r.addEvents(),r.addPlugins(),r}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(t,e),n=t,(i=[{key:"addPlugins",value:function(){var e=this;this.plugins.forEach((function(t){return t.init(e)}))}},{key:"addEvents",value:function(){this.eventWrapper.mousedown=this.mousedown.bind(this),this.eventWrapper.input=this.input.bind(this),this.eventWrapper.keyup=this.keyup.bind(this),this.eventWrapper.keydown=this.keydown.bind(this),this.trigger.addEventListener("mousedown",this.eventWrapper.mousedown),this.trigger.addEventListener("input",this.eventWrapper.input),this.trigger.addEventListener("keyup",this.eventWrapper.keyup),this.trigger.addEventListener("keydown",this.eventWrapper.keydown)}},{key:"removeEvents",value:function(){this.hasRemovedEvents=!0,this.trigger.removeEventListener("mousedown",this.eventWrapper.mousedown),this.trigger.removeEventListener("input",this.eventWrapper.input),this.trigger.removeEventListener("keyup",this.eventWrapper.keyup),this.trigger.removeEventListener("keydown",this.eventWrapper.keydown)}},{key:"input",value:function(e){if(!this.hasRemovedEvents){this.list.show();var t=new CustomEvent("input.dl",{detail:{hook:this,text:e.target.value},bubbles:!0,cancelable:!0});e.target.dispatchEvent(t)}}},{key:"mousedown",value:function(e){if(!this.hasRemovedEvents){var t=new CustomEvent("mousedown.dl",{detail:{hook:this,text:e.target.value},bubbles:!0,cancelable:!0});e.target.dispatchEvent(t)}}},{key:"keyup",value:function(e){this.hasRemovedEvents||this.keyEvent(e,"keyup.dl")}},{key:"keydown",value:function(e){this.hasRemovedEvents||this.keyEvent(e,"keydown.dl")}},{key:"keyEvent",value:function(e,t){this.list.show();var n=new CustomEvent(t,{detail:{hook:this,text:e.target.value,which:e.which,key:e.key},bubbles:!0,cancelable:!0});e.target.dispatchEvent(n)}},{key:"restoreInitialState",value:function(){this.list.list.innerHTML=this.list.initialState}},{key:"removePlugins",value:function(){this.plugins.forEach((function(e){return e.destroy()}))}},{key:"destroy",value:function(){this.restoreInitialState(),this.removeEvents(),this.removePlugins(),this.list.destroy()}}])&&g(n.prototype,i),a&&g(n,a),t}(c),S=function(){var e,t=!1,n=!1,i=function(e){for(var t=Array.prototype.slice.call(e.list.querySelectorAll("li:not(.divider):not(.hidden)"),0),n=[],i=0;i<t.length;i++){var a=t[i];a.classList.remove("droplab-item-active"),"none"!==a.style.display&&n.push(a)}return n},a=function(e){var t=i(e)[e.currentIndex-1],n=new CustomEvent("click.dl",{detail:{list:e,selected:t,data:t.dataset}});e.list.dispatchEvent(n),e.hide()};document.addEventListener("mousedown.dl",(function(e){var a=e.detail.hook.list;i(a),a.show(),a.currentIndex=0,t=!1,n=!1})),document.addEventListener("keydown.dl",(function(r){r.target;var o=r.detail.hook.list,s=o.currentIndex;if(t=!1,n=!1,r.detail.which){if(13===(e=r.detail.which))return void a(r.detail.hook.list);38===e&&(t=!0),40===e&&(n=!0)}else if(r.detail.key){if("Enter"===(e=r.detail.key))return void a(r.detail.hook.list);"ArrowUp"===e&&(t=!0),"ArrowDown"===e&&(n=!0)}t&&s--,n&&s++,s<0&&(s=0),o.currentIndex=s,function(e){var t=i(e);if(e.currentIndex>0&&(t[e.currentIndex-1]||(e.currentIndex=e.currentIndex-1),t[e.currentIndex-1])){var n=t[e.currentIndex-1],a=n.closest(".filter-dropdown");if(n.classList.add("droplab-item-active"),a){var r=a.offsetHeight,o=n.offsetTop-30;o>r&&(a.scrollTop=o-r)}}}(r.detail.hook.list)}))};function _(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function O(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var j=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ready=!1,this.hooks=[],this.queuedData=[],this.config={},this.eventWrapper={}}var t,n,i;return t=e,(n=[{key:"loadStatic",value:function(){var e=[].slice.apply(document.querySelectorAll("[".concat("data-dropdown-trigger","]")));this.addHooks(e)}},{key:"addData",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.applyArgs(t,"processAddData")}},{key:"setData",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.applyArgs(t,"processSetData")}},{key:"destroy",value:function(){this.hooks.forEach((function(e){return e.destroy()})),this.hooks=[],this.removeEvents()}},{key:"applyArgs",value:function(e,t){return this.ready?this[t].apply(this,_(e)):(this.queuedData=this.queuedData||[],this.queuedData.push(e),this.ready)}},{key:"processAddData",value:function(e,t){this.processData(e,t,"addData")}},{key:"processSetData",value:function(e,t){this.processData(e,t,"setData")}},{key:"processData",value:function(e,t,n){this.hooks.forEach((function(i){Array.isArray(e)&&i.list[n](e),i.trigger.id===e&&i.list[n](t)}))}},{key:"addEvents",value:function(){this.eventWrapper.documentClicked=this.documentClicked.bind(this),document.addEventListener("mousedown",this.eventWrapper.documentClicked)}},{key:"documentClicked",value:function(e){var t=e.target;"UL"!==t.tagName&&(t=r.closest(t,"UL")),r.isDropDownParts(t,this.hooks)||r.isDropDownParts(e.target,this.hooks)||this.hooks.forEach((function(e){return e.list.hide()}))}},{key:"removeEvents",value:function(){document.removeEventListener("mousedown",this.eventWrapper.documentClicked)}},{key:"changeHookList",value:function(e,t,n,i){var a=this,r="string"==typeof e?document.getElementById(e):e;this.hooks.forEach((function(e,o){var s=e;s.list.list.dataset.dropdownActive=!1,s.trigger===r&&(s.destroy(),a.hooks.splice(o,1),a.addHook(r,t,n,i))}))}},{key:"addHook",value:function(e,t,n,i){var a,o="string"==typeof e?document.querySelector(e):e;(a="string"==typeof t?document.querySelector(t):t instanceof Element?t:document.querySelector(e.dataset[r.toCamelCase("data-dropdown-trigger")])).dataset.dropdownActive=!0;var s="INPUT"===o.tagName?k:m;return this.hooks.push(new s(o,a,n,i)),this}},{key:"addHooks",value:function(e,t,n){var i=this;return e.forEach((function(e){return i.addHook(e,null,t,n)})),this}},{key:"setConfig",value:function(e){this.config=e}},{key:"fireReady",value:function(){var e=new CustomEvent("ready.dl",{detail:{dropdown:this}});document.dispatchEvent(e),this.ready=!0}},{key:"init",value:function(e,t,n,i){var a=this;return e?this.addHook(e,t,n,i):this.loadStatic(),this.addEvents(),S(),this.fireReady(),this.queuedData.forEach((function(e){return a.addData(e)})),this.queuedData=[],this}}])&&O(t.prototype,n),i&&O(t,i),e}();t.a=j},273:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));n(30),n(65),n(46),n(38);var i=n(0),a=n.n(i),r=n(32),o=n(110);function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var l=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$el=t,this.namespacePath=n,this.projectPath=i,this.$dropdownBack=a()(".dropdown-menu-back",this.$el.closest(".dropdown")),this.$cancelButton=a()(".js-cancel-label-btn",this.$el),this.$newLabelField=a()("#new_label_name",this.$el),this.$newColorField=a()("#new_label_color",this.$el),this.$colorPreview=a()(".js-dropdown-label-color-preview",this.$el),this.$addList=a()(".js-add-list",this.$el),this.$newLabelError=a()(".js-label-error",this.$el),this.$newLabelCreateButton=a()(".js-new-label-btn",this.$el),this.$colorSuggestions=a()(".suggest-colors-dropdown a",this.$el),this.$newLabelError.hide(),this.$newLabelCreateButton.disable(),this.addListDefault=this.$addList.is(":checked"),this.cleanBinding(),this.addBinding()}var t,n,i;return t=e,(n=[{key:"cleanBinding",value:function(){this.$colorSuggestions.off("click"),this.$newLabelField.off("keyup change"),this.$newColorField.off("keyup change"),this.$dropdownBack.off("click"),this.$cancelButton.off("click"),this.$newLabelCreateButton.off("click")}},{key:"addBinding",value:function(){var e=this;this.$colorSuggestions.on("click",(function(t){var n=a()(this);e.addColorValue(t,n)})),this.$newLabelField.on("keyup change",this.enableLabelCreateButton.bind(this)),this.$newColorField.on("keyup change",this.enableLabelCreateButton.bind(this)),this.$dropdownBack.on("click",this.resetForm.bind(this)),this.$cancelButton.on("click",(function(t){t.preventDefault(),t.stopPropagation(),e.resetForm(),e.$dropdownBack.trigger("click")})),this.$newLabelCreateButton.on("click",this.saveLabel.bind(this))}},{key:"addColorValue",value:function(e,t){e.preventDefault(),e.stopPropagation(),this.$newColorField.val(t.data("color")).trigger("change"),this.$colorPreview.css("background-color",t.data("color")).parent().addClass("is-active")}},{key:"enableLabelCreateButton",value:function(){""!==this.$newLabelField.val()&&""!==this.$newColorField.val()?(this.$newLabelError.hide(),this.$newLabelCreateButton.enable()):this.$newLabelCreateButton.disable()}},{key:"resetForm",value:function(){this.$newLabelField.val("").trigger("change"),this.$newColorField.val("").trigger("change"),this.$addList.prop("checked",this.addListDefault),this.$colorPreview.css("background-color","").parent().removeClass("is-active")}},{key:"saveLabel",value:function(e){var t=this;e.preventDefault(),e.stopPropagation(),r.a.newLabel(this.namespacePath,this.projectPath,{title:this.$newLabelField.val(),color:this.$newColorField.val()},(function(e){if(t.$newLabelCreateButton.enable(),e.message){var n;n="string"==typeof e.message?e.message:Object.keys(e.message).map((function(t){return"".concat(Object(o.i)(t)," ").concat(e.message[t].join(", "))})).join("<br/>"),t.$newLabelError.html(n).show()}else{var i=t.$addList.is(":checked");t.$dropdownBack.trigger("click"),a()(document).trigger("created.label",[e,i])}}))}}])&&s(t.prototype,n),i&&s(t,i),e}()},275:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));n(30),n(42),n(46),n(18),n(55),n(68),n(67);var i=n(0),a=n.n(i),r=n(188),o=n.n(r),s=n(210),l=n.n(s),c=n(1),u=n(11),d=n(62),h=n(52);function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function m(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),e}var v=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.$dropdown,i=t.$loading;p(this,e);var r=n.closest(".dropdown"),o=n.closest(".block");this.$loading=i,this.$dropdown=n,this.$dropdownParent=r,this.$datePicker=r.find(".js-due-date-calendar"),this.$block=o,this.$sidebarCollapsedValue=o.find(".sidebar-collapsed-icon"),this.$selectbox=n.closest(".selectbox"),this.$value=o.find(".value"),this.$valueContent=o.find(".value-content"),this.$sidebarValue=a()(".js-due-date-sidebar-value",o),this.fieldName=n.data("fieldName"),this.abilityName=n.data("abilityName"),this.issueUpdateURL=n.data("issueUpdate"),this.rawSelectedDate=null,this.displayedDate=null,this.datePayload=null,this.initGlDropdown(),this.initRemoveDueDate(),this.initDatePicker()}return m(e,[{key:"initGlDropdown",value:function(){var e=this;this.$dropdown.glDropdown({opened:function(){e.$datePicker.data("pikaday").show()},hidden:function(){e.$selectbox.hide(),e.$value.css("display","")},shouldPropagate:!1})}},{key:"initDatePicker",value:function(){var e=this,t=a()("input[name='".concat(this.fieldName,"']")),n=new o.a({field:t.get(0),theme:"gitlab-theme",format:"yyyy-mm-dd",parse:function(e){return Object(d.n)(e)},toString:function(e){return Object(d.p)(e)},onSelect:function(i){t.val(n.toString(i)),e.$dropdown.hasClass("js-issue-boards-due-date")?(h.c.detail.issue.dueDate=t.val(),e.updateIssueBoardIssue()):e.saveDueDate(!0)},firstDay:gon.first_day_of_week});n.setDate(Object(d.n)(t.val())),this.$datePicker.append(n.el),this.$datePicker.data("pikaday",n)}},{key:"initRemoveDueDate",value:function(){var e=this;this.$block.on("click",".js-remove-due-date",(function(t){var n=e.$datePicker.data("pikaday");t.preventDefault(),n.setDate(null),e.$dropdown.hasClass("js-issue-boards-due-date")?(h.c.detail.issue.dueDate="",e.updateIssueBoardIssue()):(a()("input[name='".concat(e.fieldName,"']")).val(""),e.saveDueDate(!1))}))}},{key:"saveDueDate",value:function(e){this.parseSelectedDate(),this.prepSelectedDate(),this.submitSelectedDate(e)}},{key:"parseSelectedDate",value:function(){if(this.rawSelectedDate=a()("input[name='".concat(this.fieldName,"']")).val(),this.rawSelectedDate.length){var e=this.rawSelectedDate.split("-").map((function(e){return parseInt(e,10)})),t=new Date(e[0],e[1]-1,e[2]);this.displayedDate=l()(t,"mmm d, yyyy")}else this.displayedDate=Object(c.a)("None")}},{key:"prepSelectedDate",value:function(){var e={};e[this.abilityName]={},e[this.abilityName].due_date=this.rawSelectedDate,this.datePayload=e}},{key:"updateIssueBoardIssue",value:function(){var e=this;this.$loading.fadeIn(),this.$dropdown.trigger("loading.gl.dropdown"),this.$selectbox.hide(),this.$value.css("display","");var t=function(){e.$loading.fadeOut()};h.c.detail.issue.update(this.$dropdown.attr("data-issue-update")).then(t).catch(t)}},{key:"submitSelectedDate",value:function(e){var t=this,n=this.datePayload[this.abilityName].due_date,i=this.displayedDate!==Object(c.a)("None"),r=i?"bold":"no-value";return this.$loading.removeClass("hidden").fadeIn(),e&&(this.$dropdown.trigger("loading.gl.dropdown"),this.$selectbox.hide()),this.$value.css("display",""),this.$valueContent.html("<span class='".concat(r,"'>").concat(this.displayedDate,"</span>")),this.$sidebarValue.html(this.displayedDate),a()(".js-remove-due-date-holder").toggleClass("hidden",n.length),u.a.put(this.issueUpdateURL,this.datePayload).then((function(){var a=i?"".concat(Object(c.a)("Due date"),"<br />").concat(n," (").concat(Object(d.s)(n),")"):Object(c.a)("Due date");return e&&(t.$dropdown.trigger("loaded.gl.dropdown"),t.$dropdown.dropdown("toggle")),t.$sidebarCollapsedValue.attr("data-original-title",a),t.$loading.fadeOut()}))}}]),e}(),g=function(){function e(){p(this,e),this.initMilestoneDatePicker(),this.initIssuableSelect()}return m(e,[{key:"initMilestoneDatePicker",value:function(){a()(".datepicker").each((function(){var e=a()(this),t=e.val(),n=new o.a({field:e.get(0),theme:"gitlab-theme animate-picker",format:"yyyy-mm-dd",container:e.parent().get(0),parse:function(e){return Object(d.n)(e)},toString:function(e){return Object(d.p)(e)},onSelect:function(t){e.val(n.toString(t))},firstDay:gon.first_day_of_week});n.setDate(Object(d.n)(t)),e.data("pikaday",n)})),a()(".js-clear-due-date,.js-clear-start-date").on("click",(function(e){e.preventDefault(),a()(e.target).siblings(".datepicker").data("pikaday").setDate(null)}))}},{key:"initIssuableSelect",value:function(){var e=a()(".js-issuable-update .due_date").find(".block-loading").hide();a()(".js-due-date-select").each((function(t,n){var i=a()(n);new v({$dropdown:i,$loading:e})}))}}]),e}()},277:function(e,t,n){"use strict";var i=n(1);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r={name:"DeprecatedModal",props:{id:{type:String,required:!1},title:{type:String,required:!1},text:{type:String,required:!1},hideFooter:{type:Boolean,required:!1,default:!1},kind:{type:String,required:!1,default:"primary"},modalDialogClass:{type:String,required:!1,default:""},closeKind:{type:String,required:!1,default:"default"},closeButtonLabel:{type:String,required:!1,default:Object(i.a)("Cancel")},primaryButtonLabel:{type:String,required:!1,default:""},secondaryButtonLabel:{type:String,required:!1,default:""},submitDisabled:{type:Boolean,required:!1,default:!1}},computed:{btnKindClass:function(){return a({},"btn-".concat(this.kind),!0)},btnCancelKindClass:function(){return a({},"btn-".concat(this.closeKind),!0)}},methods:{emitCancel:function(e){this.$emit("cancel",e)},emitSubmit:function(e){this.$emit("submit",e)}}},o=n(4),s=Object(o.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal-open"},[n("div",{staticClass:"modal",class:e.id?"":"d-block",attrs:{id:e.id,role:"dialog",tabindex:"-1"}},[n("div",{staticClass:"modal-dialog",class:e.modalDialogClass,attrs:{role:"document"}},[n("div",{staticClass:"modal-content"},[n("div",{staticClass:"modal-header"},[e._t("header",[n("h4",{staticClass:"modal-title float-left"},[e._v(e._s(e.title))]),e._v(" "),n("button",{staticClass:"close float-right",attrs:{type:"button","data-dismiss":"modal","aria-label":e.__("Close")},on:{click:function(t){return e.emitCancel(t)}}},[n("span",{attrs:{"aria-hidden":"true"}},[e._v("")])])])],2),e._v(" "),n("div",{staticClass:"modal-body"},[e._t("body",[n("p",[e._v(e._s(e.text))])],{text:e.text})],2),e._v(" "),e.hideFooter?e._e():n("div",{staticClass:"modal-footer"},[n("button",{staticClass:"btn",class:e.btnCancelKindClass,attrs:{type:"button","data-dismiss":"modal"},on:{click:function(t){return e.emitCancel(t)}}},[e._v("\n            "+e._s(e.closeButtonLabel)+"\n          ")]),e._v(" "),e.secondaryButtonLabel?e._t("secondary-button",[e.secondaryButtonLabel?n("button",{staticClass:"btn",attrs:{type:"button","data-dismiss":"modal"}},[e._v("\n              "+e._s(e.secondaryButtonLabel)+"\n            ")]):e._e()]):e._e(),e._v(" "),e.primaryButtonLabel?n("button",{staticClass:"btn js-primary-button",class:e.btnKindClass,attrs:{disabled:e.submitDisabled,type:"button","data-dismiss":"modal","data-qa-selector":"save_changes_button"},on:{click:function(t){return e.emitSubmit(t)}}},[e._v("\n            "+e._s(e.primaryButtonLabel)+"\n          ")]):e._e()],2)])])]),e._v(" "),e.id?e._e():n("div",{staticClass:"modal-backdrop fade show"})])}),[],!1,null,null,null);t.a=s.exports},289:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var i=n(63),a=n(163),r=n(166),o=n(167),s=n(150),l=n(205),c=n(206),u=n(207),d=n(100),h=n(44);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(n,!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=["text","password","email","number","url","tel","search","range","color","date","time","datetime","datetime-local","month","week"],g=i.a.extend({name:"BFormInput",mixins:[a.a,r.a,o.a,s.a,l.a,c.a,u.a],props:{type:{type:String,default:"text",validator:function(e){return Object(d.a)(v,e)}},noWheel:{type:Boolean,default:!1},min:{type:[String,Number],default:null},max:{type:[String,Number],default:null},step:{type:[String,Number],default:null},list:{type:String,default:null}},computed:{localType:function(){return Object(d.a)(v,this.type)?this.type:"text"}},watch:{noWheel:function(e){this.setWheelStopper(e)}},mounted:function(){this.setWheelStopper(this.noWheel)},deactivated:function(){this.setWheelStopper(!1)},activated:function(){this.setWheelStopper(this.noWheel)},beforeDestroy:function(){this.setWheelStopper(!1)},methods:{setWheelStopper:function(e){var t=this.$el;e?(Object(h.f)(t,"focus",this.onWheelFocus),Object(h.f)(t,"blur",this.onWheelBlur)):(Object(h.e)(t,"focus",this.onWheelFocus),Object(h.e)(t,"blur",this.onWheelBlur),Object(h.e)(document,"wheel",this.stopWheel))},onWheelFocus:function(e){Object(h.f)(document,"wheel",this.stopWheel)},onWheelBlur:function(e){Object(h.e)(document,"wheel",this.stopWheel)},stopWheel:function(e){e.preventDefault(),this.$el.blur()}},render:function(e){return e("input",{ref:"input",class:this.computedClass,directives:[{name:"model",rawName:"v-model",value:this.localValue,expression:"localValue"}],attrs:{id:this.safeId(),name:this.name,form:this.form||null,type:this.localType,disabled:this.disabled,placeholder:this.placeholder,required:this.required,autocomplete:this.autocomplete||null,readonly:this.readonly||this.plaintext,min:this.min,max:this.max,step:this.step,list:"password"!==this.localType?this.list:null,"aria-required":this.required?"true":null,"aria-invalid":this.computedAriaInvalid},domProps:{value:this.localValue},on:f({},this.$listeners,{input:this.onInput,change:this.onChange,blur:this.onBlur})})}})},290:function(e,t,n){"use strict";n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return p}));var i,a,r=n(1);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s={PRIVATE:0,INTERNAL:10,PUBLIC:20},l=(o(i={},s.PRIVATE,Object(r.a)("The project is accessible only by members of the project. Access must be granted explicitly to each user.")),o(i,s.INTERNAL,Object(r.a)("The project can be accessed by any user who is logged in.")),o(i,s.PUBLIC,Object(r.a)("The project can be accessed by anyone, regardless of authentication.")),i),c={NOT_ENABLED:0,PROJECT_MEMBERS:10,EVERYONE:20},u=(o(a={},c.NOT_ENABLED,Object(r.a)("Enable feature to choose access level")),o(a,c.PROJECT_MEMBERS,Object(r.a)("Only Project Members")),o(a,c.EVERYONE,Object(r.a)("Everyone With Access")),a),d=[c.NOT_ENABLED,u[c.NOT_ENABLED]],h=[c.PROJECT_MEMBERS,u[c.PROJECT_MEMBERS]],p=[c.EVERYONE,u[c.EVERYONE]]},291:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));n(24),n(30),n(28),n(42),n(26),n(78),n(85),n(65),n(46),n(69),n(145),n(72),n(50),n(58),n(38),n(18),n(55),n(68),n(36),n(91),n(67),n(27);var i=n(0),a=n.n(i),r=n(20),o=n.n(r),s=n(1),l=n(11),c=n(176),u=n(273),d=n(14),h=n(121),p=n(52),f=n(16);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var b=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var i=this,r=a()(t);t||(r=a()(".js-label-select")),r.each((function(t,r){var c=a()(r),m=c.closest(".labels-filter"),v=c.data("namespacePath"),g=c.data("projectPath"),b=c.data("issueUpdate"),y=c.data("selected");null==y||c.hasClass("js-multiselect")||(y=y.split(","));var w=c.data("showNo"),k=c.data("showAny"),S=c.data("showMenuAbove"),_=c.data("defaultLabel")||Object(s.a)("Label"),O=c.data("abilityName"),j=c.closest(".selectbox"),E=j.closest(".block"),T=c.closest("form, .js-issuable-update"),C=E.find(".sidebar-collapsed-icon span"),D=E.find(".js-sidebar-labels-tooltip"),I=E.find(".value"),x=c.parent().find(".dropdown-menu"),P=E.find(".block-loading").fadeOut(),L=c.data("fieldName"),A=j.find('input[name="'.concat(c.data("fieldName"),'"]')).map((function(){return this.value})).get(),B=c.data("scopedLabels"),N=c.data("scopedLabelsDocumentationLink"),M=n.handleClick;D.tooltip(),c.closest(".dropdown").find(".dropdown-new-label").length&&new u.a(c.closest(".dropdown").find(".dropdown-new-label"),v,g);var R=function(){var t=c.closest(".selectbox").find("input[name='".concat(L,"']")).map((function(){return this.value})).get();if(!o.a.isEqual(A,t)){A=t;var n={};n[O]={},n[O].label_ids=t,t.length||(n[O].label_ids=[""]),P.removeClass("hidden").fadeIn(),c.trigger("loading.gl.dropdown"),l.a.put(b,n).then((function(t){var n,i,r=t.data;P.fadeOut(),c.trigger("loaded.gl.dropdown"),j.hide(),r.issueUpdateURL=b;var l=0;r.labels.length&&b?(i=e.getLabelTemplate({labels:o.a.sortBy(r.labels,"title"),issueUpdateURL:b,enableScopedLabels:B,scopedLabelsDocumentationLink:N}),l=r.labels.length):i='<span class="no-value">'.concat(Object(s.a)("None"),"</span>");if(I.removeAttr("style").html(i),C.text(l),r.labels.length){var u=r.labels.map((function(e){return e.title}));u.length>5&&(u=u.slice(0,5)).push(Object(s.e)(Object(s.d)("Labels|and %{count} more"),{count:r.labels.length-5})),n=u.join(", ")}else n=Object(s.a)("Labels");D.attr("title",n).tooltip("_fixTitle"),a()(".has-tooltip",I).tooltip({container:"body"})})).catch((function(){return Object(d.a)(Object(s.a)("Error saving label update."))}))}};c.glDropdown({showMenuAbove:S,data:function(e,t){var n=c.attr("data-labels");l.a.get(n).then((function(e){var n=e.data;if(c.hasClass("js-extra-options")){var i=[];w&&i.unshift({id:0,title:Object(s.a)("No Label")}),k&&i.unshift({isAny:!0,title:Object(s.a)("Any Label")}),i.length&&(i.push({type:"divider"}),n=i.concat(n))}t(n),S&&c.data("glDropdown").positionMenuAbove()})).catch((function(){return Object(d.a)(Object(s.a)("Error fetching labels."))}))},renderRow:function(e){var t,n=[],i=e.id<=0||null==e.id;if(c.hasClass("js-filter-bulk-update")){var a=c.data("indeterminate")||[],r=c.data("marked")||[];if(-1!==a.indexOf(e.id)&&n.push("is-indeterminate"),-1!==r.indexOf(e.id)){var s=n.indexOf("is-indeterminate");-1!==s&&n.splice(s,1),n.push("is-active")}}else{if(this.id(e)){var l=this.id(e).toString().replace(/'/g,"\\'");T.find("input[type='hidden'][name='".concat(this.fieldName,"'][value='").concat(l,"']")).length&&n.push("is-active")}this.multiSelect&&i&&n.push("dropdown-clear-active")}t=e.color?"<span class='dropdown-label-box' style='background: ".concat(e.color,"'></span>"):"";var u=document.createElement("a");if(u.href="#",e.id){n.push.apply(n,["label-item"].concat(["d-flex","flex-row","text-break-word"])),u.dataset.labelId=e.id}u.className=n.join(" "),u.innerHTML="".concat(t," ").concat(o.a.escape(e.title));var d=document.createElement("li");return d.appendChild(u),d},search:{fields:["title"]},selectable:!0,filterable:!0,selected:c.data("selected")||[],toggleLabel:function(e,t){var n=c.parent(),i=n.find(".dropdown-input-field"),a=null!==t&&t.hasClass("is-active"),r=e?e.title:null,o=this.selected;if(i.length&&i.val().length&&n.find(".dropdown-input-clear").trigger("click"),e&&0===e.id)return this.selected=[],Object(s.a)("No Label");if(a)this.selected.push(r);else if(!a&&r){var l=this.selected.indexOf(r);this.selected.splice(l,1)}return 1===o.length?o:o.length?Object(s.e)(Object(s.a)("%{firstLabel} +%{labelCount} more"),{firstLabel:o[0],labelCount:o.length-1}):_},fieldName:c.data("fieldName"),id:function(e){return e.id<=0?e.title:c.hasClass("js-issuable-form-dropdown")?e.id:c.hasClass("js-filter-submit")&&null==e.isAny?e.title:e.id},hidden:function(){var e=a()("body").attr("data-page"),t="projects:issues:index"===e,n="projects:merge_requests:index"===e;j.hide(),I.removeAttr("style"),c.hasClass("js-issuable-form-dropdown")||a()("html").hasClass("issue-boards-page")||c.hasClass("js-multiselect")&&(c.hasClass("js-filter-submit")&&(t||n)?Issuable.filterResults(c.closest("form")):c.hasClass("js-filter-submit")?c.closest("form").submit():c.hasClass("js-filter-bulk-update")||(R(),c.data("glDropdown").clearMenu()))},multiSelect:c.hasClass("js-multiselect"),vue:c.hasClass("js-issue-board-sidebar"),clicked:function(e){var t=e.$el,n=e.e,r=e.isMarking,s=e.selectedObj,l=function(){P.fadeOut()},u=a()("body").attr("data-page"),d="projects:issues:index"===u,m="projects:merge_requests:index"===u;if(c.parent().find(".is-active:not(.dropdown-clear-active)").length&&c.parent().find(".dropdown-clear-active").removeClass("is-active"),!c.hasClass("js-issuable-form-dropdown")){if(c.hasClass("js-filter-bulk-update"))return i.enableBulkLabelDropdown(),void i.setDropdownData(c,r,s.id);var v;if(c.closest(".add-issues-modal").length&&(v=h.a.store.filter),v)return s.isAny?v.label_name=[]:t.hasClass("is-active")&&v.label_name.push(s.title),void n.preventDefault();if(c.hasClass("js-filter-submit")&&(d||m)){if(!c.hasClass("js-multiselect"))return y=s.title,Issuable.filterResults(c.closest("form"))}else{if(c.hasClass("js-filter-submit"))return c.closest("form").submit();if(c.hasClass("js-issue-board-sidebar")){if(t.hasClass("is-active"))p.c.detail.issue.labels.push(new ListLabel({id:s.id,title:s.title,color:s.color,textColor:"#fff"}));else{var g=p.c.detail.issue.labels;g=g.filter((function(e){return e.id!==s.id})),p.c.detail.issue.labels=g}P.fadeIn();var b=p.c.detail.issue.labels;p.c.detail.issue.update(c.attr("data-issue-update")).then((function(){if(Object(f.C)(s)){var e=b.map((function(e){return e.id})),t=p.c.detail.issue.labels.map((function(e){return e.id})),n=o.a.difference(e,t);c.data("marked",t),x.find(n.map((function(e){return'[data-label-id="'.concat(e,'"]')})).join(",")).removeClass("is-active")}})).then(l).catch(l)}else if(M)n.preventDefault(),M(s);else if(!c.hasClass("js-multiselect"))return R()}}},opened:function(){if(c.hasClass("js-issue-board-sidebar")){var e=c.attr("data-selected");this.selected=e?e.split(","):[],c.data("glDropdown").updateLabel()}},preserveContext:!0}),i.setOriginalDropdownData(m,c)})),this.bindEvents()}var t,n,i;return t=e,i=[{key:"getLabelTemplate",value:function(e){var t='<a href="<%- issueUpdateURL.slice(0, issueUpdateURL.lastIndexOf("/")) %>?label_name[]=<%- encodeURIComponent(label.title) %>" class="gl-link gl-label-link has-tooltip" <%= linkAttrs %> title="<%= tooltipTitleTemplate({ label, isScopedLabel, enableScopedLabels, escapeStr }) %>">',n='<span class="gl-label-text" style="background-color: <%= escapeStr(label.color) %>; color: <%= escapeStr(label.text_color) %>;">',i=o.a.template(['<span class="gl-label">',t,n,"<%- label.title %>","</span>","</a>","</span>"].join("")),a=o.a.template(['<a href="<%= scopedLabelsDocumentationLink %>" class="gl-link gl-label-icon" target="_blank" rel="noopener">','<i class="fa fa-question-circle"></i>',"</a>"].join("")),r=o.a.template(['<span class="gl-label gl-label-scoped" style="color: <%= escapeStr(label.color) %>;">',t,n,'<%- label.title.slice(0, label.title.lastIndexOf("::")) %>',"</span>",'<span class="gl-label-text" style="color: <%= rightLabelTextColor({ label, escapeStr }) %>;">','<%- label.title.slice(label.title.lastIndexOf("::") + 2) %>',"</span>","</a>","<%= infoIconTemplate({ label, scopedLabelsDocumentationLink, escapeStr }) %>","</span>"].join("")),s=o.a.template(["<% if (isScopedLabel(label) && enableScopedLabels) { %>","<span class='font-weight-bold scoped-label-tooltip-title'>Scoped label</span>","<br />","<%= escapeStr(label.description) %>","<% } else { %>","<%= escapeStr(label.description) %>","<% } %>"].join(""));return o.a.template(["<% _.each(labels, function(label){ %>","<% if (isScopedLabel(label) && enableScopedLabels) { %>",'<span class="d-inline-block position-relative scoped-label-wrapper">',"<%= scopedLabelTemplate({ label, issueUpdateURL, isScopedLabel, enableScopedLabels, rightLabelTextColor, infoIconTemplate, scopedLabelsDocumentationLink, tooltipTitleTemplate, escapeStr, linkAttrs: 'data-html=\"true\"' }) %>","</span>","<% } else { %>",'<%= labelTemplate({ label, issueUpdateURL, isScopedLabel, enableScopedLabels, tooltipTitleTemplate, escapeStr, linkAttrs: "" }) %>',"<% } %>","<% }); %>"].join(""))(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{labelTemplate:i,rightLabelTextColor:function(e){var t=e.label;return(0,e.escapeStr)("#FFFFFF"===t.text_color?t.color:t.text_color)},infoIconTemplate:a,scopedLabelTemplate:r,tooltipTitleTemplate:s,isScopedLabel:f.C,escapeStr:o.a.escape}))}}],(n=[{key:"bindEvents",value:function(){return a()("body").on("change",".selected-issuable",this.onSelectCheckboxIssue)}},{key:"onSelectCheckboxIssue",value:function(){if(!a()(".selected-issuable:checked").length)return a()(".issues-bulk-update .labels-filter .dropdown-toggle-text").text(Object(s.a)("Label"))}},{key:"enableBulkLabelDropdown",value:function(){c.a.willUpdateLabels=!0}},{key:"setDropdownData",value:function(e,t,n){var i=e.data("marked")||[],a=e.data("unmarked")||[],r=e.data("indeterminate")||[];if(t){i.push(n);var o=r.indexOf(n);o>-1&&r.splice(o,1),(o=a.indexOf(n))>-1&&a.splice(o,1)}else{var s=i.indexOf(n);s>-1&&i.splice(s,1),c.a.getOriginalIndeterminateIds().indexOf(n)>-1&&a.push(n),c.a.getOriginalCommonIds().indexOf(n)>-1&&a.push(n)}e.data("marked",i),e.data("unmarked",a),e.data("indeterminate",r)}},{key:"setOriginalDropdownData",value:function(e,t){var n=[];e.find('[name="label_name[]"]').map((function(){return n.push(this.value)})),t.data("marked",n)}}])&&g(t.prototype,n),i&&g(t,i),e}()},292:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));n(30),n(28),n(42),n(35);var i=n(0),a=n.n(i),r=n(20),o=n.n(r),s=n(1),l=(n(321),n(11)),c=n(62),u=n(121),d=n(52);function h(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var p=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),null!==t&&(this.currentProject="string"==typeof t?JSON.parse(t):t),e.init(n,i)}var t,n,i;return t=e,i=[{key:"init",value:function(e,t){var n=a()(e);e||(n=a()(".js-milestone-select")),n.each((function(e,n){var i,r,h,p,f=a()(n),m=f.data("milestones"),v=f.data("issueUpdate"),g=f.data("showNo"),b=f.data("showAny"),y=f.data("showMenuAbove"),w=f.data("showUpcoming"),k=f.data("showStarted"),S=f.data("useId"),_=f.data("defaultLabel"),O=f.data("defaultNo"),j=f.data("abilityName"),E=f.closest(".selectbox"),T=E.closest(".block"),C=T.find(".sidebar-collapsed-icon"),D=T.find(".value"),I=T.find(".block-loading").fadeOut();return p=b?"":null,p=g&&O?Object(s.a)("No Milestone"):p,h=f.data("selected")||p,v&&(r=o.a.template('<a href="<%- web_url %>" class="bold has-tooltip" data-container="body" title="<%- remaining %>"><%- title %></a>'),i='<span class="no-value">'.concat(Object(s.a)("None"),"</span>")),f.glDropdown({showMenuAbove:y,data:function(e,t){return l.a.get(m).then((function(e){var n=e.data,i=[];b&&i.push({id:null,name:null,title:Object(s.a)("Any Milestone")}),g&&i.push({id:-1,name:Object(s.a)("No Milestone"),title:Object(s.a)("No Milestone")}),w&&i.push({id:-2,name:"#upcoming",title:Object(s.a)("Upcoming")}),k&&i.push({id:-3,name:"#started",title:Object(s.a)("Started")}),i.length&&i.push({type:"divider"}),t(i.concat(n)),y&&f.data("glDropdown").positionMenuAbove(),a()('[data-milestone-id="'.concat(o.a.escape(h),'"] > a')).addClass("is-active")}))},renderRow:function(e){return'\n          <li data-milestone-id="'.concat(o.a.escape(e.name),"\">\n            <a href='#' class='dropdown-menu-milestone-link'>\n              ").concat(o.a.escape(e.title),"\n            </a>\n          </li>\n        ")},filterable:!0,search:{fields:["title"]},selectable:!0,toggleLabel:function(e,t){return e&&"id"in e&&a()(t).hasClass("is-active")?e.title:_},defaultLabel:_,fieldName:f.data("fieldName"),text:function(e){return o.a.escape(e.title)},id:function(e){return S||f.is(".js-issuable-form-dropdown")?e.id:e.name},hidden:function(){return E.hide(),D.css("display","")},opened:function(e){var n=a()(e.currentTarget);(f.hasClass("js-issue-board-sidebar")||t.handleClick)&&(h=f[0].dataset.selected||p),a()("a.is-active",n).removeClass("is-active"),a()('[data-milestone-id="'.concat(o.a.escape(h),'"] > a'),n).addClass("is-active")},vue:f.hasClass("js-issue-board-sidebar"),clicked:function(e){var n,o,m=e.e,g=e.selectedObj;if(g){if(t.handleClick)return m.preventDefault(),void t.handleClick(g);var b=a()("body").attr("data-page"),y="projects:issues:index"===b,w=b==b&&"projects:merge_requests:index"===b,k=g.name!==h;if(h=k?g.name:p,f.hasClass("js-filter-bulk-update")||f.hasClass("js-issuable-form-dropdown"))m.preventDefault();else if(f.closest(".add-issues-modal").length&&(o=u.a.store.filter),o)o[f.data("fieldName")]=g.name,m.preventDefault();else{if(f.hasClass("js-filter-submit")&&(y||w))return Issuable.filterResults(f.closest("form"));if(f.hasClass("js-filter-submit"))return f.closest("form").submit();if(!f.hasClass("js-issue-board-sidebar"))return g=E.find('input[type="hidden"]').val(),(n={})[j]={},n[j].milestone_id=null!=g?g:null,I.removeClass("hidden").fadeIn(),f.trigger("loading.gl.dropdown"),l.a.put(v,n).then((function(e){var t=e.data;return f.trigger("loaded.gl.dropdown"),I.fadeOut(),E.hide(),D.css("display",""),null!=t.milestone?(t.milestone.remaining=Object(c.s)(t.milestone.due_date),t.milestone.name=t.milestone.title,D.html(r(t.milestone)),C.attr("data-original-title","".concat(t.milestone.name,"<br />").concat(t.milestone.remaining)).find("span").text(t.milestone.title)):(D.html(i),C.attr("data-original-title",Object(s.a)("Milestone")).find("span").text(Object(s.a)("None")))})).catch((function(){I.fadeOut()}));-1!==g.id&&k?Object(d.b)("milestone",new ListMilestone({id:g.id,title:g.name})):Object(d.a)("milestone"),f.trigger("loading.gl.dropdown"),I.removeClass("hidden").fadeIn(),d.c.detail.issue.update(f.attr("data-issue-update")).then((function(){f.trigger("loaded.gl.dropdown"),I.fadeOut()})).catch((function(){I.fadeOut()}))}}}})}))}}],(n=null)&&h(t.prototype,n),i&&h(t,i),e}();window.MilestoneSelect=p},297:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n(30),n(42),n(46),n(55),n(91);var i=n(1);function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.tokenKeys=t,this.alternativeTokenKeys=n,this.conditions=i,this.tokenKeysWithAlternative=this.tokenKeys.concat(this.alternativeTokenKeys)}var t,n,r;return t=e,(n=[{key:"get",value:function(){return this.tokenKeys}},{key:"getKeys",value:function(){return this.tokenKeys.map((function(e){return e.key}))}},{key:"getAlternatives",value:function(){return this.alternativeTokenKeys}},{key:"getConditions",value:function(){return this.conditions}},{key:"shouldUppercaseTokenName",value:function(e){var t=this.searchByKey(e.toLowerCase());return t&&t.uppercaseTokenName}},{key:"shouldCapitalizeTokenValue",value:function(e){var t=this.searchByKey(e.toLowerCase());return t&&t.capitalizeTokenValue}},{key:"searchByKey",value:function(e){return this.tokenKeys.find((function(t){return t.key===e}))||null}},{key:"searchBySymbol",value:function(e){return this.tokenKeys.find((function(t){return t.symbol===e}))||null}},{key:"searchByKeyParam",value:function(e){return this.tokenKeysWithAlternative.find((function(t){var n=t.key;return n=n.replace("-","_"),t.param&&(n+="_".concat(t.param)),e===n}))||null}},{key:"searchByConditionUrl",value:function(e){return this.conditions.find((function(t){return t.url===e}))||null}},{key:"searchByConditionKeyValue",value:function(e,t,n){return this.conditions.find((function(i){return i.tokenKey===e&&i.operator===t&&i.value.toLowerCase()===n.toLowerCase()}))||null}},{key:"addExtraTokensForIssues",value:function(){var e={formattedKey:Object(i.a)("Confidential"),key:"confidential",type:"string",param:"",symbol:"",icon:"eye-slash",tag:Object(i.a)("Yes or No"),lowercaseValueOnSubmit:!0,uppercaseTokenName:!1,capitalizeTokenValue:!0};this.tokenKeys.push(e),this.tokenKeysWithAlternative.push(e)}}])&&a(t.prototype,n),r&&a(t,r),e}()},307:function(e,t,n){"use strict";n(24),n(49),n(56),n(30),n(28),n(26),n(104),n(40),n(46),n(69),n(50),n(58),n(38),n(18),n(55),n(68),n(122),n(36),n(67),n(27),n(41);var i=n(463),a=n.n(i),r=n(297),o=n(1);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],i=!0,a=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){a=!0,r=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw r}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var d=[{formattedKey:Object(o.a)("Author"),key:"author",type:"string",param:"username",symbol:"@",icon:"pencil",tag:"@author"},{formattedKey:Object(o.a)("Assignee"),key:"assignee",type:"string",param:"username",symbol:"@",icon:"user",tag:"@assignee"},{formattedKey:Object(o.a)("Milestone"),key:"milestone",type:"string",param:"title",symbol:"%",icon:"clock",tag:"%milestone"},{formattedKey:Object(o.a)("Release"),key:"release",type:"string",param:"tag",symbol:"",icon:"rocket",tag:Object(o.a)("tag name")},{formattedKey:Object(o.a)("Label"),key:"label",type:"array",param:"name[]",symbol:"~",icon:"labels",tag:"~label"}];gon.current_user_id&&d.push({formattedKey:Object(o.a)("My-Reaction"),key:"my-reaction",type:"string",param:"emoji",symbol:"",icon:"thumb-up",tag:"emoji"});var h=[{formattedKey:Object(o.a)("Label"),key:"label",type:"string",param:"name",symbol:"~"}],p=a()([{url:"assignee_id=None",tokenKey:"assignee",value:Object(o.a)("None")},{url:"assignee_id=Any",tokenKey:"assignee",value:Object(o.a)("Any")},{url:"milestone_title=None",tokenKey:"milestone",value:Object(o.a)("None")},{url:"milestone_title=Any",tokenKey:"milestone",value:Object(o.a)("Any")},{url:"milestone_title=%23upcoming",tokenKey:"milestone",value:Object(o.a)("Upcoming")},{url:"milestone_title=%23started",tokenKey:"milestone",value:Object(o.a)("Started")},{url:"release_tag=None",tokenKey:"release",value:Object(o.a)("None")},{url:"release_tag=Any",tokenKey:"release",value:Object(o.a)("Any")},{url:"label_name[]=None",tokenKey:"label",value:Object(o.a)("None")},{url:"label_name[]=Any",tokenKey:"label",value:Object(o.a)("Any")},{url:"my_reaction_emoji=None",tokenKey:"my-reaction",value:Object(o.a)("None")},{url:"my_reaction_emoji=Any",tokenKey:"my-reaction",value:Object(o.a)("Any")}].map((function(e){var t=u(e.url.split("="),2),n=t[0],i=t[1],a=n.includes("[]"),r="not[".concat(a?n.slice(0,-2):n,"]").concat(a?"[]":"","=").concat(i);return[l({},e,{operator:"="}),l({},e,{operator:"!=",url:r})]}))),f=new r.a(d,h,p);t.a=f},320:function(e,t,n){"use strict";var i=n(108),a=n(234),r=n(518),o=n(239),s=n(330),l=n(354),c=n(519),u=n(356);i({target:"Promise",proto:!0,real:!0,forced:!!r&&o((function(){r.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=l(this,s("Promise")),n="function"==typeof e;return this.then(n?function(n){return c(t,e()).then((function(){return n}))}:e,n?function(n){return c(t,e()).then((function(){throw n}))}:e)}}),a||"function"!=typeof r||r.prototype.finally||u(r.prototype,"finally",s("Promise").prototype.finally)},325:function(e,t,n){"use strict";var i=n(256),a=n.n(i),r={directives:{tooltip:n(99).a},props:{title:{type:String,required:!1,default:""},placement:{type:String,required:!1,default:"top"},truncateTarget:{type:[String,Function],required:!1,default:""}},data:function(){return{showTooltip:!1}},watch:{title:function(){this.$nextTick(this.updateTooltip)}},mounted:function(){this.updateTooltip()},methods:{selectTarget:function(){return a()(this.truncateTarget)?this.truncateTarget(this.$el):"child"===this.truncateTarget?this.$el.childNodes[0]:this.$el},updateTooltip:function(){var e=this.selectTarget();this.showTooltip=Boolean(e&&e.scrollWidth>e.offsetWidth)}}},o=n(4),s=Object(o.a)(r,(function(){var e=this.$createElement,t=this._self._c||e;return this.showTooltip?t("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"js-show-tooltip",attrs:{title:this.title,"data-placement":this.placement}},[this._t("default")],2):t("span",[this._t("default")],2)}),[],!1,null,null,null);t.a=s.exports},350:function(e,t,n){"use strict";
/**!
 * Sortable 1.10.2
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){a(e,t,n[t])}))}return e}function s(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function l(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.r(t),n.d(t,"MultiDrag",(function(){return yt})),n.d(t,"Sortable",(function(){return Fe})),n.d(t,"Swap",(function(){return lt}));function c(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var u=c(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),d=c(/Edge/i),h=c(/firefox/i),p=c(/safari/i)&&!c(/chrome/i)&&!c(/android/i),f=c(/iP(ad|od|hone)/i),m=c(/chrome/i)&&c(/android/i),v={capture:!1,passive:!1};function g(e,t,n){e.addEventListener(t,n,!u&&v)}function b(e,t,n){e.removeEventListener(t,n,!u&&v)}function y(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return!1}return!1}}function w(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function k(e,t,n,i){if(e){n=n||document;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&y(e,t):y(e,t))||i&&e===n)return e;if(e===n)break}while(e=w(e))}return null}var S,_=/\s+/g;function O(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var i=(" "+e.className+" ").replace(_," ").replace(" "+t+" "," ");e.className=(i+(n?" "+t:"")).replace(_," ")}}function j(e,t,n){var i=e&&e.style;if(i){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in i||-1!==t.indexOf("webkit")||(t="-webkit-"+t),i[t]=n+("string"==typeof n?"":"px")}}function E(e,t){var n="";if("string"==typeof e)n=e;else do{var i=j(e,"transform");i&&"none"!==i&&(n=i+" "+n)}while(!t&&(e=e.parentNode));var a=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return a&&new a(n)}function T(e,t,n){if(e){var i=e.getElementsByTagName(t),a=0,r=i.length;if(n)for(;a<r;a++)n(i[a],a);return i}return[]}function C(){var e=document.scrollingElement;return e||document.documentElement}function D(e,t,n,i,a){if(e.getBoundingClientRect||e===window){var r,o,s,l,c,d,h;if(e!==window&&e!==C()?(o=(r=e.getBoundingClientRect()).top,s=r.left,l=r.bottom,c=r.right,d=r.height,h=r.width):(o=0,s=0,l=window.innerHeight,c=window.innerWidth,d=window.innerHeight,h=window.innerWidth),(t||n)&&e!==window&&(a=a||e.parentNode,!u))do{if(a&&a.getBoundingClientRect&&("none"!==j(a,"transform")||n&&"static"!==j(a,"position"))){var p=a.getBoundingClientRect();o-=p.top+parseInt(j(a,"border-top-width")),s-=p.left+parseInt(j(a,"border-left-width")),l=o+r.height,c=s+r.width;break}}while(a=a.parentNode);if(i&&e!==window){var f=E(a||e),m=f&&f.a,v=f&&f.d;f&&(l=(o/=v)+(d/=v),c=(s/=m)+(h/=m))}return{top:o,left:s,bottom:l,right:c,width:h,height:d}}}function I(e,t,n){for(var i=B(e,!0),a=D(e)[t];i;){var r=D(i)[n];if(!("top"===n||"left"===n?a>=r:a<=r))return i;if(i===C())break;i=B(i,!1)}return!1}function x(e,t,n){for(var i=0,a=0,r=e.children;a<r.length;){if("none"!==r[a].style.display&&r[a]!==Fe.ghost&&r[a]!==Fe.dragged&&k(r[a],n.draggable,e,!1)){if(i===t)return r[a];i++}a++}return null}function P(e,t){for(var n=e.lastElementChild;n&&(n===Fe.ghost||"none"===j(n,"display")||t&&!y(n,t));)n=n.previousElementSibling;return n||null}function L(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===Fe.clone||t&&!y(e,t)||n++;return n}function A(e){var t=0,n=0,i=C();if(e)do{var a=E(e),r=a.a,o=a.d;t+=e.scrollLeft*r,n+=e.scrollTop*o}while(e!==i&&(e=e.parentNode));return[t,n]}function B(e,t){if(!e||!e.getBoundingClientRect)return C();var n=e,i=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var a=j(n);if(n.clientWidth<n.scrollWidth&&("auto"==a.overflowX||"scroll"==a.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==a.overflowY||"scroll"==a.overflowY)){if(!n.getBoundingClientRect||n===document.body)return C();if(i||t)return n;i=!0}}}while(n=n.parentNode);return C()}function N(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function M(e,t){return function(){if(!S){var n=arguments,i=this;1===n.length?e.call(i,n[0]):e.apply(i,n),S=setTimeout((function(){S=void 0}),t)}}}function R(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function q(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function F(e,t){j(e,"position","absolute"),j(e,"top",t.top),j(e,"left",t.left),j(e,"width",t.width),j(e,"height",t.height)}function $(e){j(e,"position",""),j(e,"top",""),j(e,"left",""),j(e,"width",""),j(e,"height","")}var V="Sortable"+(new Date).getTime();function H(){var e,t=[];return{captureAnimationState:function(){(t=[],this.options.animation)&&[].slice.call(this.el.children).forEach((function(e){if("none"!==j(e,"display")&&e!==Fe.ghost){t.push({target:e,rect:D(e)});var n=o({},t[t.length-1].rect);if(e.thisAnimationDuration){var i=E(e,!0);i&&(n.top-=i.f,n.left-=i.e)}e.fromRect=n}}))},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(function(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var i in t)if(t.hasOwnProperty(i)&&t[i]===e[n][i])return Number(n);return-1}(t,{target:e}),1)},animateAll:function(n){var i=this;if(!this.options.animation)return clearTimeout(e),void("function"==typeof n&&n());var a=!1,r=0;t.forEach((function(e){var t=0,n=e.target,o=n.fromRect,s=D(n),l=n.prevFromRect,c=n.prevToRect,u=e.rect,d=E(n,!0);d&&(s.top-=d.f,s.left-=d.e),n.toRect=s,n.thisAnimationDuration&&N(l,s)&&!N(o,s)&&(u.top-s.top)/(u.left-s.left)==(o.top-s.top)/(o.left-s.left)&&(t=function(e,t,n,i){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*i.animation}(u,l,c,i.options)),N(s,o)||(n.prevFromRect=o,n.prevToRect=s,t||(t=i.options.animation),i.animate(n,u,s,t)),t&&(a=!0,r=Math.max(r,t),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout((function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null}),t),n.thisAnimationDuration=t)})),clearTimeout(e),a?e=setTimeout((function(){"function"==typeof n&&n()}),r):"function"==typeof n&&n(),t=[]},animate:function(e,t,n,i){if(i){j(e,"transition",""),j(e,"transform","");var a=E(this.el),r=a&&a.a,o=a&&a.d,s=(t.left-n.left)/(r||1),l=(t.top-n.top)/(o||1);e.animatingX=!!s,e.animatingY=!!l,j(e,"transform","translate3d("+s+"px,"+l+"px,0)"),function(e){e.offsetWidth}(e),j(e,"transition","transform "+i+"ms"+(this.options.easing?" "+this.options.easing:"")),j(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){j(e,"transition",""),j(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),i)}}}}var U=[],W={initializeByDefault:!0},K={mount:function(e){for(var t in W)!W.hasOwnProperty(t)||t in e||(e[t]=W[t]);U.push(e)},pluginEvent:function(e,t,n){var i=this;this.eventCanceled=!1,n.cancel=function(){i.eventCanceled=!0};var a=e+"Global";U.forEach((function(i){t[i.pluginName]&&(t[i.pluginName][a]&&t[i.pluginName][a](o({sortable:t},n)),t.options[i.pluginName]&&t[i.pluginName][e]&&t[i.pluginName][e](o({sortable:t},n)))}))},initializePlugins:function(e,t,n,i){for(var a in U.forEach((function(i){var a=i.pluginName;if(e.options[a]||i.initializeByDefault){var o=new i(e,t,e.options);o.sortable=e,o.options=e.options,e[a]=o,r(n,o.defaults)}})),e.options)if(e.options.hasOwnProperty(a)){var o=this.modifyOption(e,a,e.options[a]);void 0!==o&&(e.options[a]=o)}},getEventProperties:function(e,t){var n={};return U.forEach((function(i){"function"==typeof i.eventProperties&&r(n,i.eventProperties.call(t[i.pluginName],e))})),n},modifyOption:function(e,t,n){var i;return U.forEach((function(a){e[a.pluginName]&&a.optionListeners&&"function"==typeof a.optionListeners[t]&&(i=a.optionListeners[t].call(e[a.pluginName],n))})),i}};function z(e){var t=e.sortable,n=e.rootEl,i=e.name,a=e.targetEl,r=e.cloneEl,s=e.toEl,l=e.fromEl,c=e.oldIndex,h=e.newIndex,p=e.oldDraggableIndex,f=e.newDraggableIndex,m=e.originalEvent,v=e.putSortable,g=e.extraEventProperties;if(t=t||n&&n[V]){var b,y=t.options,w="on"+i.charAt(0).toUpperCase()+i.substr(1);!window.CustomEvent||u||d?(b=document.createEvent("Event")).initEvent(i,!0,!0):b=new CustomEvent(i,{bubbles:!0,cancelable:!0}),b.to=s||n,b.from=l||n,b.item=a||n,b.clone=r,b.oldIndex=c,b.newIndex=h,b.oldDraggableIndex=p,b.newDraggableIndex=f,b.originalEvent=m,b.pullMode=v?v.lastPutMode:void 0;var k=o({},g,K.getEventProperties(i,t));for(var S in k)b[S]=k[S];n&&n.dispatchEvent(b),y[w]&&y[w].call(t,b)}}var G=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.evt,a=s(n,["evt"]);K.pluginEvent.bind(Fe)(e,t,o({dragEl:X,parentEl:Q,ghostEl:J,rootEl:Z,nextEl:ee,lastDownEl:te,cloneEl:ne,cloneHidden:ie,dragStarted:ve,putSortable:ce,activeSortable:Fe.active,originalEvent:i,oldIndex:ae,oldDraggableIndex:oe,newIndex:re,newDraggableIndex:se,hideGhostForTarget:Ne,unhideGhostForTarget:Me,cloneNowHidden:function(){ie=!0},cloneNowShown:function(){ie=!1},dispatchSortableEvent:function(e){Y({sortable:t,name:e,originalEvent:i})}},a))};function Y(e){z(o({putSortable:ce,cloneEl:ne,targetEl:X,rootEl:Z,oldIndex:ae,oldDraggableIndex:oe,newIndex:re,newDraggableIndex:se},e))}var X,Q,J,Z,ee,te,ne,ie,ae,re,oe,se,le,ce,ue,de,he,pe,fe,me,ve,ge,be,ye,we,ke=!1,Se=!1,_e=[],Oe=!1,je=!1,Ee=[],Te=!1,Ce=[],De="undefined"!=typeof document,Ie=f,xe=d||u?"cssFloat":"float",Pe=De&&!m&&!f&&"draggable"in document.createElement("div"),Le=function(){if(De){if(u)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),Ae=function(e,t){var n=j(e),i=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),a=x(e,0,t),r=x(e,1,t),o=a&&j(a),s=r&&j(r),l=o&&parseInt(o.marginLeft)+parseInt(o.marginRight)+D(a).width,c=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+D(r).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(a&&o.float&&"none"!==o.float){var u="left"===o.float?"left":"right";return!r||"both"!==s.clear&&s.clear!==u?"horizontal":"vertical"}return a&&("block"===o.display||"flex"===o.display||"table"===o.display||"grid"===o.display||l>=i&&"none"===n[xe]||r&&"none"===n[xe]&&l+c>i)?"vertical":"horizontal"},Be=function(e){function t(e,n){return function(i,a,r,o){var s=i.options.group.name&&a.options.group.name&&i.options.group.name===a.options.group.name;if(null==e&&(n||s))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"==typeof e)return t(e(i,a,r,o),n)(i,a,r,o);var l=(n?i:a).options.group.name;return!0===e||"string"==typeof e&&e===l||e.join&&e.indexOf(l)>-1}}var n={},a=e.group;a&&"object"==i(a)||(a={name:a}),n.name=a.name,n.checkPull=t(a.pull,!0),n.checkPut=t(a.put),n.revertClone=a.revertClone,e.group=n},Ne=function(){!Le&&J&&j(J,"display","none")},Me=function(){!Le&&J&&j(J,"display","")};De&&document.addEventListener("click",(function(e){if(Se)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Se=!1,!1}),!0);var Re=function(e){if(X){e=e.touches?e.touches[0]:e;var t=(a=e.clientX,r=e.clientY,_e.some((function(e){if(!P(e)){var t=D(e),n=e[V].options.emptyInsertThreshold,i=a>=t.left-n&&a<=t.right+n,s=r>=t.top-n&&r<=t.bottom+n;return n&&i&&s?o=e:void 0}})),o);if(t){var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[V]._onDragOver(n)}}var a,r,o},qe=function(e){X&&X.parentNode[V]._isOutsideThisEl(e.target)};function Fe(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=r({},t),e[V]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Ae(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Fe.supportPointer&&"PointerEvent"in window,emptyInsertThreshold:5};for(var i in K.initializePlugins(this,e,n),n)!(i in t)&&(t[i]=n[i]);for(var a in Be(t),this)"_"===a.charAt(0)&&"function"==typeof this[a]&&(this[a]=this[a].bind(this));this.nativeDraggable=!t.forceFallback&&Pe,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?g(e,"pointerdown",this._onTapStart):(g(e,"mousedown",this._onTapStart),g(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(g(e,"dragover",this),g(e,"dragenter",this)),_e.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),r(this,H())}function $e(e,t,n,i,a,r,o,s){var l,c,h=e[V],p=h.options.onMove;return!window.CustomEvent||u||d?(l=document.createEvent("Event")).initEvent("move",!0,!0):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=t,l.from=e,l.dragged=n,l.draggedRect=i,l.related=a||t,l.relatedRect=r||D(t),l.willInsertAfter=s,l.originalEvent=o,e.dispatchEvent(l),p&&(c=p.call(h,l,o)),c}function Ve(e){e.draggable=!1}function He(){Te=!1}function Ue(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,i=0;n--;)i+=t.charCodeAt(n);return i.toString(36)}function We(e){return setTimeout(e,0)}function Ke(e){return clearTimeout(e)}Fe.prototype={constructor:Fe,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(ge=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,X):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,i=this.options,a=i.preventOnFilter,r=e.type,o=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,s=(o||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,c=i.filter;if(function(e){Ce.length=0;var t=e.getElementsByTagName("input"),n=t.length;for(;n--;){var i=t[n];i.checked&&Ce.push(i)}}(n),!X&&!(/mousedown|pointerdown/.test(r)&&0!==e.button||i.disabled||l.isContentEditable||(s=k(s,i.draggable,n,!1))&&s.animated||te===s)){if(ae=L(s),oe=L(s,i.draggable),"function"==typeof c){if(c.call(this,e,s,this))return Y({sortable:t,rootEl:l,name:"filter",targetEl:s,toEl:n,fromEl:n}),G("filter",t,{evt:e}),void(a&&e.cancelable&&e.preventDefault())}else if(c&&(c=c.split(",").some((function(i){if(i=k(l,i.trim(),n,!1))return Y({sortable:t,rootEl:i,name:"filter",targetEl:s,fromEl:n,toEl:n}),G("filter",t,{evt:e}),!0}))))return void(a&&e.cancelable&&e.preventDefault());i.handle&&!k(l,i.handle,n,!1)||this._prepareDragStart(e,o,s)}}},_prepareDragStart:function(e,t,n){var i,a=this,r=a.el,o=a.options,s=r.ownerDocument;if(n&&!X&&n.parentNode===r){var l=D(n);if(Z=r,Q=(X=n).parentNode,ee=X.nextSibling,te=n,le=o.group,Fe.dragged=X,ue={target:X,clientX:(t||e).clientX,clientY:(t||e).clientY},fe=ue.clientX-l.left,me=ue.clientY-l.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,X.style["will-change"]="all",i=function(){G("delayEnded",a,{evt:e}),Fe.eventCanceled?a._onDrop():(a._disableDelayedDragEvents(),!h&&a.nativeDraggable&&(X.draggable=!0),a._triggerDragStart(e,t),Y({sortable:a,name:"choose",originalEvent:e}),O(X,o.chosenClass,!0))},o.ignore.split(",").forEach((function(e){T(X,e.trim(),Ve)})),g(s,"dragover",Re),g(s,"mousemove",Re),g(s,"touchmove",Re),g(s,"mouseup",a._onDrop),g(s,"touchend",a._onDrop),g(s,"touchcancel",a._onDrop),h&&this.nativeDraggable&&(this.options.touchStartThreshold=4,X.draggable=!0),G("delayStart",this,{evt:e}),!o.delay||o.delayOnTouchOnly&&!t||this.nativeDraggable&&(d||u))i();else{if(Fe.eventCanceled)return void this._onDrop();g(s,"mouseup",a._disableDelayedDrag),g(s,"touchend",a._disableDelayedDrag),g(s,"touchcancel",a._disableDelayedDrag),g(s,"mousemove",a._delayedDragTouchMoveHandler),g(s,"touchmove",a._delayedDragTouchMoveHandler),o.supportPointer&&g(s,"pointermove",a._delayedDragTouchMoveHandler),a._dragStartTimer=setTimeout(i,o.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){X&&Ve(X),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;b(e,"mouseup",this._disableDelayedDrag),b(e,"touchend",this._disableDelayedDrag),b(e,"touchcancel",this._disableDelayedDrag),b(e,"mousemove",this._delayedDragTouchMoveHandler),b(e,"touchmove",this._delayedDragTouchMoveHandler),b(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?g(document,"pointermove",this._onTouchMove):g(document,t?"touchmove":"mousemove",this._onTouchMove):(g(X,"dragend",this),g(Z,"dragstart",this._onDragStart));try{document.selection?We((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(e,t){if(ke=!1,Z&&X){G("dragStarted",this,{evt:t}),this.nativeDraggable&&g(document,"dragover",qe);var n=this.options;!e&&O(X,n.dragClass,!1),O(X,n.ghostClass,!0),Fe.active=this,e&&this._appendGhost(),Y({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(de){this._lastX=de.clientX,this._lastY=de.clientY,Ne();for(var e=document.elementFromPoint(de.clientX,de.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(de.clientX,de.clientY))!==t;)t=e;if(X.parentNode[V]._isOutsideThisEl(e),t)do{if(t[V]){if(t[V]._onDragOver({clientX:de.clientX,clientY:de.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);Me()}},_onTouchMove:function(e){if(ue){var t=this.options,n=t.fallbackTolerance,i=t.fallbackOffset,a=e.touches?e.touches[0]:e,r=J&&E(J,!0),o=J&&r&&r.a,s=J&&r&&r.d,l=Ie&&we&&A(we),c=(a.clientX-ue.clientX+i.x)/(o||1)+(l?l[0]-Ee[0]:0)/(o||1),u=(a.clientY-ue.clientY+i.y)/(s||1)+(l?l[1]-Ee[1]:0)/(s||1);if(!Fe.active&&!ke){if(n&&Math.max(Math.abs(a.clientX-this._lastX),Math.abs(a.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(J){r?(r.e+=c-(he||0),r.f+=u-(pe||0)):r={a:1,b:0,c:0,d:1,e:c,f:u};var d="matrix(".concat(r.a,",").concat(r.b,",").concat(r.c,",").concat(r.d,",").concat(r.e,",").concat(r.f,")");j(J,"webkitTransform",d),j(J,"mozTransform",d),j(J,"msTransform",d),j(J,"transform",d),he=c,pe=u,de=a}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!J){var e=this.options.fallbackOnBody?document.body:Z,t=D(X,!0,Ie,!0,e),n=this.options;if(Ie){for(we=e;"static"===j(we,"position")&&"none"===j(we,"transform")&&we!==document;)we=we.parentNode;we!==document.body&&we!==document.documentElement?(we===document&&(we=C()),t.top+=we.scrollTop,t.left+=we.scrollLeft):we=C(),Ee=A(we)}O(J=X.cloneNode(!0),n.ghostClass,!1),O(J,n.fallbackClass,!0),O(J,n.dragClass,!0),j(J,"transition",""),j(J,"transform",""),j(J,"box-sizing","border-box"),j(J,"margin",0),j(J,"top",t.top),j(J,"left",t.left),j(J,"width",t.width),j(J,"height",t.height),j(J,"opacity","0.8"),j(J,"position",Ie?"absolute":"fixed"),j(J,"zIndex","100000"),j(J,"pointerEvents","none"),Fe.ghost=J,e.appendChild(J),j(J,"transform-origin",fe/parseInt(J.style.width)*100+"% "+me/parseInt(J.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,i=e.dataTransfer,a=n.options;G("dragStart",this,{evt:e}),Fe.eventCanceled?this._onDrop():(G("setupClone",this),Fe.eventCanceled||((ne=q(X)).draggable=!1,ne.style["will-change"]="",this._hideClone(),O(ne,this.options.chosenClass,!1),Fe.clone=ne),n.cloneId=We((function(){G("clone",n),Fe.eventCanceled||(n.options.removeCloneOnHide||Z.insertBefore(ne,X),n._hideClone(),Y({sortable:n,name:"clone"}))})),!t&&O(X,a.dragClass,!0),t?(Se=!0,n._loopId=setInterval(n._emulateDragOver,50)):(b(document,"mouseup",n._onDrop),b(document,"touchend",n._onDrop),b(document,"touchcancel",n._onDrop),i&&(i.effectAllowed="move",a.setData&&a.setData.call(n,i,X)),g(document,"drop",n),j(X,"transform","translateZ(0)")),ke=!0,n._dragStartId=We(n._dragStarted.bind(n,t,e)),g(document,"selectstart",n),ve=!0,p&&j(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,i,a,r=this.el,s=e.target,l=this.options,c=l.group,u=Fe.active,d=le===c,h=l.sort,p=ce||u,f=this,m=!1;if(!Te){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),s=k(s,l.draggable,r,!0),N("dragOver"),Fe.eventCanceled)return m;if(X.contains(e.target)||s.animated&&s.animatingX&&s.animatingY||f._ignoreWhileAnimating===s)return q(!1);if(Se=!1,u&&!l.disabled&&(d?h||(i=!Z.contains(X)):ce===this||(this.lastPutMode=le.checkPull(this,u,X,e))&&c.checkPut(this,u,X,e))){if(a="vertical"===this._getDirection(e,s),t=D(X),N("dragOverValid"),Fe.eventCanceled)return m;if(i)return Q=Z,M(),this._hideClone(),N("revert"),Fe.eventCanceled||(ee?Z.insertBefore(X,ee):Z.appendChild(X)),q(!0);var v=P(r,l.draggable);if(!v||function(e,t,n){var i=D(P(n.el,n.options.draggable));return t?e.clientX>i.right+10||e.clientX<=i.right&&e.clientY>i.bottom&&e.clientX>=i.left:e.clientX>i.right&&e.clientY>i.top||e.clientX<=i.right&&e.clientY>i.bottom+10}(e,a,this)&&!v.animated){if(v===X)return q(!1);if(v&&r===e.target&&(s=v),s&&(n=D(s)),!1!==$e(Z,r,X,t,s,n,e,!!s))return M(),r.appendChild(X),Q=r,F(),q(!0)}else if(s.parentNode===r){n=D(s);var g,b,y,w=X.parentNode!==r,S=!function(e,t,n){var i=n?e.left:e.top,a=n?e.right:e.bottom,r=n?e.width:e.height,o=n?t.left:t.top,s=n?t.right:t.bottom,l=n?t.width:t.height;return i===o||a===s||i+r/2===o+l/2}(X.animated&&X.toRect||t,s.animated&&s.toRect||n,a),_=a?"top":"left",E=I(s,"top","top")||I(X,"top","top"),T=E?E.scrollTop:void 0;if(ge!==s&&(b=n[_],Oe=!1,je=!S&&l.invertSwap||w),0!==(g=function(e,t,n,i,a,r,o,s){var l=i?e.clientY:e.clientX,c=i?n.height:n.width,u=i?n.top:n.left,d=i?n.bottom:n.right,h=!1;if(!o)if(s&&ye<c*a){if(!Oe&&(1===be?l>u+c*r/2:l<d-c*r/2)&&(Oe=!0),Oe)h=!0;else if(1===be?l<u+ye:l>d-ye)return-be}else if(l>u+c*(1-a)/2&&l<d-c*(1-a)/2)return function(e){return L(X)<L(e)?1:-1}(t);if((h=h||o)&&(l<u+c*r/2||l>d-c*r/2))return l>u+c/2?1:-1;return 0}(e,s,n,a,S?1:l.swapThreshold,null==l.invertedSwapThreshold?l.swapThreshold:l.invertedSwapThreshold,je,ge===s))){var C=L(X);do{C-=g,y=Q.children[C]}while(y&&("none"===j(y,"display")||y===J))}if(0===g||y===s)return q(!1);ge=s,be=g;var x=s.nextElementSibling,A=!1,B=$e(Z,r,X,t,s,n,e,A=1===g);if(!1!==B)return 1!==B&&-1!==B||(A=1===B),Te=!0,setTimeout(He,30),M(),A&&!x?r.appendChild(X):s.parentNode.insertBefore(X,A?x:s),E&&R(E,0,T-E.scrollTop),Q=X.parentNode,void 0===b||je||(ye=Math.abs(b-D(s)[_])),F(),q(!0)}if(r.contains(X))return q(!1)}return!1}function N(l,c){G(l,f,o({evt:e,isOwner:d,axis:a?"vertical":"horizontal",revert:i,dragRect:t,targetRect:n,canSort:h,fromSortable:p,target:s,completed:q,onMove:function(n,i){return $e(Z,r,X,t,n,D(n),e,i)},changed:F},c))}function M(){N("dragOverAnimationCapture"),f.captureAnimationState(),f!==p&&p.captureAnimationState()}function q(t){return N("dragOverCompleted",{insertion:t}),t&&(d?u._hideClone():u._showClone(f),f!==p&&(O(X,ce?ce.options.ghostClass:u.options.ghostClass,!1),O(X,l.ghostClass,!0)),ce!==f&&f!==Fe.active?ce=f:f===Fe.active&&ce&&(ce=null),p===f&&(f._ignoreWhileAnimating=s),f.animateAll((function(){N("dragOverAnimationComplete"),f._ignoreWhileAnimating=null})),f!==p&&(p.animateAll(),p._ignoreWhileAnimating=null)),(s===X&&!X.animated||s===r&&!s.animated)&&(ge=null),l.dragoverBubble||e.rootEl||s===document||(X.parentNode[V]._isOutsideThisEl(e.target),!t&&Re(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),m=!0}function F(){re=L(X),se=L(X,l.draggable),Y({sortable:f,name:"change",toEl:r,newIndex:re,newDraggableIndex:se,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){b(document,"mousemove",this._onTouchMove),b(document,"touchmove",this._onTouchMove),b(document,"pointermove",this._onTouchMove),b(document,"dragover",Re),b(document,"mousemove",Re),b(document,"touchmove",Re)},_offUpEvents:function(){var e=this.el.ownerDocument;b(e,"mouseup",this._onDrop),b(e,"touchend",this._onDrop),b(e,"pointerup",this._onDrop),b(e,"touchcancel",this._onDrop),b(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;re=L(X),se=L(X,n.draggable),G("drop",this,{evt:e}),Q=X&&X.parentNode,re=L(X),se=L(X,n.draggable),Fe.eventCanceled?this._nulling():(ke=!1,je=!1,Oe=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Ke(this.cloneId),Ke(this._dragStartId),this.nativeDraggable&&(b(document,"drop",this),b(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),p&&j(document.body,"user-select",""),j(X,"transform",""),e&&(ve&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),J&&J.parentNode&&J.parentNode.removeChild(J),(Z===Q||ce&&"clone"!==ce.lastPutMode)&&ne&&ne.parentNode&&ne.parentNode.removeChild(ne),X&&(this.nativeDraggable&&b(X,"dragend",this),Ve(X),X.style["will-change"]="",ve&&!ke&&O(X,ce?ce.options.ghostClass:this.options.ghostClass,!1),O(X,this.options.chosenClass,!1),Y({sortable:this,name:"unchoose",toEl:Q,newIndex:null,newDraggableIndex:null,originalEvent:e}),Z!==Q?(re>=0&&(Y({rootEl:Q,name:"add",toEl:Q,fromEl:Z,originalEvent:e}),Y({sortable:this,name:"remove",toEl:Q,originalEvent:e}),Y({rootEl:Q,name:"sort",toEl:Q,fromEl:Z,originalEvent:e}),Y({sortable:this,name:"sort",toEl:Q,originalEvent:e})),ce&&ce.save()):re!==ae&&re>=0&&(Y({sortable:this,name:"update",toEl:Q,originalEvent:e}),Y({sortable:this,name:"sort",toEl:Q,originalEvent:e})),Fe.active&&(null!=re&&-1!==re||(re=ae,se=oe),Y({sortable:this,name:"end",toEl:Q,originalEvent:e}),this.save()))),this._nulling())},_nulling:function(){G("nulling",this),Z=X=Q=J=ee=ne=te=ie=ue=de=ve=re=se=ae=oe=ge=be=ce=le=Fe.dragged=Fe.ghost=Fe.clone=Fe.active=null,Ce.forEach((function(e){e.checked=!0})),Ce.length=he=pe=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":X&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,i=0,a=n.length,r=this.options;i<a;i++)k(e=n[i],r.draggable,this.el,!1)&&t.push(e.getAttribute(r.dataIdAttr)||Ue(e));return t},sort:function(e){var t={},n=this.el;this.toArray().forEach((function(e,i){var a=n.children[i];k(a,this.options.draggable,n,!1)&&(t[e]=a)}),this),e.forEach((function(e){t[e]&&(n.removeChild(t[e]),n.appendChild(t[e]))}))},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return k(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var i=K.modifyOption(this,e,t);n[e]=void 0!==i?i:t,"group"===e&&Be(n)},destroy:function(){G("destroy",this);var e=this.el;e[V]=null,b(e,"mousedown",this._onTapStart),b(e,"touchstart",this._onTapStart),b(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(b(e,"dragover",this),b(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),_e.splice(_e.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!ie){if(G("hideClone",this),Fe.eventCanceled)return;j(ne,"display","none"),this.options.removeCloneOnHide&&ne.parentNode&&ne.parentNode.removeChild(ne),ie=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(ie){if(G("showClone",this),Fe.eventCanceled)return;Z.contains(X)&&!this.options.group.revertClone?Z.insertBefore(ne,X):ee?Z.insertBefore(ne,ee):Z.appendChild(ne),this.options.group.revertClone&&this.animate(X,ne),j(ne,"display",""),ie=!1}}else this._hideClone()}},De&&g(document,"touchmove",(function(e){(Fe.active||ke)&&e.cancelable&&e.preventDefault()})),Fe.utils={on:g,off:b,css:j,find:T,is:function(e,t){return!!k(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},throttle:M,closest:k,toggleClass:O,clone:q,index:L,nextTick:We,cancelNextTick:Ke,detectDirection:Ae,getChild:x},Fe.get=function(e){return e[V]},Fe.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(Fe.utils=o({},Fe.utils,e.utils)),K.mount(e)}))},Fe.create=function(e,t){return new Fe(e,t)},Fe.version="1.10.2";var ze,Ge,Ye,Xe,Qe,Je,Ze=[],et=!1;function tt(){Ze.forEach((function(e){clearInterval(e.pid)})),Ze=[]}function nt(){clearInterval(Je)}var it,at=M((function(e,t,n,i){if(t.scroll){var a,r=(e.touches?e.touches[0]:e).clientX,o=(e.touches?e.touches[0]:e).clientY,s=t.scrollSensitivity,l=t.scrollSpeed,c=C(),u=!1;Ge!==n&&(Ge=n,tt(),ze=t.scroll,a=t.scrollFn,!0===ze&&(ze=B(n,!0)));var d=0,h=ze;do{var p=h,f=D(p),m=f.top,v=f.bottom,g=f.left,b=f.right,y=f.width,w=f.height,k=void 0,S=void 0,_=p.scrollWidth,O=p.scrollHeight,E=j(p),T=p.scrollLeft,I=p.scrollTop;p===c?(k=y<_&&("auto"===E.overflowX||"scroll"===E.overflowX||"visible"===E.overflowX),S=w<O&&("auto"===E.overflowY||"scroll"===E.overflowY||"visible"===E.overflowY)):(k=y<_&&("auto"===E.overflowX||"scroll"===E.overflowX),S=w<O&&("auto"===E.overflowY||"scroll"===E.overflowY));var x=k&&(Math.abs(b-r)<=s&&T+y<_)-(Math.abs(g-r)<=s&&!!T),P=S&&(Math.abs(v-o)<=s&&I+w<O)-(Math.abs(m-o)<=s&&!!I);if(!Ze[d])for(var L=0;L<=d;L++)Ze[L]||(Ze[L]={});Ze[d].vx==x&&Ze[d].vy==P&&Ze[d].el===p||(Ze[d].el=p,Ze[d].vx=x,Ze[d].vy=P,clearInterval(Ze[d].pid),0==x&&0==P||(u=!0,Ze[d].pid=setInterval(function(){i&&0===this.layer&&Fe.active._onTouchMove(Qe);var t=Ze[this.layer].vy?Ze[this.layer].vy*l:0,n=Ze[this.layer].vx?Ze[this.layer].vx*l:0;"function"==typeof a&&"continue"!==a.call(Fe.dragged.parentNode[V],n,t,e,Qe,Ze[this.layer].el)||R(Ze[this.layer].el,n,t)}.bind({layer:d}),24))),d++}while(t.bubbleScroll&&h!==c&&(h=B(h,!1)));et=u}}),30),rt=function(e){var t=e.originalEvent,n=e.putSortable,i=e.dragEl,a=e.activeSortable,r=e.dispatchSortableEvent,o=e.hideGhostForTarget,s=e.unhideGhostForTarget;if(t){var l=n||a;o();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,u=document.elementFromPoint(c.clientX,c.clientY);s(),l&&!l.el.contains(u)&&(r("spill"),this.onSpill({dragEl:i,putSortable:n}))}};function ot(){}function st(){}function lt(){function e(){this.defaults={swapClass:"sortable-swap-highlight"}}return e.prototype={dragStart:function(e){var t=e.dragEl;it=t},dragOverValid:function(e){var t=e.completed,n=e.target,i=e.onMove,a=e.activeSortable,r=e.changed,o=e.cancel;if(a.options.swap){var s=this.sortable.el,l=this.options;if(n&&n!==s){var c=it;!1!==i(n)?(O(n,l.swapClass,!0),it=n):it=null,c&&c!==it&&O(c,l.swapClass,!1)}r(),t(!0),o()}},drop:function(e){var t=e.activeSortable,n=e.putSortable,i=e.dragEl,a=n||this.sortable,r=this.options;it&&O(it,r.swapClass,!1),it&&(r.swap||n&&n.options.swap)&&i!==it&&(a.captureAnimationState(),a!==t&&t.captureAnimationState(),function(e,t){var n,i,a=e.parentNode,r=t.parentNode;if(!a||!r||a.isEqualNode(t)||r.isEqualNode(e))return;n=L(e),i=L(t),a.isEqualNode(r)&&n<i&&i++;a.insertBefore(t,a.children[n]),r.insertBefore(e,r.children[i])}(i,it),a.animateAll(),a!==t&&t.animateAll())},nulling:function(){it=null}},r(e,{pluginName:"swap",eventProperties:function(){return{swapItem:it}}})}ot.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var i=x(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(t,i):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:rt},r(ot,{pluginName:"revertOnSpill"}),st.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable||this.sortable;n.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),n.animateAll()},drop:rt},r(st,{pluginName:"removeOnSpill"});var ct,ut,dt,ht,pt,ft=[],mt=[],vt=!1,gt=!1,bt=!1;function yt(){function e(e){for(var t in this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this));e.options.supportPointer?g(document,"pointerup",this._deselectMultiDrag):(g(document,"mouseup",this._deselectMultiDrag),g(document,"touchend",this._deselectMultiDrag)),g(document,"keydown",this._checkKeyDown),g(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(t,n){var i="";ft.length&&ut===e?ft.forEach((function(e,t){i+=(t?", ":"")+e.textContent})):i=n.textContent,t.setData("Text",i)}}}return e.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(e){var t=e.dragEl;dt=t},delayEnded:function(){this.isMultiDrag=~ft.indexOf(dt)},setupClone:function(e){var t=e.sortable,n=e.cancel;if(this.isMultiDrag){for(var i=0;i<ft.length;i++)mt.push(q(ft[i])),mt[i].sortableIndex=ft[i].sortableIndex,mt[i].draggable=!1,mt[i].style["will-change"]="",O(mt[i],this.options.selectedClass,!1),ft[i]===dt&&O(mt[i],this.options.chosenClass,!1);t._hideClone(),n()}},clone:function(e){var t=e.sortable,n=e.rootEl,i=e.dispatchSortableEvent,a=e.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||ft.length&&ut===t&&(wt(!0,n),i("clone"),a()))},showClone:function(e){var t=e.cloneNowShown,n=e.rootEl,i=e.cancel;this.isMultiDrag&&(wt(!1,n),mt.forEach((function(e){j(e,"display","")})),t(),pt=!1,i())},hideClone:function(e){var t=this,n=(e.sortable,e.cloneNowHidden),i=e.cancel;this.isMultiDrag&&(mt.forEach((function(e){j(e,"display","none"),t.options.removeCloneOnHide&&e.parentNode&&e.parentNode.removeChild(e)})),n(),pt=!0,i())},dragStartGlobal:function(e){e.sortable;!this.isMultiDrag&&ut&&ut.multiDrag._deselectMultiDrag(),ft.forEach((function(e){e.sortableIndex=L(e)})),ft=ft.sort((function(e,t){return e.sortableIndex-t.sortableIndex})),bt=!0},dragStarted:function(e){var t=this,n=e.sortable;if(this.isMultiDrag){if(this.options.sort&&(n.captureAnimationState(),this.options.animation)){ft.forEach((function(e){e!==dt&&j(e,"position","absolute")}));var i=D(dt,!1,!0,!0);ft.forEach((function(e){e!==dt&&F(e,i)})),gt=!0,vt=!0}n.animateAll((function(){gt=!1,vt=!1,t.options.animation&&ft.forEach((function(e){$(e)})),t.options.sort&&kt()}))}},dragOver:function(e){var t=e.target,n=e.completed,i=e.cancel;gt&&~ft.indexOf(t)&&(n(!1),i())},revert:function(e){var t=e.fromSortable,n=e.rootEl,i=e.sortable,a=e.dragRect;ft.length>1&&(ft.forEach((function(e){i.addAnimationState({target:e,rect:gt?D(e):a}),$(e),e.fromRect=a,t.removeAnimationState(e)})),gt=!1,function(e,t){ft.forEach((function(n,i){var a=t.children[n.sortableIndex+(e?Number(i):0)];a?t.insertBefore(n,a):t.appendChild(n)}))}(!this.options.removeCloneOnHide,n))},dragOverCompleted:function(e){var t=e.sortable,n=e.isOwner,i=e.insertion,a=e.activeSortable,r=e.parentEl,o=e.putSortable,s=this.options;if(i){if(n&&a._hideClone(),vt=!1,s.animation&&ft.length>1&&(gt||!n&&!a.options.sort&&!o)){var l=D(dt,!1,!0,!0);ft.forEach((function(e){e!==dt&&(F(e,l),r.appendChild(e))})),gt=!0}if(!n)if(gt||kt(),ft.length>1){var c=pt;a._showClone(t),a.options.animation&&!pt&&c&&mt.forEach((function(e){a.addAnimationState({target:e,rect:ht}),e.fromRect=ht,e.thisAnimationDuration=null}))}else a._showClone(t)}},dragOverAnimationCapture:function(e){var t=e.dragRect,n=e.isOwner,i=e.activeSortable;if(ft.forEach((function(e){e.thisAnimationDuration=null})),i.options.animation&&!n&&i.multiDrag.isMultiDrag){ht=r({},t);var a=E(dt,!0);ht.top-=a.f,ht.left-=a.e}},dragOverAnimationComplete:function(){gt&&(gt=!1,kt())},drop:function(e){var t=e.originalEvent,n=e.rootEl,i=e.parentEl,a=e.sortable,r=e.dispatchSortableEvent,o=e.oldIndex,s=e.putSortable,l=s||this.sortable;if(t){var c=this.options,u=i.children;if(!bt)if(c.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),O(dt,c.selectedClass,!~ft.indexOf(dt)),~ft.indexOf(dt))ft.splice(ft.indexOf(dt),1),ct=null,z({sortable:a,rootEl:n,name:"deselect",targetEl:dt,originalEvt:t});else{if(ft.push(dt),z({sortable:a,rootEl:n,name:"select",targetEl:dt,originalEvt:t}),t.shiftKey&&ct&&a.el.contains(ct)){var d,h,p=L(ct),f=L(dt);if(~p&&~f&&p!==f)for(f>p?(h=p,d=f):(h=f,d=p+1);h<d;h++)~ft.indexOf(u[h])||(O(u[h],c.selectedClass,!0),ft.push(u[h]),z({sortable:a,rootEl:n,name:"select",targetEl:u[h],originalEvt:t}))}else ct=dt;ut=l}if(bt&&this.isMultiDrag){if((i[V].options.sort||i!==n)&&ft.length>1){var m=D(dt),v=L(dt,":not(."+this.options.selectedClass+")");if(!vt&&c.animation&&(dt.thisAnimationDuration=null),l.captureAnimationState(),!vt&&(c.animation&&(dt.fromRect=m,ft.forEach((function(e){if(e.thisAnimationDuration=null,e!==dt){var t=gt?D(e):m;e.fromRect=t,l.addAnimationState({target:e,rect:t})}}))),kt(),ft.forEach((function(e){u[v]?i.insertBefore(e,u[v]):i.appendChild(e),v++})),o===L(dt))){var g=!1;ft.forEach((function(e){e.sortableIndex===L(e)||(g=!0)})),g&&r("update")}ft.forEach((function(e){$(e)})),l.animateAll()}ut=l}(n===i||s&&"clone"!==s.lastPutMode)&&mt.forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)}))}},nullingGlobal:function(){this.isMultiDrag=bt=!1,mt.length=0},destroyGlobal:function(){this._deselectMultiDrag(),b(document,"pointerup",this._deselectMultiDrag),b(document,"mouseup",this._deselectMultiDrag),b(document,"touchend",this._deselectMultiDrag),b(document,"keydown",this._checkKeyDown),b(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(e){if(!(void 0!==bt&&bt||ut!==this.sortable||e&&k(e.target,this.options.draggable,this.sortable.el,!1)||e&&0!==e.button))for(;ft.length;){var t=ft[0];O(t,this.options.selectedClass,!1),ft.shift(),z({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:t,originalEvt:e})}},_checkKeyDown:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},r(e,{pluginName:"multiDrag",utils:{select:function(e){var t=e.parentNode[V];t&&t.options.multiDrag&&!~ft.indexOf(e)&&(ut&&ut!==t&&(ut.multiDrag._deselectMultiDrag(),ut=t),O(e,t.options.selectedClass,!0),ft.push(e))},deselect:function(e){var t=e.parentNode[V],n=ft.indexOf(e);t&&t.options.multiDrag&&~n&&(O(e,t.options.selectedClass,!1),ft.splice(n,1))}},eventProperties:function(){var e=this,t=[],n=[];return ft.forEach((function(i){var a;t.push({multiDragElement:i,index:i.sortableIndex}),a=gt&&i!==dt?-1:gt?L(i,":not(."+e.options.selectedClass+")"):L(i),n.push({multiDragElement:i,index:a})})),{items:l(ft),clones:[].concat(mt),oldIndicies:t,newIndicies:n}},optionListeners:{multiDragKey:function(e){return"ctrl"===(e=e.toLowerCase())?e="Control":e.length>1&&(e=e.charAt(0).toUpperCase()+e.substr(1)),e}}})}function wt(e,t){mt.forEach((function(n,i){var a=t.children[n.sortableIndex+(e?Number(i):0)];a?t.insertBefore(n,a):t.appendChild(n)}))}function kt(){ft.forEach((function(e){e!==dt&&e.parentNode&&e.parentNode.removeChild(e)}))}Fe.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?g(document,"dragover",this._handleAutoScroll):this.options.supportPointer?g(document,"pointermove",this._handleFallbackAutoScroll):t.touches?g(document,"touchmove",this._handleFallbackAutoScroll):g(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?b(document,"dragover",this._handleAutoScroll):(b(document,"pointermove",this._handleFallbackAutoScroll),b(document,"touchmove",this._handleFallbackAutoScroll),b(document,"mousemove",this._handleFallbackAutoScroll)),nt(),tt(),clearTimeout(S),S=void 0},nulling:function(){Qe=Ge=ze=et=Je=Ye=Xe=null,Ze.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n=this,i=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,r=document.elementFromPoint(i,a);if(Qe=e,t||d||u||p){at(e,this.options,r,t);var o=B(r,!0);!et||Je&&i===Ye&&a===Xe||(Je&&nt(),Je=setInterval((function(){var r=B(document.elementFromPoint(i,a),!0);r!==o&&(o=r,tt()),at(e,n.options,r,t)}),10),Ye=i,Xe=a)}else{if(!this.options.bubbleScroll||B(r,!0)===C())return void tt();at(e,this.options,B(r,!1),!1)}}},r(e,{pluginName:"scroll",initializeByDefault:!0})}),Fe.mount(st,ot),t.default=Fe},355:function(e,t,n){"use strict";n.d(t,"e",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return s}));var i=38,a=40,r=13,o=27,s=8},375:function(e,t,n){"use strict";var i=n(760),a=n(1),r=n(45),o=Object(a.d)("ToggleButton|Toggle Status: ON"),s=Object(a.d)("ToggleButton|Toggle Status: OFF"),l={components:{icon:r.a,GlLoadingIcon:i.a},model:{prop:"value",event:"change"},props:{name:{type:String,required:!1,default:null},value:{type:Boolean,required:!1,default:null},disabledInput:{type:Boolean,required:!1,default:!1},isLoading:{type:Boolean,required:!1,default:!1}},computed:{toggleIcon:function(){return this.value?"status_success_borderless":"status_failed_borderless"},ariaLabel:function(){return this.value?o:s}},methods:{toggleFeature:function(){this.disabledInput||this.$emit("change",!this.value)}}},c=n(4),u=Object(c.a)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{staticClass:"toggle-wrapper"},[e.name?n("input",{attrs:{name:e.name,type:"hidden"},domProps:{value:e.value}}):e._e(),e._v(" "),n("button",{staticClass:"project-feature-toggle",class:{"is-checked":e.value,"is-disabled":e.disabledInput,"is-loading":e.isLoading},attrs:{"aria-label":e.ariaLabel,type:"button"},on:{click:e.toggleFeature}},[n("gl-loading-icon",{staticClass:"loading-icon"}),e._v(" "),n("span",{staticClass:"toggle-icon"},[n("icon",{staticClass:"toggle-icon-svg",attrs:{name:e.toggleIcon}})],1)],1)])}),[],!1,null,null,null);t.a=u.exports},376:function(e,t,n){"use strict";n(42);var i=n(0),a=n.n(i),r=n(20),o=n.n(r),s=n(51),l=n.n(s),c=n(14),u=n(11),d=n(1);function h(){this.toggleTodo=this.toggleTodo.bind(this),this.sidebar=a()("aside"),this.removeListeners(),this.addEventListeners()}h.initialize=function(){this.instance||(this.instance=new h)},h.prototype.removeListeners=function(){this.sidebar.off("click",".sidebar-collapsed-icon"),this.sidebar.off("hidden.gl.dropdown"),a()(".dropdown").off("loading.gl.dropdown"),a()(".dropdown").off("loaded.gl.dropdown"),a()(document).off("click",".js-sidebar-toggle")},h.prototype.addEventListeners=function(){var e=a()(document);return this.sidebar.on("click",".sidebar-collapsed-icon",this,this.sidebarCollapseClicked),this.sidebar.on("hidden.gl.dropdown",this,this.onSidebarDropdownHidden),e.on("click",".js-sidebar-toggle",this.sidebarToggleClicked),a()(document).off("click",".js-issuable-todo").on("click",".js-issuable-todo",this.toggleTodo)},h.prototype.sidebarToggleClicked=function(e,t){var n=a()(this),i=n.find("i").hasClass("fa-angle-double-right"),r=i?Object(d.a)("Expand sidebar"):Object(d.a)("Collapse sidebar"),o=a()(".js-sidebar-toggle i");e.preventDefault(),i?(o.removeClass("fa-angle-double-right").addClass("fa-angle-double-left"),a()("aside.right-sidebar").removeClass("right-sidebar-expanded").addClass("right-sidebar-collapsed"),a()(".layout-page").removeClass("right-sidebar-expanded").addClass("right-sidebar-collapsed")):(o.removeClass("fa-angle-double-left").addClass("fa-angle-double-right"),a()("aside.right-sidebar").removeClass("right-sidebar-collapsed").addClass("right-sidebar-expanded"),a()(".layout-page").removeClass("right-sidebar-collapsed").addClass("right-sidebar-expanded")),n.attr("data-original-title",r),t||l.a.set("collapsed_gutter",a()(".right-sidebar").hasClass("right-sidebar-collapsed"))},h.prototype.toggleTodo=function(e){var t=this,n=a()(e.currentTarget),i=n.data("deletePath")?"delete":"post",r=String(n.data("deletePath")||n.data("createPath"));n.tooltip("hide"),a()(".js-issuable-todo").disable().addClass("is-loading"),u.a[i](r,{issuable_id:n.data("issuableId"),issuable_type:n.data("issuableType")}).then((function(e){var n=e.data;t.todoUpdateDone(n)})).catch((function(){return Object(c.a)(Object(d.e)(Object(d.a)("There was an error %{message} todo."),{message:"post"===i?Object(d.d)("RightSidebar|adding a"):Object(d.d)("RightSidebar|deleting the")}))}))},h.prototype.todoUpdateDone=function(e){var t=e.delete_path?e.delete_path:null,n=t?"mark":"todo",i=a()(".js-issuable-todo");a()(document).trigger("todo:toggle",e.count),i.each((function(e,i){var r=a()(i),o=r.find(".js-issuable-todo-inner");r.removeClass("is-loading").enable().attr("aria-label",r.data("".concat(n,"Text"))).attr("title",r.data("".concat(n,"Text"))).data("deletePath",t),r.hasClass("has-tooltip")&&r.tooltip("_fixTitle"),void 0!==r.data("isCollapsed")?o.html(r.data("".concat(n,"Icon"))):o.text(r.data("".concat(n,"Text")))}))},h.prototype.sidebarCollapseClicked=function(e){if(!a()(e.currentTarget).hasClass("dont-change-state")){var t=e.data;e.preventDefault();var n=a()(this).closest(".block");return t.openDropdown(n)}},h.prototype.openDropdown=function(e){var t=o.a.isString(e)?this.getBlock(e):e;this.isOpen()||(this.setCollapseAfterUpdate(t),this.toggleSidebar("open")),setTimeout((function(){t.find(".js-sidebar-dropdown-toggle").trigger("click")}))},h.prototype.setCollapseAfterUpdate=function(e){return e.addClass("collapse-after-update"),a()(".layout-page").addClass("with-overlay")},h.prototype.onSidebarDropdownHidden=function(e){var t=e.data;e.preventDefault();var n=a()(e.target).closest(".block");return t.sidebarDropdownHidden(n)},h.prototype.sidebarDropdownHidden=function(e){if(e.hasClass("collapse-after-update"))return e.removeClass("collapse-after-update"),a()(".layout-page").removeClass("with-overlay"),this.toggleSidebar("hide")},h.prototype.triggerOpenSidebar=function(){return this.sidebar.find(".js-sidebar-toggle").trigger("click")},h.prototype.toggleSidebar=function(e){if(null==e&&(e="toggle"),"toggle"===e&&this.triggerOpenSidebar(),"open"===e&&(this.isOpen()||this.triggerOpenSidebar()),"hide"===e&&this.isOpen())return this.triggerOpenSidebar()},h.prototype.isOpen=function(){return this.sidebar.is(".right-sidebar-expanded")},h.prototype.getBlock=function(e){return this.sidebar.find(".block.".concat(e))},t.a=h},384:function(e,t,n){"use strict";var i=n(289),a=n(60),r=n.n(a);const o={components:{BFormInput:i.a},inheritAttrs:!1};const s=r()({render:function(){var e=this.$createElement;return(this._self._c||e)("b-form-input",this._g(this._b({staticClass:"gl-form-input"},"b-form-input",this.$attrs,!1),this.$listeners))},staticRenderFns:[]},void 0,o,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=s},386:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l}));n(26),n(77),n(38),n(27);var i=n(0),a=n.n(i),r={animation:200,forceFallback:!0,fallbackClass:"is-dragging",fallbackOnBody:!0,ghostClass:"is-ghost"};function o(){a()(".has-tooltip").tooltip("hide").tooltip("disable"),document.body.classList.add("is-dragging")}function s(){a()(".has-tooltip").tooltip("enable"),document.body.classList.remove("is-dragging")}function l(e){var t="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,n=Object.assign({},r,{filter:".no-drag",delay:t?100:0,scrollSensitivity:t?60:100,scrollSpeed:20,onStart:o,onEnd:s});return Object.keys(e).forEach((function(t){n[t]=e[t]})),n}},389:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(63),a=n(102);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(n,!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l={tag:{type:String,default:"hr"}},c=i.a.extend({name:"BDropdownDivider",functional:!0,props:l,render:function(e,t){var n=t.props,i=t.data,r=i.attrs||{};return i.attrs={},e("li",Object(a.a)(i,{attrs:{role:"presentation"}}),[e(n.tag,{staticClass:"dropdown-divider",attrs:o({},r,{role:"separator","aria-orientation":"horizontal"}),ref:"divider"})])}})},435:function(e,t,n){"use strict";n.d(t,"a",(function(){return dt}));n(24),n(49),n(56),n(30),n(26),n(104),n(85),n(40),n(65),n(46),n(69),n(35),n(18),n(311),n(55),n(68),n(695),n(122),n(36),n(283),n(91),n(246),n(67),n(89),n(27),n(41);var i=n(219),a=n.n(i),r={issues:"issue-recent-searches",merge_requests:"merge-request-recent-searches"},o=n(16),s=n(307),l=n(33),c=n(14),u=n(111),d=n(17),h=new d.default,p=(n(498),n(297));function f(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var m=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"processTokens",value:function(e,t){var n=new RegExp("(".concat(t.join("|"),"):(=|!=)?([~%@]?)(?:('[^']*'{0,1})|(\"[^\"]*\"{0,1})|(\\S+))"),"g"),i=[],a=[],r=null,o=e.replace(n,(function(e,t,n,r,o,s,l){var c,u=o||s||l,d=r,h=n;return"~"!==u&&"%"!==u&&"@"!==u||(d=u,u=""),"!="!==u&&"="!==u||(h=u,u=""),c="".concat(t,":").concat(u),-1===a.indexOf(c)&&(a.push(c),i.push({key:t,value:u||"",symbol:d||"",operator:h||""})),""})).replace(/\s{2,}/g," ").trim()||"";if(i.length>0){var s=i[i.length-1],l="".concat(s.key,":").concat(s.operator).concat(s.symbol).concat(s.value);r=e.lastIndexOf(l)===e.length-l.length?s:o}else r=o;return{tokens:i,lastToken:r,searchToken:o}}}],(n=null)&&f(t.prototype,n),i&&f(t,i),e}(),v={name:"RecentSearchesDropdownContent",props:{items:{type:Array,required:!0},isLocalStorageAvailable:{type:Boolean,required:!1,default:!0},allowedKeys:{type:Array,required:!0}},computed:{processedItems:function(){var e=this;return this.items.map((function(t){var n=m.processTokens(t,e.allowedKeys),i=n.tokens,a=n.searchToken;return{text:t,tokens:i.map((function(e){return{prefix:"".concat(e.key,":"),operator:e.operator,suffix:"".concat(e.symbol).concat(e.value)}})),searchToken:a}}))},hasItems:function(){return this.items.length>0}},methods:{onItemActivated:function(e){h.$emit("recentSearchesItemSelected",e)},onRequestClearRecentSearches:function(e){e.stopPropagation(),h.$emit("requestClearRecentSearches")}}},g=n(4),b=Object(g.a)(v,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.isLocalStorageAvailable?e.hasItems?n("ul",[e._l(e.processedItems,(function(t,i){return n("li",{key:"processed-items-"+i,ref:"dropdownItem",refInFor:!0},[n("button",{staticClass:"filtered-search-history-dropdown-item js-dropdown-button",attrs:{type:"button"},on:{click:function(n){return e.onItemActivated(t.text)}}},[n("span",e._l(t.tokens,(function(t,i){return n("span",{key:"dropdown-token-"+i,staticClass:"filtered-search-history-dropdown-token js-dropdown-token"},[n("span",{staticClass:"name"},[e._v(e._s(t.prefix))]),e._v(" "),n("span",{staticClass:"name"},[e._v(e._s(t.operator))]),e._v(" "),n("span",{staticClass:"value"},[e._v(e._s(t.suffix))])])})),0),e._v(" "),n("span",{staticClass:"filtered-search-history-dropdown-search-token"},[e._v("\n          "+e._s(t.searchToken)+"\n        ")])])])})),e._v(" "),n("li",{staticClass:"divider"}),e._v(" "),n("li",[n("button",{ref:"clearButton",staticClass:"filtered-search-history-clear-button",attrs:{type:"button"},on:{click:function(t){return e.onRequestClearRecentSearches(t)}}},[e._v("\n        "+e._s(e.__("Clear recent searches"))+"\n      ")])])],2):n("div",{ref:"dropdownNote",staticClass:"dropdown-info-note"},[e._v("\n    "+e._s(e.__("You don't have any recent searches"))+"\n  ")]):n("div",{ref:"localStorageNote",staticClass:"dropdown-info-note"},[e._v("\n    "+e._s(e.__("This feature requires local storage to be enabled"))+"\n  ")])])}),[],!1,null,null,null).exports;function y(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var w=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=t,this.service=n,this.wrapperElement=i}var t,n,i;return t=e,(n=[{key:"init",value:function(){this.bindEvents(),this.render()}},{key:"bindEvents",value:function(){this.onRequestClearRecentSearchesWrapper=this.onRequestClearRecentSearches.bind(this),h.$on("requestClearRecentSearches",this.onRequestClearRecentSearchesWrapper)}},{key:"unbindEvents",value:function(){h.$off("requestClearRecentSearches",this.onRequestClearRecentSearchesWrapper)}},{key:"render",value:function(){var e=this.store.state;this.vm=new d.default({el:this.wrapperElement,components:{RecentSearchesDropdownContent:b},data:function(){return e},template:'\n        <recent-searches-dropdown-content\n          :items="recentSearches"\n          :is-local-storage-available="isLocalStorageAvailable"\n          :allowed-keys="allowedKeys"\n          />\n      '})}},{key:"onRequestClearRecentSearches",value:function(){var e=this.store.setRecentSearches([]);this.service.save(e)}},{key:"destroy",value:function(){this.unbindEvents(),this.vm&&this.vm.$destroy()}}])&&y(t.prototype,n),i&&y(t,i),e}(),k=(n(77),n(525)),S=n.n(k);function _(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var O=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.state=Object.assign({isLocalStorageAvailable:!0,recentSearches:[],allowedKeys:n},t)}var t,n,i;return t=e,(n=[{key:"addRecentSearch",value:function(e){return this.setRecentSearches([e].concat(this.state.recentSearches)),this.state.recentSearches}},{key:"setRecentSearches",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.map((function(e){return e.trim()}));return this.state.recentSearches=S()(t).slice(0,5),this.state.recentSearches}}])&&_(t.prototype,n),i&&_(t,i),e}(),j=(n(64),n(1));var E=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name="RecentSearchesServiceError",this.message=t||Object(j.a)("Recent Searches Service is unavailable")};E.prototype=Error.prototype;var T=E,C=n(71);function D(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var I=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"issuable-recent-searches";!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.localStorageKey=t}var t,n,i;return t=e,i=[{key:"isAvailable",value:function(){return C.a.isLocalStorageAccessSafe()}}],(n=[{key:"fetch",value:function(){if(!e.isAvailable()){var t=new T;return Promise.reject(t)}var n=window.localStorage.getItem(this.localStorageKey),i=[];if(n&&n.length>0)try{i=JSON.parse(n)}catch(e){return Promise.reject(e)}return Promise.resolve(i)}},{key:"save",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.isAvailable()&&window.localStorage.setItem(this.localStorageKey,JSON.stringify(t))}}])&&D(t.prototype,n),i&&D(t,i),e}(),x=n(324),P=(n(28),n(50),n(58),n(38),n(90),n(184),{keydown:function(e){if(!this.destroyed){var t,n=e.detail.hook.list,i=n.data,a=e.detail.hook.trigger.value.toLowerCase(),r=e.detail.hook.config.Filter,o=[];i&&(t=r&&r.filterFunction&&"function"==typeof r.filterFunction?r.filterFunction:function(e){return e.droplab_hidden=-1===e[r.template].toLowerCase().indexOf(a),e},i.filter((function(e){return!e.droplab_hidden})).length!==(o=i.map((function(e){return t(e,a)}))).filter((function(e){return!e.droplab_hidden})).length&&(n.setData(o),n.currentIndex=0))}},debounceKeydown:function(e){[13,16,17,18,20,37,38,39,40,91,92,93].indexOf(e.detail.which||e.detail.keyCode)>-1||(this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(this.keydown.bind(this,e),200))},init:function(e){var t=e.config.Filter;t&&t.template&&(this.hook=e,this.destroyed=!1,this.eventWrapper={},this.eventWrapper.debounceKeydown=this.debounceKeydown.bind(this),this.hook.trigger.addEventListener("keydown.dl",this.eventWrapper.debounceKeydown),this.hook.trigger.addEventListener("mousedown.dl",this.eventWrapper.debounceKeydown))},destroy:function(){this.timeout&&clearTimeout(this.timeout),this.destroyed=!0,this.hook.trigger.removeEventListener("keydown.dl",this.eventWrapper.debounceKeydown),this.hook.trigger.removeEventListener("mousedown.dl",this.eventWrapper.debounceKeydown)}}),L=(n(374),n(258),n(145),n(495),n(42),n(72),n(93)),A=n.n(L),B=["author","assignee"],N="hint",M="operator",R=n(200),q=n(543);function F(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var $=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.tokenValue=t,this.tokenType=n,this.tokenOperator=i}var t,i,a;return t=e,a=[{key:"replaceEpicTitle",value:function(e,t,n){var i=e,a=i.querySelector(".value");a&&(i.dataset.originalValue=a.innerText,a.innerText='"'.concat(t,'"::&').concat(n))}},{key:"setTokenStyle",value:function(e,t,n){var i=e;return i.style.backgroundColor=t,i.style.color=n,"#FFFFFF"===n&&i.querySelector(".remove-token").classList.add("inverted"),i}}],(i=[{key:"render",value:function(e,t){var n=this.tokenType,i=this.tokenValue;["none","any"].includes(i.toLowerCase())||("label"===n?this.updateLabelTokenColor(e):B.includes(n)?this.updateUserTokenAppearance(e,t):"my-reaction"===n?this.updateEmojiTokenAppearance(e,t):"epic"===n&&this.updateEpicLabel(e,t))}},{key:"updateUserTokenAppearance",value:function(e,t){var n=this.tokenValue,i=this.tokenValue.replace(/^@/,"");return q.a.retrieve(i).then((function(i){i&&(e.dataset.originalValue=n,t.innerHTML='\n          <img class="avatar s20" src="'.concat(i.avatar_url,'" alt="">\n          ').concat(A()(i.name),"\n        "))})).catch((function(){}))}},{key:"updateLabelTokenColor",value:function(t){var n=this.tokenValue,i=u.a.container.querySelector(".filtered-search"),a=i.dataset.labelsEndpoint,r=K.getEndpointWithQueryParams("".concat(a,".json"),i.dataset.endpointQueryParams);return R.a.retrieve(r).then((function(i){var a=(i||[]).find((function(e){return"~".concat(Y.getEscapedText(e.title))===n}));a&&e.setTokenStyle(t,a.color,a.text_color)})).catch((function(){return new c.a(Object(j.a)("An error occurred while fetching label colors."))}))}},{key:"updateEpicLabel",value:function(t){var n=this.tokenValue.replace(/^&/,""),i=u.a.container.querySelector(".filtered-search"),a=i.dataset.epicsEndpoint,r=K.getEndpointWithQueryParams("".concat(a,".json"),i.dataset.endpointQueryParams);return R.a.retrieve(r).then((function(i){var a=(i||[]).find((function(e){return e.id===Number(n)}));a&&e.replaceEpicTitle(t,a.title,a.id)})).catch((function(){return new c.a(Object(j.a)("An error occurred while adding formatted title for epic"))}))}},{key:"updateEmojiTokenAppearance",value:function(e,t){var i=e,a=t,r=this.tokenValue;return Promise.resolve().then(n.bind(null,447)).then((function(e){e.isEmojiNameValid(r)&&(i.dataset.originalValue=r,a.innerHTML=e.glEmojiTag(r))})).catch((function(){}))}}])&&F(t.prototype,i),a&&F(t,a),e}();function V(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var H,U,W,K=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"getOperatorToken",value:function(t){var n=null;return e.permissibleOperatorValues.forEach((function(e){t.startsWith(e)&&(n=e)})),n}},{key:"getValueToken",value:function(t){var n=t;return e.permissibleOperatorValues.forEach((function(e){t.startsWith(e)&&(n=t.slice(e.length))})),n}},{key:"getLastVisualTokenBeforeInput",value:function(){var e=u.a.container.querySelector(".input-token"),t=e&&e.previousElementSibling;return{lastVisualToken:t,isLastVisualTokenValid:null===t||-1!==t.className.indexOf("filtered-search-term")||t&&null!==t.querySelector(".operator")&&null!==t.querySelector(".value")}}},{key:"unselectTokens",value:function(){var e=u.a.container.querySelectorAll(".js-visual-token .selectable.selected");[].forEach.call(e,(function(e){return e.classList.remove("selected")}))}},{key:"selectToken",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=t.classList.contains("selected");e.unselectTokens(),i&&!n||t.classList.add("selected")}},{key:"removeSelectedToken",value:function(){var e=u.a.container.querySelector(".js-visual-token .selected");if(e){var t=e.closest(".js-visual-token");t.parentElement.removeChild(t)}}},{key:"createVisualTokenElementHTML",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.canEdit,n=void 0===t||t,i=e.hasOperator,a=void 0!==i&&i,r=e.uppercaseTokenName,o=void 0!==r&&r,s=e.capitalizeTokenValue,l=void 0!==s&&s;return'\n      <div class="'.concat(n?"selectable":"hidden",'" role="button">\n        <div class="').concat(o?"text-uppercase":"",' name"></div>\n        ').concat(a?'<div class="operator"></div>':"",'\n        <div class="value-container">\n          <div class="').concat(l?"text-capitalize":"",' value"></div>\n          <div class="remove-token" role="button">\n            <i class="fa fa-close"></i>\n          </div>\n        </div>\n      </div>\n    ')}},{key:"renderVisualTokenValue",value:function(e,t,n,i){var a=t.toLowerCase(),r=e.querySelector(".value-container"),o=r.querySelector(".value");o.innerText=n,new $(n,a,i).render(r,o)}},{key:"addVisualTokenElement",value:function(t){var n=t.name,i=t.operator,a=t.value,r=t.options,o=void 0===r?{}:r,s=o.isSearchTerm,l=void 0!==s&&s,c=o.canEdit,d=o.uppercaseTokenName,h=o.capitalizeTokenValue,p=o.tokenClass,f=void 0===p?"search-token-".concat(n.toLowerCase()):p,m=document.createElement("li");m.classList.add("js-visual-token"),m.classList.add(l?"filtered-search-term":"filtered-search-token"),l||m.classList.add(f);var v=Boolean(i);if(a)m.innerHTML=e.createVisualTokenElementHTML({canEdit:c,uppercaseTokenName:d,operator:i,hasOperator:v,capitalizeTokenValue:h}),e.renderVisualTokenValue(m,n,a,i);else{var g='<div class="'.concat(d?"text-uppercase":"",' name"></div>'),b="";v&&(b='<div class="operator"></div>'),m.innerHTML=g+b}m.querySelector(".name").innerText=n,v&&(m.querySelector(".operator").innerText=i);var y=u.a.container.querySelector(".tokens-container"),w=u.a.container.querySelector(".filtered-search");y.insertBefore(m,w.parentElement)}},{key:"addValueToPreviousVisualTokenElement",value:function(t){var n=e.getLastVisualTokenBeforeInput(),i=n.lastVisualToken;if(!n.isLastVisualTokenValid&&i.classList.contains("filtered-search-token")){var a=e.getLastTokenPartial(),r=e.getLastTokenOperator();i.innerHTML=e.createVisualTokenElementHTML({hasOperator:Boolean(r)}),i.querySelector(".name").innerText=a,i.querySelector(".operator").innerText=r,e.renderVisualTokenValue(i,a,t,r)}}},{key:"addFilterVisualToken",value:function(t,n,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=a.canEdit,o=a.uppercaseTokenName,s=void 0!==o&&o,l=a.capitalizeTokenValue,c=void 0!==l&&l,d=e.getLastVisualTokenBeforeInput(),h=d.lastVisualToken,p=d.isLastVisualTokenValid,f=e.addVisualTokenElement;if(p)f({name:t,operator:n,value:i,options:{canEdit:r,uppercaseTokenName:s,capitalizeTokenValue:c}});else if(p||!h||h.querySelector(".operator")){var m=h.querySelector(".name").innerText,v=h.querySelector(".operator").innerText,g=u.a.container.querySelector(".tokens-container");g.removeChild(h);var b=i;b||n||(b=t),f({name:m,operator:v,value:b,options:{canEdit:r,uppercaseTokenName:s,capitalizeTokenValue:c}})}else{var y=u.a.container.querySelector(".tokens-container");y.removeChild(h),f({name:t,operator:n,value:i,options:{canEdit:r,uppercaseTokenName:s,capitalizeTokenValue:c}})}}},{key:"addSearchVisualToken",value:function(t){var n=e.getLastVisualTokenBeforeInput().lastVisualToken;n&&n.classList.contains("filtered-search-term")?n.querySelector(".name").innerText+=" ".concat(t):e.addVisualTokenElement({name:t,operator:null,value:null,options:{isSearchTerm:!0}})}},{key:"getLastTokenPartial",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=e.getLastVisualTokenBeforeInput(),i=n.lastVisualToken;if(!i)return"";var a=i.querySelector(".value-container"),r=a&&a.dataset.originalValue;if(r)return r;var o=i.querySelector(".value"),s=i.querySelector(".name"),l=o?o.innerText:"",c=s?s.innerText:"";if(t){var u=i.querySelector(".operator"),d=u?u.innerText:"";return l||d||c}return l||c}},{key:"getLastTokenOperator",value:function(){var t=e.getLastVisualTokenBeforeInput().lastVisualToken,n=t&&t.querySelector(".operator");return null==n?void 0:n.innerText}},{key:"removeLastTokenPartial",value:function(){var t=e.getLastVisualTokenBeforeInput().lastVisualToken;if(t){var n=t.querySelector(".value"),i=t.querySelector(".operator");if(n){var a=t.querySelector(".selectable"),r=t.querySelector(".value-container");a.removeChild(r),t.innerHTML=a.innerHTML}else i?t.removeChild(i):t.closest(".tokens-container").removeChild(t)}}},{key:"tokenizeInput",value:function(){var t=u.a.container.querySelector(".filtered-search"),n=e.getLastVisualTokenBeforeInput().isLastVisualTokenValid;t.value&&(n?e.addSearchVisualToken(t.value):e.addValueToPreviousVisualTokenElement(t.value),t.value="")}},{key:"getEndpointWithQueryParams",value:function(e,t){if(!t)return e;var n=Object(o.E)(JSON.parse(t));return"".concat(e,"?").concat(n)}},{key:"editToken",value:function(t){var n=u.a.container.querySelector(".filtered-search");e.tokenizeInput();var i=t.parentElement,a=n.parentElement;i.replaceChild(a,t);var r,o=t.querySelector(".name"),s=t.querySelector(".operator");if(t.classList.contains("filtered-search-token")){e.addFilterVisualToken(o.innerText,s.innerText,null,{uppercaseTokenName:o.classList.contains("text-uppercase")});var l=t.querySelector(".value-container");(r=l.dataset.originalValue)||(r=l.querySelector(".value").innerText)}r||(r=o.innerText),n.value=r;var c=new Event("input");n.dispatchEvent(c),n.focus()}},{key:"moveInputToTheRight",value:function(){var t=u.a.container.querySelector(".filtered-search");if(t){var n=t.parentElement,i=u.a.container.querySelector(".tokens-container");if(e.tokenizeInput(),!i.lastElementChild.isEqualNode(n)){if(!e.getLastVisualTokenBeforeInput().isLastVisualTokenValid){var a=e.getLastTokenPartial();e.removeLastTokenPartial(),e.addSearchVisualToken(a)}i.removeChild(n),i.appendChild(n)}}}}],(n=null)&&V(t.prototype,n),i&&V(t,i),e}();function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],i=!0,a=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){a=!0,r=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw r}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function G(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}W=["=","!="],(U="permissibleOperatorValues")in(H=K)?Object.defineProperty(H,U,{value:W,enumerable:!0,configurable:!0,writable:!0}):H[U]=W;var Y=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"getEscapedText",value:function(e){var t=e,n=-1!==e.indexOf(" "),i=-1!==e.indexOf('"');return n&&(t=i?"'".concat(e,"'"):'"'.concat(e,'"')),t}},{key:"filterWithSymbol",value:function(t,n,i){var a=i,r=e.getSearchInput(n),o=a.title.toLowerCase(),s=r.toLowerCase(),l="";s[0]===t&&(l=z(s,1)[0],s=s.slice(1)),'"'!==s[0]&&"'"!==s[0]||-1===o.indexOf(" ")||(s=s.slice(1));var c=l===t&&-1!==o.indexOf(s),u=-1!==o.indexOf("".concat(l).concat(s));return a.droplab_hidden=!u&&!c,a}},{key:"filterHint",value:function(t,n){var i=t.input,r=t.allowedKeys,o=n,s=e.getSearchQuery(i),l=m.processTokens(s,r),c=l.lastToken,u=l.tokens,d=c.key||c||"",h="array"===n.type,p=u.some((function(e){return e.key===n.hint})),f="search"===o.hint;if(f&&(o.droplab_hidden=!0),!h&&p)o.droplab_hidden=!0;else if(f||d&&" "!==a()(s.split(""))){if(d){var v=d.split(":"),g=a()(v[0].split(" ")),b=f?r.some((function(e){return e.startsWith(g.toLowerCase())})):-1===o.hint.indexOf(g.toLowerCase());o.droplab_hidden=!!g&&b}}else o.droplab_hidden=!1;return o}},{key:"setDataValueIfSelected",value:function(e,t,n){var i=n.getAttribute("data-value");return i&&st.addWordToInput({tokenName:e,tokenOperator:t,tokenValue:i,clicked:!0,options:{capitalizeTokenValue:n.hasAttribute("data-capitalize")}}),null!==i}},{key:"getVisualTokenValues",value:function(e){var t=e&&e.querySelector(".name").textContent.trim(),n=e&&e.querySelector(".value")&&e.querySelector(".value").textContent.trim();"label"===t&&n&&(n=n.replace(/^~("|')?(.*)/,"$2").replace(/("|')$/,""));var i=e&&e.querySelector(".operator");return{tokenName:t,tokenOperator:i&&i.textContent.trim(),tokenValue:n}}},{key:"getSearchQuery",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=u.a.container,n=[].slice.call(t.querySelectorAll(".tokens-container li")),i=[];if(e){var a=n.findIndex((function(e){return e.classList.contains("input-token")}));n.splice(a+1)}return n.forEach((function(e){if(e.classList.contains("js-visual-token")){var t=e.querySelector(".name"),n=e.querySelector(".operator"),a=e.querySelector(".value"),r=e.querySelector(".value-container"),o=a&&a.dataset.symbol?a.dataset.symbol:"",s="",l="";n&&(l=n.textContent.trim()),r&&r.dataset.originalValue?s=r.dataset.originalValue:a&&a.innerText&&(s=a.innerText),-1!==e.className.indexOf("filtered-search-token")?i.push("".concat(t.innerText.toLowerCase(),":").concat(l).concat(o).concat(s)):i.push(t.innerText)}else if(e.classList.contains("input-token")){var c=K.getLastVisualTokenBeforeInput().isLastVisualTokenValid,d=u.a.container.querySelector(".filtered-search"),h=d&&d.value;if(c)i.push(h);else{var p=i.pop();i.push("".concat(p).concat(h))}}})),i.map((function(e){return e.trim()})).join(" ")}},{key:"getSearchInput",value:function(t){var n=t.value,i=e.getInputSelectionPosition(t).right;return n.slice(0,i)}},{key:"getInputSelectionPosition",value:function(e){var t=e.selectionStart,n=e.value,i=(n=n.replace(/(('[^']*'{0,1})|("[^"]*"{0,1})|:\s+)/g,(function(e){return e.replace(/\s/g,"_")}))).slice(t).search(/\s/);i>=0?i+=t:i<0&&(i=n.length);var a=n.slice(0,i).search(/\S+$/);return 0===t?a=0:t===n.length&&a<0?a=n.length:a<0&&(a=t),{left:a,right:i}}}],(n=null)&&G(t.prototype,n),i&&G(t,i),e}();function X(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Q=function(){function e(t){var n=t.droplab,i=t.dropdown,a=t.input,r=t.filter;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.droplab=n,this.hookId=a&&a.id,this.input=a,this.filter=r,this.dropdown=i,this.loadingTemplate='<div class="filter-dropdown-loading">\n      <span class="spinner"></span>\n    </div>',this.bindEvents()}var t,n,i;return t=e,(n=[{key:"bindEvents",value:function(){this.itemClickedWrapper=this.itemClicked.bind(this),this.dropdown.addEventListener("click.dl",this.itemClickedWrapper)}},{key:"unbindEvents",value:function(){this.dropdown.removeEventListener("click.dl",this.itemClickedWrapper)}},{key:"getCurrentHook",value:function(){var e=this;return this.droplab.hooks.filter((function(t){return t.id===e.hookId}))[0]||null}},{key:"itemClicked",value:function(e,t){var n=e.detail.selected;if("LI"===n.tagName&&n.innerHTML){var i=K.getLastVisualTokenBeforeInput().lastVisualToken,a=Y.getVisualTokenValues(i).tokenOperator;if(!Y.setDataValueIfSelected(this.filter,a,n)){var r=t(n);st.addWordToInput({tokenName:this.filter,tokenOperator:a,tokenValue:r,clicked:!0})}this.resetFilters(),this.dismissDropdown(),this.dispatchInputEvent()}}},{key:"setAsDropdown",value:function(){this.input.setAttribute("data-dropdown-trigger","#".concat(this.dropdown.id))}},{key:"setOffset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;window.innerWidth>480?this.dropdown.style.left="".concat(e,"px"):this.dropdown.style.left="0px"}},{key:"renderContent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.getCurrentHook();e&&t&&t.list.hidden&&t.list.show()}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.setAsDropdown();var n=this.getCurrentHook(),i=null===n;i||e?this.renderContent(t):n.list.list.id!==this.dropdown.id&&this.renderContent(t)}},{key:"dismissDropdown",value:function(){this.input.focus()}},{key:"dispatchInputEvent",value:function(){this.input.dispatchEvent(new CustomEvent("input",{bubbles:!0,cancelable:!0}))}},{key:"dispatchFormSubmitEvent",value:function(){this.input.form.dispatchEvent(new Event("submit"))}},{key:"hideDropdown",value:function(){var e=this.getCurrentHook();e&&e.list.hide()}},{key:"resetFilters",value:function(){var e=this.getCurrentHook();if(e){var t=e.list.data||[];if(!t)return;var n=t.map((function(e){var t=e;return t.droplab_hidden=!1,t}));e.list.render(n)}}}])&&X(t.prototype,n),i&&X(t,i),e}();function J(e){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ee(e,t){return!t||"object"!==J(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function te(e,t,n){return(te="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ne(e)););return e}(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(n):a.value}})(e,t,n||e)}function ne(e){return(ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ie(e,t){return(ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ae=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=n.input,a=n.tokenKeys;return(e=ee(this,ne(t).call(this,n))).config={Filter:{template:"hint",filterFunction:Y.filterHint.bind(null,{input:i,allowedKeys:a.getKeys()})}},e.tokenKeys=a,e}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ie(e,t)}(t,e),n=t,(i=[{key:"itemClicked",value:function(e){var t=e.detail.selected;if("LI"===t.tagName)if(t.hasAttribute("data-value"))this.dismissDropdown();else if("submit"===t.getAttribute("data-action"))this.dismissDropdown(),this.dispatchFormSubmitEvent();else{var n=t.closest(".filter-dropdown-item").dataset,i=n.hint;if(n.tag.length){var a=this.input.value.split(" "),r=[];a.forEach((function(e,t){r.push(e),t===a.length-1&&-1!==i.indexOf(e.toLowerCase())&&r.pop()})),r.length>0&&K.addSearchVisualToken(r.join(" "));var o=i.replace(":",""),s=this.tokenKeys.searchByKey(o).uppercaseTokenName;st.addWordToInput({tokenName:o,clicked:!1,options:{uppercaseTokenName:s}})}this.dismissDropdown(),this.dispatchInputEvent()}}},{key:"renderContent",value:function(){var e=[{hint:"search",tag:"search",formattedKey:Object(j.a)("Search for this text"),icon:"".concat(gon.sprite_icons,"#search")}],n=this.tokenKeys.get().map((function(e){return{icon:"".concat(gon.sprite_icons,"#").concat(e.icon),hint:e.key,tag:":".concat(e.tag),type:e.type,formattedKey:e.formattedKey}})).concat(e);this.droplab.changeHookList(this.hookId,this.dropdown,[P],this.config),this.droplab.setData(this.hookId,n),te(ne(t.prototype),"renderContent",this).call(this)}},{key:"init",value:function(){this.droplab.addHook(this.input,this.dropdown,[P],this.config).init()}}])&&Z(n.prototype,i),a&&Z(n,a),t}(Q),re={init:function(e){this.destroyed=!1,this.hook=e,this.notLoading(),this.eventWrapper={},this.eventWrapper.debounceTrigger=this.debounceTrigger.bind(this),this.hook.trigger.addEventListener("keydown.dl",this.eventWrapper.debounceTrigger),this.hook.trigger.addEventListener("focus",this.eventWrapper.debounceTrigger),this.trigger(!0)},notLoading:function(){this.loading=!1},debounceTrigger:function(e){var t=[16,17,18,20,37,38,39,40,91,93].indexOf(e.detail.which||e.detail.keyCode)>-1,n="focus"===e.type;t||this.loading||(this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(this.trigger.bind(this,n),200))},trigger:function(e){var t=this,n=this.hook.config.AjaxFilter,i=this.trigger.value;if(n&&n.endpoint&&n.searchKey){if(n.searchValueFunction&&(i=n.searchValueFunction()),n.loadingTemplate&&void 0===this.hook.list.data||0===this.hook.list.data.length){var a=this.hook.list.list.querySelector("[data-dynamic]"),r=document.createElement("div");r.innerHTML=n.loadingTemplate,r.setAttribute("data-loading-template",!0),this.listTemplate=a.outerHTML,a.outerHTML=r.outerHTML}if(e&&(i=""),n.searchKey===i)return this.list.show();this.loading=!0;var o=n.params||{};o[n.searchKey]=i;var s=n.endpoint+this.buildParams(o);return R.a.retrieve(s).then((function(e){t._loadData(e,n),n.onLoadingFinished&&n.onLoadingFinished(e)})).catch(n.onError)}},_loadData:function(e,t){var n=this.hook.list;if(t.loadingTemplate&&void 0===n.data||0===n.data.length){var i=n.list.querySelector("[data-loading-template]");i&&(i.outerHTML=this.listTemplate)}if(!this.destroyed){var a=n.list.children;1===a.length&&a[0].hasAttribute("data-dynamic")&&0===e.length&&n.hide(),n.setData.call(n,e)}this.notLoading(),n.currentIndex=0},buildParams:function(e){return e?"?"+Object.keys(e).map((function(t){return t+"="+(e[t]||"")})).join("&"):""},destroy:function(){this.timeout&&clearTimeout(this.timeout),this.destroyed=!0,this.hook.trigger.removeEventListener("keydown.dl",this.eventWrapper.debounceTrigger),this.hook.trigger.removeEventListener("focus",this.eventWrapper.debounceTrigger)}};function oe(e){return(oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function se(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function le(e,t){return!t||"object"!==oe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ce(e,t,n){return(ce="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ue(e)););return e}(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(n):a.value}})(e,t,n||e)}function ue(e){return(ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function de(e,t){return(de=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var he=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=n.tokenKeys,a=n.endpoint,r=n.symbol;return(e=le(this,ue(t).call(this,n))).tokenKeys=i,e.endpoint=a,e.symbol=r,e.config={AjaxFilter:e.ajaxFilterConfig()},e}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&de(e,t)}(t,e),n=t,(i=[{key:"ajaxFilterConfig",value:function(){return{endpoint:"".concat(gon.relative_url_root||"").concat(this.endpoint),searchKey:"search",searchValueFunction:this.getSearchInput.bind(this),loadingTemplate:this.loadingTemplate,onError:function(){Object(c.a)(Object(j.a)("An error occurred fetching the dropdown data."))}}}},{key:"itemClicked",value:function(e){ce(ue(t.prototype),"itemClicked",this).call(this,e,(function(e){return e.querySelector(".dropdown-light-content").innerText.trim()}))}},{key:"renderContent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.droplab.changeHookList(this.hookId,this.dropdown,[re],this.config),ce(ue(t.prototype),"renderContent",this).call(this,e)}},{key:"getSearchInput",value:function(){var e=Y.getSearchInput(this.input),t=m.processTokens(e,this.tokenKeys.getKeys()).lastToken||"";return t[0]===this.symbol&&(t=t.slice(1)),'"'!==t[0]&&"'"!==t[0]||(t=t.slice(1)),t}},{key:"init",value:function(){this.droplab.addHook(this.input,this.dropdown,[re],this.config).init()}}])&&se(n.prototype,i),a&&se(n,a),t}(Q);function pe(e){return(pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach((function(t){ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ge(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function be(e,t){return!t||"object"!==pe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ye(e,t,n){return(ye="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=we(e)););return e}(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(n):a.value}})(e,t,n||e)}function we(e){return(we=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ke(e,t){return(ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Se=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),be(this,we(t).call(this,me({},e,{endpoint:"/autocomplete/users.json",symbol:"@"})))}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ke(e,t)}(t,e),n=t,(i=[{key:"ajaxFilterConfig",value:function(){var e=this;return me({},ye(we(t.prototype),"ajaxFilterConfig",this).call(this),{params:me({active:!0,group_id:this.getGroupId(),project_id:this.getProjectId(),current_user:!0},this.projectOrGroupId()),onLoadingFinished:function(){e.hideCurrentUser()}})}},{key:"hideCurrentUser",value:function(){Object(x.a)(this.dropdown.querySelector(".js-current-user"),"hidden")}},{key:"getGroupId",value:function(){return this.input.getAttribute("data-group-id")}},{key:"getProjectId",value:function(){return this.input.getAttribute("data-project-id")}},{key:"projectOrGroupId",value:function(){var e=this.getProjectId(),t=this.getGroupId();return t?{group_id:t}:{project_id:e}}}])&&ge(n.prototype,i),a&&ge(n,a),t}(he),_e={_loadData:function(e,t,n){if(t.loadingTemplate){var i=n.hook.list.list.querySelector("[data-loading-template]");i&&(i.outerHTML=n.listTemplate)}n.destroyed||n.hook.list[t.method].call(n.hook.list,e)},preprocessing:function(e,t){var n=t;return e.preprocessing&&!t.preprocessed&&(n=e.preprocessing(t),R.a.override(e.endpoint,n)),n},init:function(e){var t=this;t.destroyed=!1;var n=e.config.Ajax;if(this.hook=e,n&&n.endpoint&&n.method&&("setData"===n.method||"addData"===n.method)){if(n.loadingTemplate){var i=e.list.list.querySelector("[data-dynamic]"),a=document.createElement("div");a.innerHTML=n.loadingTemplate,a.setAttribute("data-loading-template",""),this.listTemplate=i.outerHTML,i.outerHTML=a.outerHTML}return R.a.retrieve(n.endpoint).then(t.preprocessing.bind(null,n)).then((function(e){return t._loadData(e,n,t)})).catch(n.onError)}},destroy:function(){this.destroyed=!0}};function Oe(e){return(Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function je(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Ee(e,t){return!t||"object"!==Oe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Te(e,t,n){return(Te="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ce(e)););return e}(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(n):a.value}})(e,t,n||e)}function Ce(e){return(Ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function De(e,t){return(De=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ie=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=n.input,a=n.endpoint,r=n.symbol,o=n.preprocessing;return(e=Ee(this,Ce(t).call(this,n))).symbol=r,e.config={Ajax:{endpoint:a,method:"setData",loadingTemplate:e.loadingTemplate,preprocessing:o,onError:function(){new c.a(Object(j.a)("An error occurred fetching the dropdown data."))}},Filter:{filterFunction:Y.filterWithSymbol.bind(null,e.symbol,i),template:"title"}},e}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&De(e,t)}(t,e),n=t,(i=[{key:"itemClicked",value:function(e){var n=this;Te(Ce(t.prototype),"itemClicked",this).call(this,e,(function(e){var t=e.querySelector(".js-data-value").innerText.trim();return"".concat(n.symbol).concat(Y.getEscapedText(t))}))}},{key:"renderContent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.droplab.changeHookList(this.hookId,this.dropdown,[_e,P],this.config),Te(Ce(t.prototype),"renderContent",this).call(this,e)}},{key:"init",value:function(){this.droplab.addHook(this.input,this.dropdown,[_e,P],this.config).init()}}])&&je(n.prototype,i),a&&je(n,a),t}(Q);n(78);function xe(e){return(xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pe(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Le(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Ae(e,t){return!t||"object"!==xe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Be(e,t,n){return(Be="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ne(e)););return e}(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(n):a.value}})(e,t,n||e)}function Ne(e){return(Ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Me(e,t){return(Me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Re=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=Ae(this,Ne(t).call(this,i))).config={Ajax:{endpoint:"".concat(gon.relative_url_root||"","/autocomplete/award_emojis"),method:"setData",loadingTemplate:e.loadingTemplate,onError:function(){new c.a(Object(j.a)("An error occurred fetching the dropdown data."))}},Filter:{template:"name"}},Promise.resolve().then(n.bind(null,447)).then((function(t){var n=t.glEmojiTag;e.glEmojiTag=n})).catch((function(){})),e.unbindEvents(),e.bindEvents(),e}var i,a,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Me(e,t)}(t,e),i=t,(a=[{key:"bindEvents",value:function(){Be(Ne(t.prototype),"bindEvents",this).call(this),this.listRenderedWrapper=this.listRendered.bind(this),this.dropdown.addEventListener("render.dl",this.listRenderedWrapper)}},{key:"unbindEvents",value:function(){this.dropdown.removeEventListener("render.dl",this.listRenderedWrapper),Be(Ne(t.prototype),"unbindEvents",this).call(this)}},{key:"listRendered",value:function(){this.replaceEmojiElement()}},{key:"itemClicked",value:function(e){Be(Ne(t.prototype),"itemClicked",this).call(this,e,(function(e){var t=e.querySelector(".js-data-value").innerText.trim();return Y.getEscapedText(t)}))}},{key:"renderContent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.droplab.changeHookList(this.hookId,this.dropdown,[_e,P],this.config),Be(Ne(t.prototype),"renderContent",this).call(this,e)}},{key:"replaceEmojiElement",value:function(){var e=this;this.glEmojiTag&&Pe(this.dropdown.querySelectorAll(".filter-dropdown-item")).forEach((function(t){var n=t.querySelector(".js-data-value");if(null!==n){var i=n.innerText,a=e.glEmojiTag(i);t.querySelector("gl-emoji").outerHTML=a}}))}},{key:"init",value:function(){this.droplab.addHook(this.input,this.dropdown,[_e,P],this.config).init()}}])&&Le(i.prototype,a),r&&Le(i,r),t}(Q);function qe(e){return(qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fe(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function $e(e,t){return!t||"object"!==qe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ve(e,t,n){return(Ve="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=He(e)););return e}(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(n):a.value}})(e,t,n||e)}function He(e){return(He=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ue(e,t){return(Ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var We=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),$e(this,He(t).apply(this,arguments))}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ue(e,t)}(t,e),n=t,(i=[{key:"renderContent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.droplab.changeHookList(this.hookId,this.dropdown,[],this.config),Ve(He(t.prototype),"renderContent",this).call(this,e)}}])&&Fe(n.prototype,i),a&&Fe(n,a),t}(Q);function Ke(e){return(Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ze(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Ge(e,t){return!t||"object"!==Ke(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ye(e,t,n){return(Ye="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Xe(e)););return e}(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(n):a.value}})(e,t,n||e)}function Xe(e){return(Xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qe(e,t){return(Qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Je=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=n.input,a=n.tokenKeys;return(e=Ge(this,Xe(t).call(this,n))).config={Filter:{filterFunction:Y.filterWithSymbol.bind(null,"",i),template:"title"}},e.tokenKeys=a,e}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qe(e,t)}(t,e),n=t,(i=[{key:"itemClicked",value:function(e){var t=e.detail.selected;if("LI"===t.tagName&&t.hasAttribute("data-value")){var n=t.dataset.value;K.removeLastTokenPartial(),st.addWordToInput({tokenName:this.filter,tokenOperator:n,clicked:!1})}this.dismissDropdown(),this.dispatchInputEvent()}},{key:"renderContent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.filter=K.getLastTokenPartial();var n=[{tag:"equal",type:"string",title:"=",help:Object(j.a)("is")},{tag:"not-equal",type:"string",title:"!=",help:Object(j.a)("is not")}];this.droplab.changeHookList(this.hookId,this.dropdown,[P],this.config),this.droplab.setData(this.hookId,n),Ye(Xe(t.prototype),"renderContent",this).call(this,e)}},{key:"init",value:function(){this.droplab.addHook(this.input,this.dropdown,[P],this.config).init()}}])&&ze(n.prototype,i),a&&ze(n,a),t}(Q);function Ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function et(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var nt=function(){function e(t){var n=t.container,i=t.runnerTagsEndpoint,a=t.labelsEndpoint,r=t.milestonesEndpoint,o=t.releasesEndpoint,s=t.groupsOnly,l=t.includeAncestorGroups,c=t.includeDescendantGroups;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=n,this.runnerTagsEndpoint=i,this.labelsEndpoint=a,this.milestonesEndpoint=r,this.releasesEndpoint=o,this.groupsOnly=s,this.includeAncestorGroups=l,this.includeDescendantGroups=c,this.filteredSearchInput=this.container.querySelector(".filtered-search")}var t,n,i;return t=e,(n=[{key:"getAllowedMappings",value:function(e){return this.buildMappings(e,this.getMappings())}},{key:"buildMappings",value:function(e,t){var n={hint:{reference:null,gl:ae,element:this.container.querySelector("#js-dropdown-hint")},operator:{reference:null,gl:Je,element:this.container.querySelector("#js-dropdown-operator")}};return e.forEach((function(e){t[e]&&(n[e]=t[e])})),n}},{key:"getMappings",value:function(){return{author:{reference:null,gl:Se,element:this.container.querySelector("#js-dropdown-author")},assignee:{reference:null,gl:Se,element:this.container.querySelector("#js-dropdown-assignee")},milestone:{reference:null,gl:Ie,extraArguments:{endpoint:this.getMilestoneEndpoint(),symbol:"%"},element:this.container.querySelector("#js-dropdown-milestone")},release:{reference:null,gl:Ie,extraArguments:{endpoint:this.getReleasesEndpoint(),symbol:"",preprocessing:function(e){return e.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(n),!0).forEach((function(t){et(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{title:e.tag})}))}},element:this.container.querySelector("#js-dropdown-release")},label:{reference:null,gl:Ie,extraArguments:{endpoint:this.getLabelsEndpoint(),symbol:"~",preprocessing:Y.duplicateLabelPreprocessing},element:this.container.querySelector("#js-dropdown-label")},"my-reaction":{reference:null,gl:Re,element:this.container.querySelector("#js-dropdown-my-reaction")},wip:{reference:null,gl:Ie,element:this.container.querySelector("#js-dropdown-wip")},confidential:{reference:null,gl:Ie,element:this.container.querySelector("#js-dropdown-confidential")},status:{reference:null,gl:We,element:this.container.querySelector("#js-dropdown-admin-runner-status")},type:{reference:null,gl:We,element:this.container.querySelector("#js-dropdown-admin-runner-type")},tag:{reference:null,gl:he,extraArguments:{endpoint:this.getRunnerTagsEndpoint(),symbol:"~"},element:this.container.querySelector("#js-dropdown-runner-tag")},"target-branch":{reference:null,gl:Ie,extraArguments:{endpoint:this.getMergeRequestTargetBranchesEndpoint(),symbol:""},element:this.container.querySelector("#js-dropdown-target-branch")}}}},{key:"getMilestoneEndpoint",value:function(){return"".concat(this.milestonesEndpoint,".json")}},{key:"getReleasesEndpoint",value:function(){return"".concat(this.releasesEndpoint,".json")}},{key:"getLabelsEndpoint",value:function(){var e="".concat(this.labelsEndpoint,".json?");return this.groupsOnly&&(e="".concat(e,"only_group_labels=true&")),this.includeAncestorGroups&&(e="".concat(e,"include_ancestor_groups=true&")),this.includeDescendantGroups&&(e="".concat(e,"include_descendant_groups=true")),e}},{key:"getRunnerTagsEndpoint",value:function(){return"".concat(this.runnerTagsEndpoint,".json")}},{key:"getMergeRequestTargetBranchesEndpoint",value:function(){var e="".concat(gon.relative_url_root||"","/autocomplete/merge_request_target_branches.json"),t={group_id:this.getGroupId(),project_id:this.getProjectId()};return Object(l.h)(t,e)}},{key:"getGroupId",value:function(){return this.filteredSearchInput.getAttribute("data-group-id")||""}},{key:"getProjectId",value:function(){return this.filteredSearchInput.getAttribute("data-project-id")||""}}])&&tt(t.prototype,n),i&&tt(t,i),e}(),it=n(259);function at(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function rt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ot(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var st=function(){function e(t){var n=t.runnerTagsEndpoint,i=void 0===n?"":n,a=t.labelsEndpoint,r=void 0===a?"":a,o=t.milestonesEndpoint,s=void 0===o?"":o,l=t.releasesEndpoint,c=void 0===l?"":l,d=t.epicsEndpoint,h=void 0===d?"":d,f=t.tokenizer,m=t.page,v=t.isGroup,g=t.isGroupAncestor,b=t.isGroupDecendent,y=t.filteredSearchTokenKeys;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var w=function(e){return e.replace(/\/$/,"")};this.container=u.a.container,this.runnerTagsEndpoint=w(i),this.labelsEndpoint=w(r),this.milestonesEndpoint=w(s),this.releasesEndpoint=w(c),this.epicsEndpoint=w(h),this.tokenizer=f,this.filteredSearchTokenKeys=y||p.a,this.filteredSearchInput=this.container.querySelector(".filtered-search"),this.page=m,this.groupsOnly=v,this.includeAncestorGroups=g,this.includeDescendantGroups=b,this.setupMapping(),this.cleanupWrapper=this.cleanup.bind(this),document.addEventListener("beforeunload",this.cleanupWrapper)}var t,n,i;return t=e,i=[{key:"addWordToInput",value:function(e){var t=e.tokenName,n=e.tokenOperator,i=void 0===n?"":n,a=e.tokenValue,r=void 0===a?"":a,o=e.clicked,s=void 0!==o&&o,l=e.options,c=void 0===l?{}:l,d=c.uppercaseTokenName,h=void 0!==d&&d,p=c.capitalizeTokenValue,f=void 0!==p&&p,m=u.a.container.querySelector(".filtered-search");K.addFilterVisualToken(t,i,r,{uppercaseTokenName:h,capitalizeTokenValue:f}),m.value="",s&&K.moveInputToTheRight()}}],(n=[{key:"cleanup",value:function(){this.droplab&&(this.droplab.destroy(),this.droplab=null),this.setupMapping(),document.removeEventListener("beforeunload",this.cleanupWrapper)}},{key:"setupMapping",value:function(){var e=this.filteredSearchTokenKeys.getKeys(),t=new nt(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?at(Object(n),!0).forEach((function(t){rt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):at(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this));this.mapping=t.getAllowedMappings(e)}},{key:"updateCurrentDropdownOffset",value:function(){this.updateDropdownOffset(this.currentDropdown)}},{key:"updateDropdownOffset",value:function(e){var t=this.filteredSearchInput.getBoundingClientRect().left-this.container.querySelector(".scroll-container").getBoundingClientRect().left,n=this.mapping[e].element.clientWidth||240,i=this.container.querySelector(".scroll-container").clientWidth-n;i<t&&(t=i),this.mapping[e].reference.setOffset(t)}},{key:"load",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.mapping[e],i=n.gl,a=n.element,r=!1;if(!n.reference){var o={droplab:this.droplab,dropdown:a,input:this.filteredSearchInput,tokenKeys:this.filteredSearchTokenKeys,filter:e},s=n.extraArguments||{},l=Object.assign({},o,s);n.reference=new(Function.prototype.bind.apply(i,[null,l]))}t&&n.reference.init(),this.currentDropdown!==N&&this.currentDropdown!==M||(r=!0),this.updateDropdownOffset(e),n.reference.render(t,r),this.currentDropdown=e}},{key:"loadDropdown",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=!1;if(this.droplab||(t=!0,this.droplab=new it.a),e!==M){var n=this.filteredSearchTokenKeys.searchByKey(e.toLowerCase()),i=n&&this.currentDropdown!==n.key&&this.mapping[n.key],a=!n&&this.currentDropdown!==N;if(i||a){var r=n&&n.key?n.key:N;this.load(r,t)}}else this.load(e,t)}},{key:"setDropdown",value:function(){var e=Y.getSearchQuery(!0),t=this.tokenizer.processTokens(e,this.filteredSearchTokenKeys.getKeys()),n=t.lastToken,i=t.searchToken;if(this.currentDropdown&&this.updateCurrentDropdownOffset(),n===i&&null!==n){var r=n.split(":"),o=a()(r[0].split(" ")),s=a()(r[1]),l=K.permissibleOperatorValues.includes(s&&s.trim()),c="";if(r.length>1){var u=K.getLastTokenOperator();c=l&&u?o:M}this.loadDropdown(c)}else if(n){var d=K.getLastTokenOperator();this.loadDropdown(d?n.key:M)}else this.loadDropdown(N)}},{key:"resetDropdowns",value:function(){this.currentDropdown&&(this.mapping[this.currentDropdown].reference.hideDropdown(),this.setDropdown(),this.mapping[this.currentDropdown].reference.resetFilters(),this.updateDropdownOffset(this.currentDropdown))}},{key:"destroyDroplab",value:function(){this.droplab.destroy()}}])&&ot(t.prototype,n),i&&ot(t,i),e}(),lt=n(355);function ct(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],i=!0,a=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){a=!0,r=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw r}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ut(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var dt=function(){function e(t){var n=t.page,i=t.isGroup,a=void 0!==i&&i,o=t.isGroupAncestor,l=void 0===o||o,c=t.isGroupDecendent,d=void 0!==c&&c,h=t.filteredSearchTokenKeys,p=void 0===h?s.a:h,f=t.stateFiltersSelector,m=void 0===f?".issues-state-filters":f;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isGroup=a,this.isGroupAncestor=l,this.isGroupDecendent=d,this.states=["opened","closed","merged","all"],this.page=n,this.container=u.a.container,this.filteredSearchInput=this.container.querySelector(".filtered-search"),this.filteredSearchInputForm=this.filteredSearchInput.form,this.clearSearchButton=this.container.querySelector(".clear-search"),this.tokensContainer=this.container.querySelector(".tokens-container"),this.filteredSearchTokenKeys=p,this.stateFiltersSelector=m,this.filteredSearchInput.dataset.multipleAssignees&&this.filteredSearchTokenKeys.enableMultipleAssignees&&this.filteredSearchTokenKeys.enableMultipleAssignees(),!this.filteredSearchInput.dataset.epicsEndpoint&&this.filteredSearchTokenKeys.removeEpicToken&&this.filteredSearchTokenKeys.removeEpicToken(),this.recentSearchesStore=new O({isLocalStorageAvailable:I.isAvailable(),allowedKeys:this.filteredSearchTokenKeys.getKeys()}),this.searchHistoryDropdownElement=document.querySelector(".js-filtered-search-history-dropdown");var v=this.searchHistoryDropdownElement?this.searchHistoryDropdownElement.dataset.fullPath:"project",g="".concat(v,"-").concat(r[this.page]);this.recentSearchesService=new I(g)}var t,n,i;return t=e,(n=[{key:"setup",value:function(){var e=this;if(this.fetchingRecentSearchesPromise=this.recentSearchesService.fetch().catch((function(e){if("RecentSearchesServiceError"!==e.name)return new c.a(Object(j.a)("An error occurred while parsing recent searches")),[]})).then((function(t){if(t){var n=e.recentSearchesStore.setRecentSearches(e.recentSearchesStore.state.recentSearches.concat(t));e.recentSearchesService.save(n)}})),this.filteredSearchInput){this.tokenizer=m;var t=this.filteredSearchInput.dataset,n=t.runnerTagsEndpoint,i=void 0===n?"":n,a=t.labelsEndpoint,r=void 0===a?"":a,o=t.milestonesEndpoint,s=void 0===o?"":o,l=t.releasesEndpoint,u=void 0===l?"":l,d=t.epicsEndpoint,h=void 0===d?"":d;this.dropdownManager=new st({runnerTagsEndpoint:i,labelsEndpoint:r,milestonesEndpoint:s,releasesEndpoint:u,epicsEndpoint:h,tokenizer:this.tokenizer,page:this.page,isGroup:this.isGroup,isGroupAncestor:this.isGroupAncestor,isGroupDecendent:this.isGroupDecendent,filteredSearchTokenKeys:this.filteredSearchTokenKeys}),this.recentSearchesRoot=new w(this.recentSearchesStore,this.recentSearchesService,this.searchHistoryDropdownElement),this.recentSearchesRoot.init(),this.bindEvents(),this.loadSearchParamsFromURL(),this.dropdownManager.setDropdown(),this.cleanupWrapper=this.cleanup.bind(this),document.addEventListener("beforeunload",this.cleanupWrapper)}}},{key:"cleanup",value:function(){this.unbindEvents(),document.removeEventListener("beforeunload",this.cleanupWrapper),this.recentSearchesRoot&&this.recentSearchesRoot.destroy()}},{key:"bindStateEvents",value:function(){var e=this;this.stateFilters=document.querySelector(".container-fluid ".concat(this.stateFiltersSelector)),this.stateFilters&&(this.searchStateWrapper=this.searchState.bind(this),this.applyToStateFilters((function(t){t.addEventListener("click",e.searchStateWrapper)})))}},{key:"unbindStateEvents",value:function(){var e=this;this.stateFilters&&this.applyToStateFilters((function(t){t.removeEventListener("click",e.searchStateWrapper)}))}},{key:"applyToStateFilters",value:function(e){var t=this;this.stateFilters.querySelectorAll("a[data-state]").forEach((function(n){t.states.indexOf(n.dataset.state)>-1&&e(n)}))}},{key:"bindEvents",value:function(){this.handleFormSubmit=this.handleFormSubmit.bind(this),this.setDropdownWrapper=this.dropdownManager.setDropdown.bind(this.dropdownManager),this.toggleClearSearchButtonWrapper=this.toggleClearSearchButton.bind(this),this.handleInputPlaceholderWrapper=this.handleInputPlaceholder.bind(this),this.handleInputVisualTokenWrapper=this.handleInputVisualToken.bind(this),this.checkForEnterWrapper=this.checkForEnter.bind(this),this.onClearSearchWrapper=this.onClearSearch.bind(this),this.checkForBackspaceWrapper=this.checkForBackspace.call(this),this.removeSelectedTokenKeydownWrapper=this.removeSelectedTokenKeydown.bind(this),this.unselectEditTokensWrapper=this.unselectEditTokens.bind(this),this.editTokenWrapper=this.editToken.bind(this),this.tokenChange=this.tokenChange.bind(this),this.addInputContainerFocusWrapper=this.addInputContainerFocus.bind(this),this.removeInputContainerFocusWrapper=this.removeInputContainerFocus.bind(this),this.onrecentSearchesItemSelectedWrapper=this.onrecentSearchesItemSelected.bind(this),this.removeTokenWrapper=this.removeToken.bind(this),this.filteredSearchInputForm.addEventListener("submit",this.handleFormSubmit),this.filteredSearchInput.addEventListener("input",this.setDropdownWrapper),this.filteredSearchInput.addEventListener("input",this.toggleClearSearchButtonWrapper),this.filteredSearchInput.addEventListener("input",this.handleInputPlaceholderWrapper),this.filteredSearchInput.addEventListener("keyup",this.handleInputVisualTokenWrapper),this.filteredSearchInput.addEventListener("keydown",this.checkForEnterWrapper),this.filteredSearchInput.addEventListener("keyup",this.checkForBackspaceWrapper),this.filteredSearchInput.addEventListener("click",this.tokenChange),this.filteredSearchInput.addEventListener("keyup",this.tokenChange),this.filteredSearchInput.addEventListener("focus",this.addInputContainerFocusWrapper),this.tokensContainer.addEventListener("click",this.removeTokenWrapper),this.tokensContainer.addEventListener("click",this.editTokenWrapper),this.clearSearchButton.addEventListener("click",this.onClearSearchWrapper),document.addEventListener("click",this.unselectEditTokensWrapper),document.addEventListener("click",this.removeInputContainerFocusWrapper),document.addEventListener("keydown",this.removeSelectedTokenKeydownWrapper),h.$on("recentSearchesItemSelected",this.onrecentSearchesItemSelectedWrapper),this.bindStateEvents()}},{key:"unbindEvents",value:function(){this.filteredSearchInputForm.removeEventListener("submit",this.handleFormSubmit),this.filteredSearchInput.removeEventListener("input",this.setDropdownWrapper),this.filteredSearchInput.removeEventListener("input",this.toggleClearSearchButtonWrapper),this.filteredSearchInput.removeEventListener("input",this.handleInputPlaceholderWrapper),this.filteredSearchInput.removeEventListener("keyup",this.handleInputVisualTokenWrapper),this.filteredSearchInput.removeEventListener("keydown",this.checkForEnterWrapper),this.filteredSearchInput.removeEventListener("keyup",this.checkForBackspaceWrapper),this.filteredSearchInput.removeEventListener("click",this.tokenChange),this.filteredSearchInput.removeEventListener("keyup",this.tokenChange),this.filteredSearchInput.removeEventListener("focus",this.addInputContainerFocusWrapper),this.tokensContainer.removeEventListener("click",this.removeTokenWrapper),this.tokensContainer.removeEventListener("click",this.editTokenWrapper),this.clearSearchButton.removeEventListener("click",this.onClearSearchWrapper),document.removeEventListener("click",this.unselectEditTokensWrapper),document.removeEventListener("click",this.removeInputContainerFocusWrapper),document.removeEventListener("keydown",this.removeSelectedTokenKeydownWrapper),h.$off("recentSearchesItemSelected",this.onrecentSearchesItemSelectedWrapper),this.unbindStateEvents()}},{key:"checkForBackspace",value:function(){var e=this,t=0;return function(n){if(8===n.keyCode||46===n.keyCode){var i=K.getLastVisualTokenBeforeInput().lastVisualToken,a=Y.getVisualTokenValues(i),r=a.tokenName,o=a.tokenValue,s=r&&e.canEdit&&e.canEdit(r,o);""===e.filteredSearchInput.value&&i&&s&&2===(t+=1)&&(t=0,e.filteredSearchInput.value=K.getLastTokenPartial(!0),K.removeLastTokenPartial()),e.dropdownManager.updateCurrentDropdownOffset()}else t=0}}},{key:"checkForEnter",value:function(e){if(38===e.keyCode||40===e.keyCode){var t=this.filteredSearchInput.selectionStart;e.preventDefault(),this.filteredSearchInput.setSelectionRange(t,t)}if(13===e.keyCode){var n=this.dropdownManager.mapping[this.dropdownManager.currentDropdown].element.querySelectorAll(".droplab-item-active");e.preventDefault(),n.length||(this.isHandledAsync?(e.stopImmediatePropagation(),this.filteredSearchInput.blur(),this.dropdownManager.resetDropdowns()):this.dropdownManager.destroyDroplab(),this.search())}}},{key:"addInputContainerFocus",value:function(){Object(x.a)(this.filteredSearchInput.closest(".filtered-search-box"),"focus")}},{key:"removeInputContainerFocus",value:function(e){var t=this.filteredSearchInput.closest(".filtered-search-box"),n=t&&t.contains(e.target),i=null!==e.target.closest(".filter-dropdown"),a=null!==e.target.closest("ul[data-dropdown]");n||i||a||!t||t.classList.remove("focus")}},{key:"removeToken",value:function(e){if(e.target.closest(".remove-token")){e.preventDefault(),e.stopImmediatePropagation();var t=e.target.closest(".selectable");K.selectToken(t,!0),this.removeSelectedToken()}}},{key:"unselectEditTokens",value:function(e){var t=this.container.querySelector(".filtered-search-box"),n=t&&t.contains(e.target),i=null!==e.target.closest(".filter-dropdown"),a=e.target.classList.contains("tokens-container");(!n&&!i||a)&&(K.moveInputToTheRight(),this.dropdownManager.resetDropdowns())}},{key:"editToken",value:function(e){var t=e.target.closest(".js-visual-token"),n=t&&t.querySelector(".name").textContent.trim(),i=this.canEdit&&this.canEdit(n);t&&i&&(e.preventDefault(),e.stopPropagation(),K.editToken(t),this.tokenChange())}},{key:"toggleClearSearchButton",value:function(){var e=Y.getSearchQuery(),t=this.clearSearchButton.classList.contains("hidden");0!==e.length||t?e.length&&t&&this.clearSearchButton.classList.remove("hidden"):this.clearSearchButton.classList.add("hidden")}},{key:"handleInputPlaceholder",value:function(){var e=Y.getSearchQuery(),t=Object(j.a)("Search or filter results..."),n=this.filteredSearchInput.placeholder;0===e.length&&n!==t?this.filteredSearchInput.placeholder=t:e.length>0&&""!==n&&(this.filteredSearchInput.placeholder="")}},{key:"removeSelectedTokenKeydown",value:function(e){8!==e.keyCode&&46!==e.keyCode||this.removeSelectedToken()}},{key:"removeSelectedToken",value:function(){K.removeSelectedToken(),this.handleInputPlaceholder(),this.toggleClearSearchButton(),this.dropdownManager.updateCurrentDropdownOffset()}},{key:"onClearSearch",value:function(e){e.preventDefault(),this.clearSearch()}},{key:"clearSearch",value:function(){var e=this;this.filteredSearchInput.value="";var t=[];[].forEach.call(this.tokensContainer.children,(function(n){var i=n.classList.contains("js-visual-token");if(i){var a=Y.getVisualTokenValues(n),r=a.tokenName,o=a.tokenValue;i=e.canEdit&&e.canEdit(r,o)}i&&t.push(n)})),t.forEach((function(e){e.parentElement.removeChild(e)})),this.clearSearchButton.classList.add("hidden"),this.handleInputPlaceholder(),this.dropdownManager.resetDropdowns(),this.isHandledAsync&&this.search()}},{key:"handleInputVisualToken",value:function(e){var t=this;if(e.keyCode!==lt.a){var n=this.filteredSearchInput,i=this.tokenizer.processTokens(n.value,this.filteredSearchTokenKeys.getKeys()),r=i.tokens,o=i.searchToken,s=K.getLastVisualTokenBeforeInput().isLastVisualTokenValid;if(s){r.forEach((function(e){n.value=n.value.replace("".concat(e.key,":").concat(e.operator).concat(e.symbol).concat(e.value),""),K.addFilterVisualToken(e.key,e.operator,"".concat(e.symbol).concat(e.value),{uppercaseTokenName:t.filteredSearchTokenKeys.shouldUppercaseTokenName(e.key),capitalizeTokenValue:t.filteredSearchTokenKeys.shouldCapitalizeTokenValue(e.key)})}));var l=o.split(":");if(l.length>1){var c=l[0].split(" "),u=a()(c);if(c.length>1){c.pop();var d=c.join(" ");n.value=n.value.replace(d,""),K.addSearchVisualToken(d)}K.addFilterVisualToken(u,null,null,{uppercaseTokenName:this.filteredSearchTokenKeys.shouldUppercaseTokenName(u),capitalizeTokenValue:this.filteredSearchTokenKeys.shouldCapitalizeTokenValue(u)}),n.value=n.value.replace("".concat(u,":"),"")}}else if(s||K.getLastTokenOperator()){if(o.match(/([~%@]{0,1}".+")|([~%@]{0,1}'.+')|^((?![~%@]')(?![~%@]")(?!')(?!")).*/g)&&" "===n.value[n.value.length-1]){var h=K.getLastTokenPartial();K.addFilterVisualToken(o,null,null,{capitalizeTokenValue:this.filteredSearchTokenKeys.shouldCapitalizeTokenValue(h)}),n.value=n.value.replace(o,"").trim()}}else{var p=K.getLastTokenPartial(),f=o&&o.trim();K.permissibleOperatorValues.includes(f)&&(K.removeLastTokenPartial(),K.addFilterVisualToken(p,f,null,{capitalizeTokenValue:this.filteredSearchTokenKeys.shouldCapitalizeTokenValue(p)}),n.value=n.value.replace(o,"").trim())}}}},{key:"handleFormSubmit",value:function(e){e.preventDefault(),this.search()}},{key:"saveCurrentSearchQuery",value:function(){var e=this;this.fetchingRecentSearchesPromise.then((function(){var t=Y.getSearchQuery();if(t.length>0){var n=e.recentSearchesStore.addRecentSearch(t);e.recentSearchesService.save(n)}})).catch((function(){}))}},{key:"getAllParams",value:function(e){return this.modifyUrlParams?this.modifyUrlParams(e):e}},{key:"transformParams",value:function(t){var n=this,i=new RegExp(/not\[(\w+)\]\[?\]?=(.*)/);return t.map((function(t){var a=t.match(i);if(a&&3===a.length){var r=a[1];if(e.notTransformableQueryParams.includes(r)||n.filteredSearchTokenKeys.searchByConditionUrl(t))return t;var o=a[2],s=encodeURIComponent("!=");return"".concat(r,"=").concat(s).concat(o)}var l=ct(t.split("="),2),c=l[0],u=l[1];if(e.notTransformableQueryParams.includes(c)||n.filteredSearchTokenKeys.searchByConditionUrl(t))return t;var d=encodeURIComponent("=");return"".concat(c,"=").concat(d).concat(u)}))}},{key:"loadSearchParamsFromURL",value:function(){var e=this,t=Object(o.p)(),n=this.transformParams(t),i=this.getAllParams(n),a=this.getUsernameParams(),r=!1;i.forEach((function(t){var n=t.split("="),i=decodeURIComponent(n[0]),o=n[1],s=e.filteredSearchTokenKeys.searchByConditionUrl(t);if(s){r=!0;var l=e.canEdit&&e.canEdit(s.tokenKey);K.addFilterVisualToken(s.tokenKey,s.operator,s.value,{canEdit:l})}else{var c=o?decodeURIComponent(o.replace(/\+/g," ")):o,u=e.filteredSearchTokenKeys.searchByKeyParam(i);if(u){var d=u.key,h=u.symbol,p="";-1!==c.indexOf(" ")&&(p=-1===c.indexOf('"')?'"':"'"),r=!0;var f=e.canEdit&&e.canEdit(d,c),m=u.uppercaseTokenName,v=u.capitalizeTokenValue,g=K.getOperatorToken(c),b=K.getValueToken(c);K.addFilterVisualToken(d,g,"".concat(h).concat(p).concat(b).concat(p),{canEdit:f,uppercaseTokenName:m,capitalizeTokenValue:v})}else if(u||"assignee_id"!==i)if(u||"author_id"!==i)u||"search"!==i||(r=!0,e.filteredSearchInput.value=c);else{var y=parseInt(o,10);if(a[y]){r=!0;var w=e.canEdit&&e.canEdit("author"),k=K.getOperatorToken(a[y]),S=K.getValueToken(a[y]);K.addFilterVisualToken("author",k,"@".concat(S),{canEdit:w})}}else{var _=parseInt(o,10);if(a[_]){r=!0;var O=e.canEdit&&e.canEdit("assignee"),j=K.getOperatorToken(a[_]),E=K.getValueToken(a[_]);K.addFilterVisualToken("assignee",j,"@".concat(E),{canEdit:O})}}}})),this.saveCurrentSearchQuery(),r&&(this.clearSearchButton.classList.remove("hidden"),this.handleInputPlaceholder())}},{key:"searchState",value:function(e){e.preventDefault();var t=e.currentTarget;t.blur();var n=t.dataset&&t.dataset.state;n&&this.search(n)}},{key:"search",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=[],i=Y.getSearchQuery();this.saveCurrentSearchQuery();var a=this.filteredSearchTokenKeys.getKeys(),r=this.tokenizer.processTokens(i,a),s=r.tokens,c=r.searchToken,u=t||Object(o.m)("state")||"opened";if(n.push("state=".concat(u)),s.forEach((function(t){var i=e.filteredSearchTokenKeys.searchByConditionKeyValue(t.key,t.operator,t.value),a=e.filteredSearchTokenKeys.searchByKey(t.key)||{},r=a.param,o=t.key.replace("-","_"),s=r?"".concat(o,"_").concat(r):o,l="";if(i)l=i.url;else{var c=t.value;if(a.lowercaseValueOnSubmit&&(c=c.toLowerCase()),("'"===c[0]&&"'"===c[c.length-1]||'"'===c[0]&&'"'===c[c.length-1])&&(c=c.slice(1,c.length-1)),"!="===t.operator){var u=s.endsWith("[]");l="not[".concat(u?s.slice(0,-2):s,"]").concat(u?"[]":"","=").concat(encodeURIComponent(c))}else l="".concat(s,"=").concat(encodeURIComponent(c))}n.push(l)})),c){var d=c.split(" ").map((function(e){return encodeURIComponent(e)})).join("+");n.push("search=".concat(d))}var h="?scope=all&utf8=%E2%9C%93&".concat(n.join("&"));this.updateObject?this.updateObject(h):Object(l.s)(h)}},{key:"getUsernameParams",value:function(){var e={};try{var t=this.filteredSearchInput.getAttribute("data-username-params");JSON.parse(t).forEach((function(t){e[t.id]=t.username}))}catch(e){}return e}},{key:"tokenChange",value:function(){var e=this.dropdownManager.mapping[this.dropdownManager.currentDropdown];if(e){var t=e.reference;this.setDropdownWrapper(),t.dispatchInputEvent()}}},{key:"onrecentSearchesItemSelected",value:function(e){this.clearSearch(),this.filteredSearchInput.value=e,this.filteredSearchInput.dispatchEvent(new CustomEvent("input")),this.search()}},{key:"canEdit",value:function(){return!0}}])&&ut(t.prototype,n),i&&ut(t,i),e}();!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(dt,"notTransformableQueryParams",["scope","utf8","state","search"])},485:function(e,t,n){"use strict";n(72);var i=n(1),a={name:"TimeTrackingHelpState",props:{rootPath:{type:String,required:!0}},computed:{href:function(){return"".concat(this.rootPath,"help/workflow/time_tracking.md")},estimateText:function(){return Object(i.e)(Object(i.d)("estimateCommand|%{slash_command} will update the estimated time with the latest command."),{slash_command:"<code>/estimate</code>"},!1)},spendText:function(){return Object(i.e)(Object(i.d)("spendCommand|%{slash_command} will update the sum of the time spent."),{slash_command:"<code>/spend</code>"},!1)}}},r=n(4),o=Object(r.a)(a,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"time-tracking-help-state"},[n("div",{staticClass:"time-tracking-info"},[n("h4",[e._v(e._s(e.__("Track time with quick actions")))]),e._v(" "),n("p",[e._v(e._s(e.__("Quick actions can be used in the issues description and comment boxes.")))]),e._v(" "),n("p",{domProps:{innerHTML:e._s(e.estimateText)}}),e._v(" "),n("p",{domProps:{innerHTML:e._s(e.spendText)}}),e._v(" "),n("a",{staticClass:"btn btn-default learn-more-button",attrs:{href:e.href}},[e._v(" "+e._s(e.__("Learn more"))+" ")])])])}),[],!1,null,null,null).exports,s=(n(30),n(45)),l=n(99),c={name:"TimeTrackingCollapsedState",components:{icon:s.a},directives:{tooltip:l.a},props:{showComparisonState:{type:Boolean,required:!0},showSpentOnlyState:{type:Boolean,required:!0},showEstimateOnlyState:{type:Boolean,required:!0},showNoTimeTrackingState:{type:Boolean,required:!0},timeSpentHumanReadable:{type:String,required:!1,default:""},timeEstimateHumanReadable:{type:String,required:!1,default:""}},computed:{divClass:function(){return this.showComparisonState?"compare":this.showEstimateOnlyState?"estimate-only":this.showSpentOnlyState?"spend-only":this.showNoTimeTrackingState?"no-tracking":""},spanClass:function(){return this.showComparisonState?"":this.showEstimateOnlyState||this.showSpentOnlyState?"bold":this.showNoTimeTrackingState?"no-value":""},text:function(){return this.showComparisonState?"".concat(this.timeSpentHumanReadable," / ").concat(this.timeEstimateHumanReadable):this.showEstimateOnlyState?"-- / ".concat(this.timeEstimateHumanReadable):this.showSpentOnlyState?"".concat(this.timeSpentHumanReadable," / --"):this.showNoTimeTrackingState?Object(i.a)("None"):""},timeTrackedTooltipText:function(){var e;return this.showComparisonState?e=Object(i.a)("Time remaining"):this.showEstimateOnlyState?e=Object(i.a)("Estimated"):this.showSpentOnlyState&&(e=Object(i.a)("Time spent")),Object(i.e)("%{title}: %{text}",{title:e,text:this.text})},tooltipText:function(){return this.showNoTimeTrackingState?Object(i.a)("Time tracking"):this.timeTrackedTooltipText}}},u=Object(r.a)(c,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"sidebar-collapsed-icon",attrs:{title:this.tooltipText,"data-container":"body","data-placement":"left","data-boundary":"viewport"}},[t("icon",{attrs:{name:"timer"}}),this._v(" "),t("div",{staticClass:"time-tracking-collapsed-summary"},[t("div",{class:this.divClass},[t("span",{class:this.spanClass},[this._v(" "+this._s(this.text)+" ")])])])],1)}),[],!1,null,null,null).exports,d={name:"TimeTrackingSpentOnlyPane",props:{timeSpentHumanReadable:{type:String,required:!0}},computed:{timeSpent:function(){return Object(i.e)(Object(i.d)("TimeTracking|%{startTag}Spent: %{endTag}%{timeSpentHumanReadable}"),{startTag:'<span class="bold">',endTag:"</span>",timeSpentHumanReadable:this.timeSpentHumanReadable},!1)}}},h=Object(r.a)(d,(function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"time-tracking-spend-only-pane",domProps:{innerHTML:this._s(this.timeSpent)}})}),[],!1,null,null,null).exports,p={name:"TimeTrackingNoTrackingPane"},f=Object(r.a)(p,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"time-tracking-no-tracking-pane"},[t("span",{staticClass:"no-value"},[this._v(" "+this._s(this.__("No estimate or time spent"))+" ")])])}),[],!1,null,null,null).exports,m={name:"TimeTrackingEstimateOnlyPane",props:{timeEstimateHumanReadable:{type:String,required:!0}}},v=Object(r.a)(m,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"time-tracking-estimate-only-pane"},[t("span",{staticClass:"bold"},[this._v(" "+this._s(this.s__("TimeTracking|Estimated:"))+" ")]),this._v(" "+this._s(this.timeEstimateHumanReadable)+"\n")])}),[],!1,null,null,null).exports,g=n(716),b=n(62),y={name:"TimeTrackingComparisonPane",components:{GlProgressBar:g.a},directives:{tooltip:l.a},props:{timeSpent:{type:Number,required:!0},timeEstimate:{type:Number,required:!0},timeSpentHumanReadable:{type:String,required:!0},timeEstimateHumanReadable:{type:String,required:!0},limitToHours:{type:Boolean,required:!1,default:!1}},computed:{parsedTimeRemaining:function(){var e=this.timeEstimate-this.timeSpent;return Object(b.o)(e,{limitToHours:this.limitToHours})},timeRemainingHumanReadable:function(){return Object(b.r)(this.parsedTimeRemaining)},timeRemainingTooltip:function(){var e=this.timeRemainingHumanReadable;return this.timeRemainingMinutes<0?Object(i.e)(Object(i.d)("TimeTracking|Over by %{timeRemainingHumanReadable}"),{timeRemainingHumanReadable:e}):Object(i.e)(Object(i.d)("TimeTracking|Time remaining: %{timeRemainingHumanReadable}"),{timeRemainingHumanReadable:e})},timeRemainingMinutes:function(){return this.timeEstimate-this.timeSpent},timeRemainingPercent:function(){return Math.floor(this.timeSpent/this.timeEstimate*100)},timeRemainingStatusClass:function(){return this.timeEstimate>=this.timeSpent?"within_estimate":"over_estimate"},progressBarVariant:function(){return this.timeRemainingPercent>100?"danger":"primary"}}},w=Object(r.a)(y,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"time-tracking-comparison-pane"},[n("div",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"compare-meter",class:e.timeRemainingStatusClass,attrs:{title:e.timeRemainingTooltip}},[n("gl-progress-bar",{attrs:{value:e.timeRemainingPercent,variant:e.progressBarVariant}}),e._v(" "),n("div",{staticClass:"compare-display-container"},[n("div",{staticClass:"compare-display float-left"},[n("span",{staticClass:"compare-label"},[e._v(e._s(e.s__("TimeTracking|Spent")))]),e._v(" "),n("span",{staticClass:"compare-value spent"},[e._v(e._s(e.timeSpentHumanReadable))])]),e._v(" "),n("div",{staticClass:"compare-display estimated float-right"},[n("span",{staticClass:"compare-label"},[e._v(e._s(e.s__("TimeTrackingEstimated|Est")))]),e._v(" "),n("span",{staticClass:"compare-value"},[e._v(e._s(e.timeEstimateHumanReadable))])])])],1)])}),[],!1,null,null,null).exports,k=n(135),S={name:"IssuableTimeTracker",components:{TimeTrackingCollapsedState:u,TimeTrackingEstimateOnlyPane:v,TimeTrackingSpentOnlyPane:h,TimeTrackingNoTrackingPane:f,TimeTrackingComparisonPane:w,TimeTrackingHelpState:o},props:{timeEstimate:{type:Number,required:!0},timeSpent:{type:Number,required:!0},humanTimeEstimate:{type:String,required:!1,default:""},humanTimeSpent:{type:String,required:!1,default:""},limitToHours:{type:Boolean,default:!1},rootPath:{type:String,required:!0}},data:function(){return{showHelp:!1}},computed:{hasTimeSpent:function(){return Boolean(this.timeSpent)},hasTimeEstimate:function(){return Boolean(this.timeEstimate)},showComparisonState:function(){return this.hasTimeEstimate&&this.hasTimeSpent},showEstimateOnlyState:function(){return this.hasTimeEstimate&&!this.hasTimeSpent},showSpentOnlyState:function(){return this.hasTimeSpent&&!this.hasTimeEstimate},showNoTimeTrackingState:function(){return!this.hasTimeEstimate&&!this.hasTimeSpent},showHelpState:function(){return Boolean(this.showHelp)}},created:function(){k.a.$on("timeTracker:updateData",this.update)},methods:{toggleHelpState:function(e){this.showHelp=e},update:function(e){var t=e.timeEstimate,n=e.timeSpent,i=e.humanTimeEstimate,a=e.humanTimeSpent;this.timeEstimate=t,this.timeSpent=n,this.humanTimeEstimate=i,this.humanTimeSpent=a}}},_=Object(r.a)(S,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"time_tracker time-tracking-component-wrap"},[n("time-tracking-collapsed-state",{attrs:{"show-comparison-state":e.showComparisonState,"show-no-time-tracking-state":e.showNoTimeTrackingState,"show-help-state":e.showHelpState,"show-spent-only-state":e.showSpentOnlyState,"show-estimate-only-state":e.showEstimateOnlyState,"time-spent-human-readable":e.humanTimeSpent,"time-estimate-human-readable":e.humanTimeEstimate}}),e._v(" "),n("div",{staticClass:"title hide-collapsed"},[e._v("\n    "+e._s(e.__("Time tracking"))+"\n    "),e.showHelpState?e._e():n("div",{staticClass:"help-button float-right",on:{click:function(t){return e.toggleHelpState(!0)}}},[n("i",{staticClass:"fa fa-question-circle",attrs:{"aria-hidden":"true"}})]),e._v(" "),e.showHelpState?n("div",{staticClass:"close-help-button float-right",on:{click:function(t){return e.toggleHelpState(!1)}}},[n("i",{staticClass:"fa fa-close",attrs:{"aria-hidden":"true"}})]):e._e()]),e._v(" "),n("div",{staticClass:"time-tracking-content hide-collapsed"},[e.showEstimateOnlyState?n("time-tracking-estimate-only-pane",{attrs:{"time-estimate-human-readable":e.humanTimeEstimate}}):e._e(),e._v(" "),e.showSpentOnlyState?n("time-tracking-spent-only-pane",{attrs:{"time-spent-human-readable":e.humanTimeSpent}}):e._e(),e._v(" "),e.showNoTimeTrackingState?n("time-tracking-no-tracking-pane"):e._e(),e._v(" "),e.showComparisonState?n("time-tracking-comparison-pane",{attrs:{"time-estimate":e.timeEstimate,"time-spent":e.timeSpent,"time-spent-human-readable":e.humanTimeSpent,"time-estimate-human-readable":e.humanTimeEstimate,"limit-to-hours":e.limitToHours}}):e._e(),e._v(" "),n("transition",{attrs:{name:"help-state-toggle"}},[e.showHelpState?n("time-tracking-help-state",{attrs:{"root-path":e.rootPath}}):e._e()],1)],1)],1)}),[],!1,null,null,null);t.a=_.exports},494:function(e,t,n){"use strict";var i=n(467),a=n(343),r=n(223),o=n(546),s=n(459),l=Math.min,c=[].lastIndexOf,u=!!c&&1/[1].lastIndexOf(1,-0)<0,d=o("lastIndexOf"),h=s("indexOf",{ACCESSORS:!0,1:0}),p=u||!d||!h;e.exports=p?function(e){if(u)return c.apply(this,arguments)||0;var t=i(this),n=r(t.length),o=n-1;for(arguments.length>1&&(o=l(o,a(arguments[1]))),o<0&&(o=n+o);o>=0;o--)if(o in t&&t[o]===e)return o||0;return-1}:c},498:function(e,t,n){var i=n(108),a=n(494);i({target:"Array",proto:!0,forced:a!==[].lastIndexOf},{lastIndexOf:a})},533:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n(42),n(104),n(18),n(64);var i=n(0),a=n.n(i),r=n(51),o=n.n(r),s=n(222),l=n(248);var c=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.userSelect=new l.a(t),n.e(239).then(n.t.bind(null,428,7)).then((function(){a()("select.select2").select2({width:"resolve",dropdownAutoWidth:!0})})).catch((function(){})),a()(".issuable-sidebar .inline-update").on("change","select",(function(){return a()(this).submit()})),a()(".issuable-sidebar .inline-update").on("change",".js-assignee",(function(){return a()(this).submit()})),a()(document).off("click",".issuable-sidebar .dropdown-content a").on("click",".issuable-sidebar .dropdown-content a",(function(e){return e.preventDefault()})),a()(document).off("click",".edit-link").on("click",".edit-link",(function(e){e.preventDefault();var t=a()(this).parents(".block"),n=t.find(".selectbox");n.is(":visible")?(n.hide(),t.find(".value:not(.dont-hide)").show()):(n.show(),t.find(".value:not(.dont-hide)").hide()),n.is(":visible")&&setTimeout((function(){return t.find(".dropdown-menu-toggle").trigger("click")}),0)})),window.addEventListener("beforeunload",(function(){var e=s.b.getBreakpointSize();["xs","sm","md"].includes(e)&&o.a.set("collapsed_gutter",!0)}))}},534:function(e,t,n){"use strict";n(24),n(49),n(56),n(30),n(28),n(78),n(40),n(18),n(68),n(36),n(41),n(309),n(65),n(46),n(69),n(35);var i=n(828),a=n(1),r=(n(72),{props:{user:{type:Object,required:!0},imgSize:{type:Number,required:!0},issuableType:{type:String,required:!1,default:"issue"}},computed:{assigneeAlt:function(){return Object(a.e)(Object(a.a)("%{userName}'s avatar"),{userName:this.user.name})},avatarUrl:function(){return this.user.avatar||this.user.avatar_url||gon.default_avatar_url},isMergeRequest:function(){return"merge_request"===this.issuableType},hasMergeIcon:function(){return this.isMergeRequest&&!this.user.can_merge}}}),o=n(4),s=Object(o.a)(r,(function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"position-relative"},[t("img",{staticClass:"avatar avatar-inline m-0",class:"s"+this.imgSize,attrs:{alt:this.assigneeAlt,src:this.avatarUrl,width:this.imgSize,"data-qa-selector":"avatar_image"}}),this._v(" "),this.hasMergeIcon?t("i",{staticClass:"fa fa-exclamation-triangle merge-icon",attrs:{"aria-hidden":"true"}}):this._e()])}),[],!1,null,null,null).exports,l={components:{AssigneeAvatar:s},props:{user:{type:Object,required:!0},issuableType:{type:String,required:!1,default:"issue"}}},c=Object(o.a)(l,(function(){var e=this.$createElement,t=this._self._c||e;return t("button",{staticClass:"btn-link",attrs:{type:"button"}},[t("assignee-avatar",{attrs:{user:this.user,"img-size":24,"issuable-type":this.issuableType}}),this._v(" "),t("span",{staticClass:"author"},[this._v(" "+this._s(this.user.name)+" ")])],1)}),[],!1,null,null,null).exports,u={directives:{GlTooltip:i.a},components:{CollapsedAssignee:c},props:{users:{type:Array,required:!0},issuableType:{type:String,required:!1,default:"issue"}},computed:{isMergeRequest:function(){return"merge_request"===this.issuableType},hasNoUsers:function(){return!this.users.length},hasMoreThanOneAssignee:function(){return this.users.length>1},hasMoreThanTwoAssignees:function(){return this.users.length>2},allAssigneesCanMerge:function(){return this.users.every((function(e){return e.can_merge}))},sidebarAvatarCounter:function(){return this.users.length>99?"".concat(99,"+"):"+".concat(this.users.length-1)},collapsedUsers:function(){var e=this.hasMoreThanTwoAssignees?1:this.users.length;return this.users.slice(0,e)},tooltipTitleMergeStatus:function(){if(!this.isMergeRequest)return"";var e=this.users.filter((function(e){return e.can_merge})).length;return e===this.users.length?"":e>0?Object(a.e)(Object(a.a)("%{mergeLength}/%{usersLength} can merge"),{mergeLength:e,usersLength:this.users.length}):1===this.users.length?Object(a.a)("cannot merge"):Object(a.a)("no one can merge")},tooltipTitle:function(){var e=Math.min(5,this.users.length),t=this.users.slice(0,e).map((function(e){return e.name}));if(!this.users.length)return Object(a.a)("Assignee(s)");this.users.length>t.length&&t.push(Object(a.e)(Object(a.a)("+ %{amount} more"),{amount:this.users.length-t.length}));var n=t.join(", ");return this.tooltipTitleMergeStatus?"".concat(n," (").concat(this.tooltipTitleMergeStatus,")"):n},tooltipOptions:function(){return{container:"body",placement:"left",boundary:"viewport"}}}},d=Object(o.a)(u,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:e.tooltipOptions,expression:"tooltipOptions"}],staticClass:"sidebar-collapsed-icon sidebar-collapsed-user",class:{"multiple-users":e.hasMoreThanOneAssignee},attrs:{title:e.tooltipTitle}},[e.hasNoUsers?n("i",{staticClass:"fa fa-user",attrs:{"aria-label":e.__("None")}}):e._e(),e._v(" "),e._l(e.collapsedUsers,(function(t){return n("collapsed-assignee",{key:t.id,attrs:{user:t,"issuable-type":e.issuableType}})})),e._v(" "),e.hasMoreThanTwoAssignees?n("button",{staticClass:"btn-link",attrs:{type:"button"}},[n("span",{staticClass:"avatar-counter sidebar-avatar-counter"},[e._v(" "+e._s(e.sidebarAvatarCounter)+" ")]),e._v(" "),e.isMergeRequest&&!e.allAssigneesCanMerge?n("i",{staticClass:"fa fa-exclamation-triangle merge-icon",attrs:{"aria-hidden":"true"}}):e._e()]):e._e()],2)}),[],!1,null,null,null).exports,h={components:{AssigneeAvatar:s,GlLink:n(301).a},directives:{GlTooltip:i.a},props:{user:{type:Object,required:!0},rootPath:{type:String,required:!0},tooltipPlacement:{type:String,default:"bottom",required:!1},tooltipHasName:{type:Boolean,default:!0,required:!1},issuableType:{type:String,default:"issue",required:!1}},computed:{cannotMerge:function(){return"merge_request"===this.issuableType&&!this.user.can_merge},tooltipTitle:function(){return this.cannotMerge&&this.tooltipHasName?Object(a.e)(Object(a.a)("%{userName} (cannot merge)"),{userName:this.user.name}):this.cannotMerge?Object(a.a)("Cannot merge"):this.tooltipHasName?this.user.name:""},tooltipOption:function(){return{container:"body",placement:this.tooltipPlacement,boundary:"viewport"}},assigneeUrl:function(){return this.user.web_url}}},p=Object(o.a)(h,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("gl-link",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:e.tooltipOption,expression:"tooltipOption"}],staticClass:"d-inline-block",attrs:{href:e.assigneeUrl,title:e.tooltipTitle}},[n("span",{staticClass:"d-flex"},[n("assignee-avatar",{attrs:{user:e.user,"img-size":32,"issuable-type":e.issuableType}}),e._v(" "),e._t("default",null,{user:e.user})],2)])}),[],!1,null,null,null).exports,f={components:{AssigneeAvatarLink:p},props:{users:{type:Array,required:!0},rootPath:{type:String,required:!0},issuableType:{type:String,required:!1,default:"issue"}},data:function(){return{showLess:!0}},computed:{firstUser:function(){return this.users[0]},hasOneUser:function(){return 1===this.users.length},hiddenAssigneesLabel:function(){var e=this.numberOfHiddenAssignees;return Object(a.e)(Object(a.a)("+ %{numberOfHiddenAssignees} more"),{numberOfHiddenAssignees:e})},renderShowMoreSection:function(){return this.users.length>5},numberOfHiddenAssignees:function(){return this.users.length-5},uncollapsedUsers:function(){var e=this.showLess?Math.min(this.users.length,5):this.users.length;return this.showLess?this.users.slice(0,e):this.users},username:function(){return"@".concat(this.firstUser.username)}},methods:{toggleShowLess:function(){this.showLess=!this.showLess}}};function m(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var v={name:"Assignees",components:{CollapsedAssigneeList:d,UncollapsedAssigneeList:Object(o.a)(f,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.hasOneUser?n("assignee-avatar-link",{attrs:{"tooltip-placement":"left","tooltip-has-name":!1,user:e.firstUser,"root-path":e.rootPath,"issuable-type":e.issuableType},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.user;return[n("div",{staticClass:"ml-2"},[n("span",{staticClass:"author"},[e._v(" "+e._s(i.name)+" ")]),e._v(" "),n("span",{staticClass:"username"},[e._v(" "+e._s(e.username)+" ")])])]}}],null,!1,1761455348)}):n("div",[n("div",{staticClass:"user-list"},e._l(e.uncollapsedUsers,(function(t){return n("div",{key:t.id,staticClass:"user-item"},[n("assignee-avatar-link",{attrs:{user:t,"root-path":e.rootPath,"issuable-type":e.issuableType}})],1)})),0),e._v(" "),e.renderShowMoreSection?n("div",{staticClass:"user-list-more"},[n("button",{staticClass:"btn-link",attrs:{type:"button","data-qa-selector":"more_assignees_link"},on:{click:e.toggleShowLess}},[e.showLess?[e._v("\n        "+e._s(e.hiddenAssigneesLabel)+"\n      ")]:[e._v(e._s(e.__("- show less")))]],2)]):e._e()])}),[],!1,null,null,null).exports},props:{rootPath:{type:String,required:!0},users:{type:Array,required:!0},editable:{type:Boolean,required:!0},issuableType:{type:String,required:!1,default:"issue"}},computed:{hasNoUsers:function(){return!this.users.length},sortedAssigness:function(){var e=this.users.filter((function(e){return e.can_merge})),t=this.users.filter((function(e){return!e.can_merge}));return[].concat(m(e),m(t))}},methods:{assignSelf:function(){this.$emit("assign-self")}}},g=Object(o.a)(v,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("collapsed-assignee-list",{attrs:{users:e.sortedAssigness,"issuable-type":e.issuableType}}),e._v(" "),n("div",{staticClass:"value hide-collapsed"},[e.hasNoUsers?[n("span",{staticClass:"assign-yourself no-value qa-assign-yourself"},[e._v("\n        "+e._s(e.__("None"))+"\n        "),e.editable?[e._v("\n          -\n          "),n("button",{staticClass:"btn-link",attrs:{type:"button"},on:{click:e.assignSelf}},[e._v("\n            "+e._s(e.__("assign yourself"))+"\n          ")])]:e._e()],2)]:n("uncollapsed-assignee-list",{attrs:{users:e.sortedAssigness,"root-path":e.rootPath,"issuable-type":e.issuableType}})],2)],1)}),[],!1,null,null,null);t.a=g.exports},536:function(e,t,n){"use strict";n(72);var i=n(760),a=n(1),r={name:"AssigneeTitle",components:{GlLoadingIcon:i.a},props:{loading:{type:Boolean,required:!1,default:!1},numberOfAssignees:{type:Number,required:!0},editable:{type:Boolean,required:!0},showToggle:{type:Boolean,required:!1,default:!1}},computed:{assigneeTitle:function(){var e=this.numberOfAssignees;return Object(a.c)("Assignee","%d Assignees",e)}}},o=n(4),s=Object(o.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"title hide-collapsed"},[e._v("\n  "+e._s(e.assigneeTitle)+"\n  "),e.loading?n("gl-loading-icon",{staticClass:"align-bottom",attrs:{inline:""}}):e._e(),e._v(" "),e.editable?n("a",{staticClass:"js-sidebar-dropdown-toggle edit-link float-right",attrs:{href:"#","data-track-event":"click_edit_button","data-track-label":"right_sidebar","data-track-property":"assignee"}},[e._v("\n    "+e._s(e.__("Edit"))+"\n  ")]):e._e(),e._v(" "),e.showToggle?n("a",{staticClass:"gutter-toggle float-right js-sidebar-toggle",attrs:{"aria-label":e.__("Toggle sidebar"),href:"#",role:"button"}},[n("i",{staticClass:"fa fa-angle-double-right",attrs:{"aria-hidden":"true","data-hidden":"true"}})]):e._e()],1)}),[],!1,null,null,null);t.a=s.exports},537:function(e,t,n){"use strict";n(72);var i=n(1),a=n(253),r=n(45),o=n(375),s=n(99),l=n(135),c=Object(i.a)("Notifications on"),u=Object(i.a)("Notifications off"),d={directives:{tooltip:s.a},components:{icon:r.a,toggleButton:o.a},mixins:[a.a.mixin({label:"right_sidebar"})],props:{loading:{type:Boolean,required:!1,default:!1},projectEmailsDisabled:{type:Boolean,required:!1,default:!1},subscribeDisabledDescription:{type:String,required:!1,default:""},subscribed:{type:Boolean,required:!1,default:null},id:{type:Number,required:!1,default:null}},computed:{tracking:function(){return{category:this.$options._componentTag}},showLoadingState:function(){return null===this.subscribed},notificationIcon:function(){return this.projectEmailsDisabled?"notifications-off":this.subscribed?"notifications":"notifications-off"},notificationTooltip:function(){return this.projectEmailsDisabled?this.subscribeDisabledDescription:this.subscribed?c:u},notificationText:function(){return this.projectEmailsDisabled?this.subscribeDisabledDescription:Object(i.a)("Notifications")}},methods:{toggleSubscription:function(){l.a.$emit("toggleSubscription",this.id),this.$emit("toggleSubscription",this.id),this.track("toggle_button",{property:"notifications",value:this.subscribed?0:1})},onClickCollapsedIcon:function(){this.$emit("toggleSidebar")}}},h=n(4),p=Object(h.a)(d,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],ref:"tooltip",staticClass:"sidebar-collapsed-icon",attrs:{title:e.notificationTooltip,"data-container":"body","data-placement":"left","data-boundary":"viewport"},on:{click:e.onClickCollapsedIcon}},[n("icon",{staticClass:"sidebar-item-icon is-active",attrs:{name:e.notificationIcon,size:16,"aria-hidden":"true"}})],1),e._v(" "),n("span",{staticClass:"issuable-header-text hide-collapsed float-left"},[e._v(" "+e._s(e.notificationText)+" ")]),e._v(" "),e.projectEmailsDisabled?e._e():n("toggle-button",{ref:"toggleButton",staticClass:"float-right hide-collapsed js-issuable-subscribe-button",attrs:{"is-loading":e.showLoadingState,value:e.subscribed},on:{change:e.toggleSubscription}})],1)}),[],!1,null,null,null);t.a=p.exports},677:function(e,t,n){"use strict";var i=n(389),a=n(60),r=n.n(a);const o={components:{BDropdownDivider:i.a},inheritAttrs:!1};const s=r()({render:function(){var e=this.$createElement;return(this._self._c||e)("b-dropdown-divider",this._g(this._b({},"b-dropdown-divider",this.$attrs,!1),this.$listeners))},staticRenderFns:[]},void 0,o,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=s},70:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));n(24),n(49),n(56),n(40),n(90),n(18),n(36),n(41);var i=n(8),a=n.n(i),r=n(9);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var u=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=s(this,l(t).call(this)),a.a.bind("g p",(function(){return Object(r.a)(".shortcuts-project")})),a.a.bind("g v",(function(){return Object(r.a)(".shortcuts-project-activity")})),a.a.bind("g r",(function(){return Object(r.a)(".shortcuts-project-releases")})),a.a.bind("g f",(function(){return Object(r.a)(".shortcuts-tree")})),a.a.bind("g c",(function(){return Object(r.a)(".shortcuts-commits")})),a.a.bind("g j",(function(){return Object(r.a)(".shortcuts-builds")})),a.a.bind("g n",(function(){return Object(r.a)(".shortcuts-network")})),a.a.bind("g d",(function(){return Object(r.a)(".shortcuts-repository-charts")})),a.a.bind("g i",(function(){return Object(r.a)(".shortcuts-issues")})),a.a.bind("g b",(function(){return Object(r.a)(".shortcuts-issue-boards")})),a.a.bind("g m",(function(){return Object(r.a)(".shortcuts-merge_requests")})),a.a.bind("g w",(function(){return Object(r.a)(".shortcuts-wiki")})),a.a.bind("g s",(function(){return Object(r.a)(".shortcuts-snippets")})),a.a.bind("g k",(function(){return Object(r.a)(".shortcuts-kubernetes")})),a.a.bind("g e",(function(){return Object(r.a)(".shortcuts-environments")})),a.a.bind("g l",(function(){return Object(r.a)(".shortcuts-metrics")})),a.a.bind("i",(function(){return Object(r.a)(".shortcuts-new-issue")})),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,e),t}(n(107).a)},716:function(e,t,n){"use strict";var i=n(63),a=n(79),r=n(142),o=n(181),s=n(37),l=i.a.extend({name:"BProgressBar",mixins:[r.a],inject:{bvProgress:{default:function(){return{}}}},props:{value:{type:Number,default:0},label:{type:String,default:null},labelHtml:{type:String},max:{type:Number,default:null},precision:{type:Number,default:null},variant:{type:String,default:function(){return Object(a.b)("BProgressBar","variant")}},striped:{type:Boolean,default:null},animated:{type:Boolean,default:null},showProgress:{type:Boolean,default:null},showValue:{type:Boolean,default:null}},computed:{progressBarClasses:function(){return[this.computedVariant?"bg-".concat(this.computedVariant):"",this.computedStriped||this.computedAnimated?"progress-bar-striped":"",this.computedAnimated?"progress-bar-animated":""]},progressBarStyles:function(){return{width:this.value/this.computedMax*100+"%"}},computedProgress:function(){var e=Math.pow(10,this.computedPrecision);return Math.round(100*e*this.value/this.computedMax)/e},computedMax:function(){return Object(s.f)(this.max)?this.max:this.bvProgress.max||100},computedVariant:function(){return this.variant||this.bvProgress.variant},computedPrecision:function(){return Object(s.f)(this.precision)?this.precision:this.bvProgress.precision||0},computedStriped:function(){return Object(s.a)(this.striped)?this.striped:this.bvProgress.striped||!1},computedAnimated:function(){return Object(s.a)(this.animated)?this.animated:this.bvProgress.animated||!1},computedShowProgress:function(){return Object(s.a)(this.showProgress)?this.showProgress:this.bvProgress.showProgress||!1},computedShowValue:function(){return Object(s.a)(this.showValue)?this.showValue:this.bvProgress.showValue||!1}},render:function(e){var t=e();return this.hasNormalizedSlot("default")?t=this.normalizeSlot("default"):this.label||this.labelHtml?t=e("span",{domProps:Object(o.a)(this.labelHtml,this.label)}):this.computedShowProgress?t=this.computedProgress.toFixed(this.computedPrecision):this.computedShowValue&&(t=this.value.toFixed(this.computedPrecision)),e("div",{staticClass:"progress-bar",class:this.progressBarClasses,style:this.progressBarStyles,attrs:{role:"progressbar","aria-valuemin":"0","aria-valuemax":this.computedMax.toString(),"aria-valuenow":this.value.toFixed(this.computedPrecision)}},[t])}}),c=i.a.extend({name:"BProgress",mixins:[r.a],provide:function(){return{bvProgress:this}},props:{variant:{type:String,default:function(){return Object(a.b)("BProgress","variant")}},striped:{type:Boolean,default:!1},animated:{type:Boolean,default:!1},height:{type:String,default:null},precision:{type:Number,default:0},showProgress:{type:Boolean,default:!1},showValue:{type:Boolean,default:!1},max:{type:Number,default:100},value:{type:Number,default:0}},computed:{progressHeight:function(){return{height:this.height||null}}},render:function(e){var t=this.normalizeSlot("default");return t||(t=e(l,{props:{value:this.value,max:this.max,precision:this.precision,variant:this.variant,animated:this.animated,striped:this.striped,showProgress:this.showProgress,showValue:this.showValue}})),e("div",{class:["progress"],style:this.progressHeight},[t])}}),u=n(60);const d={components:{BProgress:c}};const h=n.n(u)()({render:function(){var e=this.$createElement;return(this._self._c||e)("b-progress",this._b({},"b-progress",this.$attrs,!1))},staticRenderFns:[]},void 0,d,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=h},73:function(e,t,n){"use strict";n(30),n(35),n(18),n(64);var i=n(0),a=n.n(i),r=n(32),o=(n(65),n(69),n(55),n(67),n(71));function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.projectSelectInput=a()(t),this.newItemBtn=a()(".new-project-item-link"),this.resourceType=this.newItemBtn.data("type"),this.resourceLabel=this.newItemBtn.data("label"),this.formattedText=this.deriveTextVariants(),this.groupId=this.projectSelectInput.data("groupId"),this.bindEvents(),this.initLocalStorage()}var t,i,r;return t=e,(i=[{key:"bindEvents",value:function(){var e=this;this.projectSelectInput.siblings(".new-project-item-select-button").on("click",(function(t){return e.openDropdown(t)})),this.newItemBtn.on("click",(function(t){e.getProjectFromLocalStorage()||(t.preventDefault(),e.openDropdown(t))})),this.projectSelectInput.on("change",(function(){return e.selectProject()}))}},{key:"initLocalStorage",value:function(){o.a.isLocalStorageAccessSafe()&&(this.localStorageKey=["group",this.groupId,this.formattedText.localStorageItemType,"recent-project"].join("-"),this.setBtnTextFromLocalStorage())}},{key:"openDropdown",value:function(e){n.e(239).then(n.t.bind(null,428,7)).then((function(){a()(e.currentTarget).siblings(".project-item-select").select2("open")})).catch((function(){}))}},{key:"selectProject",value:function(){var e=JSON.parse(this.projectSelectInput.val()),t={url:"".concat(e.url,"/").concat(this.projectSelectInput.data("relativePath")),name:e.name};this.setNewItemBtnAttributes(t),this.setProjectInLocalStorage(t)}},{key:"setBtnTextFromLocalStorage",value:function(){var e=this.getProjectFromLocalStorage();this.setNewItemBtnAttributes(e)}},{key:"setNewItemBtnAttributes",value:function(e){e?(this.newItemBtn.attr("href",e.url),this.newItemBtn.text("".concat(this.formattedText.defaultTextPrefix," in ").concat(e.name))):this.newItemBtn.text("Select project to create ".concat(this.formattedText.presetTextSuffix))}},{key:"getProjectFromLocalStorage",value:function(){var e=localStorage.getItem(this.localStorageKey);return JSON.parse(e)}},{key:"setProjectInLocalStorage",value:function(e){var t=JSON.stringify(e);localStorage.setItem(this.localStorageKey,t)}},{key:"deriveTextVariants",value:function(){var e=this.resourceLabel;return{localStorageItemType:"new-".concat(this.resourceType.split("_").join("-").slice(0,-1)),defaultTextPrefix:e,presetTextSuffix:this.resourceType.split("_").join(" ").slice(0,-1)}}}])&&s(t.prototype,i),r&&s(t,r),e}(),c=n(1),u=function(){a()(".ajax-project-select").each((function(e,t){var n,i=this,o=a()(t).data("simpleFilter")||!1,s=a()(t).data("select2");return this.groupId=a()(t).data("groupId"),this.userId=a()(t).data("userId"),this.includeGroups=a()(t).data("includeGroups"),this.allProjects=a()(t).data("allProjects")||!1,this.orderBy=a()(t).data("orderBy")||"id",this.withIssuesEnabled=a()(t).data("withIssuesEnabled"),this.withMergeRequestsEnabled=a()(t).data("withMergeRequestsEnabled"),this.withShared=void 0===a()(t).data("withShared")||a()(t).data("withShared"),this.includeProjectsInSubgroups=a()(t).data("includeProjectsInSubgroups")||!1,this.allowClear=a()(t).data("allowClear")||!1,n=Object(c.d)("ProjectSelect|Search for project"),this.includeGroups&&(n+=Object(c.d)("ProjectSelect| or group")),a()(t).select2({placeholder:n,minimumInputLength:0,query:function(e){var t,n=function(t){var n={results:t};return e.callback(n)};return t=i.includeGroups?function(t){return r.a.groups(e.term,{},(function(e){var i=e.concat(t);return n(i)}))}:n,i.groupId?r.a.groupProjects(i.groupId,e.term,{with_issues_enabled:i.withIssuesEnabled,with_merge_requests_enabled:i.withMergeRequestsEnabled,with_shared:i.withShared,include_subgroups:i.includeProjectsInSubgroups},t):i.userId?r.a.userProjects(i.userId,e.term,{with_issues_enabled:i.withIssuesEnabled,with_merge_requests_enabled:i.withMergeRequestsEnabled,with_shared:i.withShared,include_subgroups:i.includeProjectsInSubgroups},t):r.a.projects(e.term,{order_by:i.orderBy,with_issues_enabled:i.withIssuesEnabled,with_merge_requests_enabled:i.withMergeRequestsEnabled,membership:!i.allProjects},t)},id:function(e){return o?e.id:JSON.stringify({name:e.name,url:e.web_url})},text:function(e){return e.name_with_namespace||e.name},initSelection:function(e,t){return r.a.project(e.val()).then((function(e){var n=e.data;return t(n)}))},allowClear:this.allowClear,dropdownCssClass:"ajax-project-dropdown"}),s||o?t:new l(t)}))};t.a=function(){return n.e(239).then(n.t.bind(null,428,7)).then(u).catch((function(){}))}},88:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));n(42),n(89);var i=n(0),a=n.n(i),r=n(51),o=n.n(r),s=n(1),l=n(33);n(28),n(78),n(40),n(46),n(129),n(35),n(77),n(18),n(36),n(41);var c=function(e){return e.reduce((function(e,t){var n=t.name,i=t.value;return Object.assign(e,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},n,i))}),{})},u=n(11),d=n(14),h=n(73);function p(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t=a()("ul.clone-options-dropdown"),n=a()("#project_clone"),i=a()(".js-git-clone-holder .js-clone-dropdown-label"),r=document.querySelector(".js-mobile-git-clone .js-clone-dropdown-label"),s=i.text().trim();s.length>0&&a()("a:contains('".concat(s,"')"),t).addClass("is-active"),a()("a",t).on("click",(function(e){e.preventDefault();var i=a()(e.currentTarget),o=i.attr("href"),s=i.data("cloneType");a()(".is-active",t).removeClass("is-active"),a()('a[data-clone-type="'.concat(s,'"]')).each((function(){var e=a()(this),t=e.find(".dropdown-menu-inner-title").text(),n=e.closest(".project-clone-holder").find(".js-clone-dropdown-label");e.toggleClass("is-active"),n.text(t)})),r?r.dataset.clipboardText=o:n.val(o),a()(".js-git-empty .js-clone").text(o)})),e.initRefSwitcher(),a()(".project-refs-select").on("change",(function(){return a()(this).parents("form").submit()})),a()(".hide-no-ssh-message").on("click",(function(e){return o.a.set("hide_no_ssh_message","false"),a()(this).parents(".no-ssh-key-message").remove(),e.preventDefault()})),a()(".hide-no-password-message").on("click",(function(e){return o.a.set("hide_no_password_message","false"),a()(this).parents(".no-password-message").remove(),e.preventDefault()})),a()(".hide-auto-devops-implicitly-enabled-banner").on("click",(function(e){var t=a()(this).data("project-id"),n="hide_auto_devops_implicitly_enabled_banner_".concat(t);return o.a.set(n,"false"),a()(this).parents(".auto-devops-implicitly-enabled-banner").remove(),e.preventDefault()})),e.projectSelectDropdown()}var t,n,i;return t=e,i=[{key:"projectSelectDropdown",value:function(){Object(h.a)(),a()(".project-item-select").on("click",(function(t){return e.changeProject(a()(t.currentTarget).val())}))}},{key:"changeProject",value:function(e){return window.location=e}},{key:"initRefSwitcher",value:function(){var e=document.createElement("li"),t=document.createElement("a");return t.href="#",a()(".js-project-refs-dropdown").each((function(){var n,i,r,o=a()(this),h=o.data("selected"),p=o.data("fieldName"),f=Boolean(o.data("visit")),m=o.closest("form"),v=m.attr("action"),g=Object(l.h)((n=m[0],i=new FormData(n),r=Array.from(i.keys()).map((function(e){var t=i.getAll(e);return{name:e,value:1===(t=t.filter((function(e){return e}))).length?t[0]:t}})),c(r)),v);return o.glDropdown({data:function(e,t){u.a.get(o.data("refsUrl"),{params:{ref:o.data("ref"),search:e}}).then((function(e){var n=e.data;return t(n)})).catch((function(){return Object(d.a)(Object(s.a)("An error occurred while getting projects"))}))},selectable:!0,filterable:!0,filterRemote:!0,filterByText:!0,inputFieldName:o.data("inputFieldName"),fieldName:p,renderRow:function(n){var i,a,r,o=e.cloneNode(!1),s=t.cloneNode(!1);return n===h&&(s.className="is-active"),s.textContent=n,s.dataset.ref=n,n.length>0&&f&&(s.href=Object(l.h)((r=n,(a=p)in(i={})?Object.defineProperty(i,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[a]=r,i),g)),o.appendChild(s),o},id:function(e,t){return t.attr("data-ref")},toggleLabel:function(e,t){return t.text().trim()},clicked:function(e){var t=e.e;f||t.preventDefault()}})}))}}],(n=null)&&p(t.prototype,n),i&&p(t,i),e}()},99:function(e,t,n){"use strict";var i=n(0),a=n.n(i);n(358);t.a={bind:function(e){var t=localStorage.getItem("gl-tooltip-delay"),n=t?JSON.parse(t):0;a()(e).tooltip({trigger:"hover",delay:n})},componentUpdated:function(e){a()(e).tooltip("_fixTitle");var t=a()(e).data("bs.tooltip"),n=t.getTipElement();t.setElementContent(a()(n.querySelectorAll(".tooltip-inner")),t.getTitle())},unbind:function(e){a()(e).tooltip("dispose")}}}},[[2261,1,0,2,6]]]);
//# sourceMappingURL=pages.projects.boards.87c6ea0e.chunk.js.map