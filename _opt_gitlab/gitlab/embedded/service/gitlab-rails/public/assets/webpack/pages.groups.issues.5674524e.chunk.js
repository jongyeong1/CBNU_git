(this.webpackJsonp=this.webpackJsonp||[]).push([[91,10,16],{1041:function(e,t,n){"use strict";var r=n(553),i=n(60),a=n.n(i),o=function(e){var t=e.style.whiteSpace,n=e.offsetHeight;e.style.whiteSpace="nowrap";var r=e.offsetHeight;return e.style.whiteSpace=t,n>r};const s={components:{GlButton:r.a},props:{title:{type:String,required:!0},svgPath:{type:String,required:!1,default:null},description:{type:String,required:!1,default:null},primaryButtonLink:{type:String,required:!1,default:null},primaryButtonText:{type:String,required:!1,default:null},secondaryButtonLink:{type:String,required:!1,default:null},secondaryButtonText:{type:String,required:!1,default:null},compact:{type:Boolean,required:!1,default:!1}},data:function(){return{titleBreaks:!1,descriptionBreaks:!1}},computed:{fullscreen:function(){return!this.compact},centerTitle:function(){return!this.compact&&!this.titleBreaks},centerDescription:function(){return this.centerTitle&&!this.descriptionBreaks},shouldRenderPrimaryButton:function(){return Boolean(this.primaryButtonLink&&this.primaryButtonText)},shouldRenderSecondaryButton:function(){return Boolean(this.shouldRenderPrimaryButton&&this.secondaryButtonLink&&this.secondaryButtonText)}},mounted:function(){var e=this.$refs,t=e.title,n=e.description;this.titleBreaks=t&&o(t),this.descriptionBreaks=n&&o(n)}};const l=a()({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"row",class:{"empty-state":e.fullscreen}},[n("div",{class:e.fullscreen?"col-12":"col-3 d-none d-sm-block"},[e.svgPath?n("div",{staticClass:"svg-250",class:{"svg-content":e.fullscreen}},[n("img",{class:{"mw-100":e.compact},attrs:{src:e.svgPath,alt:e.title}})]):e._e()]),e._v(" "),n("div",{class:e.fullscreen?"col-12":"col-sm-9"},[n("div",{staticClass:"text-content"},[n("h4",{ref:"title",class:{center:e.centerTitle,h5:e.compact}},[e._v(e._s(e.title))]),e._v(" "),e.description||e.$slots.description?n("p",{ref:"description",class:{center:e.centerDescription}},[e._t("description",[e._v("\n          "+e._s(e.description)+"\n        ")])],2):e._e(),e._v(" "),n("div",{class:{"text-center":e.fullscreen}},[e._t("actions",[e.shouldRenderPrimaryButton?n("gl-button",{attrs:{variant:"success",href:e.primaryButtonLink}},[e._v(e._s(e.primaryButtonText))]):e._e(),e._v(" "),e.shouldRenderSecondaryButton?n("gl-button",{attrs:{variant:"outline-success",href:e.secondaryButtonLink}},[e._v(e._s(e.secondaryButtonText))]):e._e()])],2)])])])},staticRenderFns:[]},void 0,s,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=l},111:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=document,a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,(n=[{key:"container",set:function(e){i=e},get:function(){return i}}])&&r(t.prototype,n),a&&r(t,a),e}();t.a=new a},121:function(e,t,n){"use strict";n(28),n(26),n(85),n(27);function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store={columns:3,issues:[],issuesCount:!1,selectedIssues:[],showAddIssuesModal:!1,activeTab:"all",selectedList:null,searchTerm:"",loading:!1,loadingNewPage:!1,filterLoading:!1,page:1,perPage:50,filter:{path:""}}}var t,n,i;return t=e,(n=[{key:"selectedCount",value:function(){return this.getSelectedIssues().length}},{key:"toggleIssue",value:function(e){var t=e,n=t.selected;t.selected=!n,n?this.removeSelectedIssue(t):this.addSelectedIssue(t)}},{key:"toggleAll",value:function(){var e=this,t=this.selectedCount()!==this.store.issues.length;this.store.issues.forEach((function(n){var r=n;r.selected!==t&&(r.selected=t,t?e.addSelectedIssue(n):e.removeSelectedIssue(n))}))}},{key:"getSelectedIssues",value:function(){return this.store.selectedIssues.filter((function(e){return e.selected}))}},{key:"addSelectedIssue",value:function(e){-1===this.selectedIssueIndex(e)&&this.store.selectedIssues.push(e)}},{key:"removeSelectedIssue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];("all"===this.store.activeTab||t)&&(this.store.selectedIssues=this.store.selectedIssues.filter((function(t){return t.id!==e.id})))}},{key:"purgeUnselectedIssues",value:function(){var e=this;this.store.selectedIssues.forEach((function(t){t.selected||e.removeSelectedIssue(t,!0)}))}},{key:"selectedIssueIndex",value:function(e){return this.store.selectedIssues.indexOf(e)}},{key:"findSelectedIssue",value:function(e){return this.store.selectedIssues.filter((function(t){return t.id===e.id}))[0]}}])&&r(t.prototype,n),i&&r(t,i),e}();t.a=new i},176:function(e,t,n){"use strict";n(30),n(42),n(26),n(85),n(46),n(27);var r=n(0),i=n.n(r),a=n(20),o=n.n(a),s=n(11),l=n(14),c=n(1);t.a={init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.form,n=e.issues,r=e.prefixId;this.prefixId=r||"issue_",this.form=t||this.getElement(".bulk-update"),this.$labelDropdown=this.form.find(".js-label-select"),this.issues=n||this.getElement(".issues-list .issue"),this.willUpdateLabels=!1,this.bindEvents()},bindEvents:function(){return this.form.off("submit").on("submit",this.onFormSubmit.bind(this))},onFormSubmit:function(e){return e.preventDefault(),this.submit()},submit:function(){var e=this;s.a[this.form.attr("method")](this.form.attr("action"),this.getFormDataAsObject()).then((function(){return window.location.reload()})).catch((function(){return e.onFormSubmitFailure()}))},onFormSubmitFailure:function(){return this.form.find('[type="submit"]').enable(),new l.a(Object(c.a)("Issue update failed"))},getSelectedIssues:function(){return this.issues.has(".selected-issuable:checked")},getLabelsFromSelection:function(){var e=[];return this.getSelectedIssues().map((function(){var t=i()(this).data("labels");if(t)return t.map((function(t){if(-1===e.indexOf(t))return e.push(t)}))})),e},getUnmarkedIndeterminedLabels:function(){var e=[],t=this.$labelDropdown.data("indeterminate");return this.getLabelsFromSelection().forEach((function(n){-1===t.indexOf(n)&&e.push(n)})),e},getFormDataAsObject:function(){var e={update:{state_event:this.form.find('input[name="update[state_event]"]').val(),assignee_ids:[this.form.find('input[name="update[assignee_ids][]"]').val()],milestone_id:this.form.find('input[name="update[milestone_id]"]').val(),issuable_ids:this.form.find('input[name="update[issuable_ids]"]').val(),subscription_event:this.form.find('input[name="update[subscription_event]"]').val(),add_label_ids:[],remove_label_ids:[]}};return this.willUpdateLabels&&(e.update.add_label_ids=this.$labelDropdown.data("marked"),e.update.remove_label_ids=this.$labelDropdown.data("unmarked")),e},setOriginalDropdownData:function(){var e=i()(".bulk-update .js-label-select");e.data("common",this.getOriginalCommonIds()),e.data("marked",this.getOriginalMarkedIds()),e.data("indeterminate",this.getOriginalIndeterminateIds())},getOriginalCommonIds:function(){var e=this,t=[];return this.getElement(".selected-issuable:checked").each((function(n,r){t.push(e.getElement("#".concat(e.prefixId).concat(r.dataset.id)).data("labels"))})),o.a.intersection.apply(this,t)},getOriginalMarkedIds:function(){var e=this,t=[];return this.getElement(".selected-issuable:checked").each((function(n,r){t.push(e.getElement("#".concat(e.prefixId).concat(r.dataset.id)).data("labels"))})),o.a.intersection.apply(this,t)},getOriginalIndeterminateIds:function(){var e=this,t=[],n=[],r=[];return this.getElement(".selected-issuable:checked").each((function(i,a){(r=e.getElement("#".concat(e.prefixId).concat(a.dataset.id)).data("labels")).forEach((function(e){-1===t.indexOf(e)&&t.push(e)})),n.push(r)})),n.unshift(t),o.a.difference(t,o.a.intersection.apply(this,n))},getElement:function(e){return this.scopeEl=this.scopeEl||i()(".content"),this.scopeEl.find(e)}}},180:function(e,t,n){"use strict";n(72);var r=n(301),i=n(828),a=n(236),o={name:"UserAvatarLink",components:{GlLink:r.a,userAvatarImage:a.a},directives:{GlTooltip:i.a},props:{linkHref:{type:String,required:!1,default:""},imgSrc:{type:String,required:!1,default:""},imgAlt:{type:String,required:!1,default:""},imgCssClasses:{type:String,required:!1,default:""},imgSize:{type:Number,required:!1,default:20},tooltipText:{type:String,required:!1,default:""},tooltipPlacement:{type:String,required:!1,default:"top"},username:{type:String,required:!1,default:""}},computed:{shouldShowUsername:function(){return this.username.length>0},avatarTooltipText:function(){return this.shouldShowUsername?"":this.tooltipText}}},s=n(4),l=Object(s.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("gl-link",{staticClass:"user-avatar-link",attrs:{href:e.linkHref}},[n("user-avatar-image",{attrs:{"img-src":e.imgSrc,"img-alt":e.imgAlt,"css-classes":e.imgCssClasses,size:e.imgSize,"tooltip-text":e.avatarTooltipText,"tooltip-placement":e.tooltipPlacement}},[e._t("default")],2),e.shouldShowUsername?n("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"js-user-avatar-link-username",attrs:{title:e.tooltipText,"tooltip-placement":e.tooltipPlacement}},[e._v(e._s(e.username))]):e._e(),e._t("avatar-badge")],2)}),[],!1,null,null,null);t.a=l.exports},184:function(e,t,n){var r=n(108),i=n(271),a=n(215),o=n(296),s=n(344),l=n(419);r({target:"Reflect",stat:!0},{get:function e(t,n){var r,c,u=arguments.length<3?t:arguments[2];return a(t)===u?t[n]:(r=s.f(t,n))?o(r,"value")?r.value:void 0===r.get?void 0:r.get.call(u):i(c=l(t))?e(c,n,u):void 0}})},2194:function(e,t,n){n(105),n(286),e.exports=n(2470)},2470:function(e,t,n){"use strict";n.r(t);var r=n(307),i=(n(24),n(28),n(26),n(85),n(50),n(58),n(38),n(27),n(17)),a=(n(65),n(46),n(72),n(77),n(55),n(91),n(246),n(541)),o=n.n(a),s=n(1222),l=n.n(s),c=n(1041),u=n(696),d=n(2532),h=n(14),p=n(11),f=n(16),v=n(1),g=n(749),m=(n(30),n(35),n(554)),b=n.n(m),y=n(93),k=n.n(y),w=n(301),S=n(828),E=n(62),O=n(673),T=n(33),_=n(45),j=n(822),C={components:{Icon:_.a,IssueAssignees:j.a,GlLink:w.a},directives:{GlTooltip:S.a},props:{issuable:{type:Object,required:!0},isBulkEditing:{type:Boolean,required:!1,default:!1},selected:{type:Boolean,required:!1,default:!1},baseUrl:{type:String,required:!1,default:function(){return window.location.href}}},computed:{milestoneLink:function(){var e=this.issuable.milestone.title;return this.issuableLink({milestone_title:e})},hasLabels:function(){return Boolean(this.issuable.labels&&this.issuable.labels.length)},hasWeight:function(){return b()(this.issuable.weight)},dueDate:function(){return this.issuable.due_date?Object(E.m)(this.issuable.due_date):void 0},dueDateWords:function(){return this.dueDate?Object(E.c)(this.dueDate,!0):void 0},hasNoComments:function(){return!this.userNotesCount},isOverdue:function(){return!!this.dueDate&&this.dueDate<new Date},isClosed:function(){return"closed"===this.issuable.state},issueCreatedToday:function(){return Object(E.h)(new Date(this.issuable.created_at),new Date)<1},labelIdsString:function(){return JSON.stringify(this.issuable.labels.map((function(e){return e.id})))},milestoneDueDate:function(){var e=(this.issuable.milestone||{}).due_date;return e?Object(E.m)(e):void 0},milestoneTooltipText:function(){return this.milestoneDueDate?Object(v.e)(Object(v.a)("%{primary} (%{secondary})"),{primary:Object(E.d)(this.milestoneDueDate,"mmm d, yyyy"),secondary:Object(E.s)(this.milestoneDueDate)}):Object(v.a)("Milestone")},openedAgoByString:function(){var e=this.issuable,t=e.author,n=e.created_at;return Object(v.e)(Object(v.a)("opened %{timeAgoString} by %{user}"),{timeAgoString:k()(Object(E.k)().format(n)),user:'<a href="'.concat(k()(t.web_url),'"\n            data-user-id=').concat(k()(t.id),"\n            data-username=").concat(k()(t.username),"\n            data-name=").concat(k()(t.name),'\n            data-avatar-url="').concat(k()(t.avatar_url),'">\n            ').concat(k()(t.name),"\n          </a>")},!1)},referencePath:function(){return this.issuable.references.relative},updatedDateString:function(){return Object(E.d)(new Date(this.issuable.updated_at),"mmm d, yyyy h:MMtt")},updatedDateAgo:function(){return Object(v.e)(Object(v.a)("updated %{time_ago}"),{time_ago:k()(Object(E.k)().format(this.issuable.updated_at))})},userNotesCount:function(){return this.issuable.user_notes_count},issuableMeta:function(){return[{key:"merge-requests",value:this.issuable.merge_requests_count,title:Object(v.a)("Related merge requests"),class:"js-merge-requests",icon:"merge-request"},{key:"upvotes",value:this.issuable.upvotes,title:Object(v.a)("Upvotes"),class:"js-upvotes",faicon:"fa-thumbs-up"},{key:"downvotes",value:this.issuable.downvotes,title:Object(v.a)("Downvotes"),class:"js-downvotes",faicon:"fa-thumbs-down"}]}},mounted:function(){Object(O.a)([this.$refs.openedAgoByContainer.querySelector("a")])},methods:{labelStyle:function(e){return{backgroundColor:e.color,color:e.text_color}},issuableLink:function(e){return Object(T.h)(e,this.baseUrl)},labelHref:function(e){var t=e.name;return this.issuableLink({"label_name[]":t})},onSelect:function(e){this.$emit("select",{issuable:this.issuable,selected:e.target.checked})}},confidentialTooltipText:Object(v.a)("Confidential")},I=n(4),D=Object(I.a)(C,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{staticClass:"issue",class:{today:e.issueCreatedToday,closed:e.isClosed},attrs:{id:"issue_"+e.issuable.id,"data-id":e.issuable.id,"data-labels":e.labelIdsString,"data-url":e.issuable.web_url}},[n("div",{staticClass:"d-flex"},[e.isBulkEditing?n("div",{staticClass:"mr-2"},[n("input",{staticClass:"selected-issuable",attrs:{type:"checkbox","data-id":e.issuable.id},domProps:{checked:e.selected},on:{input:e.onSelect}})]):e._e(),e._v(" "),n("div",{staticClass:"flex-grow-1"},[n("div",{staticClass:"title"},[n("span",{staticClass:"issue-title-text"},[e.issuable.confidential?n("i",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"fa fa-eye-slash",attrs:{title:e.$options.confidentialTooltipText,"aria-label":e.$options.confidentialTooltipText}}):e._e(),e._v(" "),n("gl-link",{attrs:{href:e.issuable.web_url}},[e._v(e._s(e.issuable.title))])],1),e._v(" "),e.issuable.has_tasks?n("span",{staticClass:"ml-1 task-status d-none d-sm-inline-block"},[e._v(e._s(e.issuable.task_status))]):e._e()]),e._v(" "),n("div",{staticClass:"issuable-info"},[n("span",{staticClass:"js-ref-path"},[e._v(e._s(e.referencePath))]),e._v(" "),n("span",{staticClass:"d-none d-sm-inline-block mr-1"},[e._v("\n          Â·\n          "),n("span",{ref:"openedAgoByContainer",domProps:{innerHTML:e._s(e.openedAgoByString)}})]),e._v(" "),e.issuable.milestone?n("gl-link",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"d-none d-sm-inline-block mr-1 js-milestone",attrs:{href:e.milestoneLink,title:e.milestoneTooltipText}},[n("i",{staticClass:"fa fa-clock-o"}),e._v("\n          "+e._s(e.issuable.milestone.title)+"\n        ")]):e._e(),e._v(" "),e.dueDate?n("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"d-none d-sm-inline-block mr-1 js-due-date",class:{cred:e.isOverdue},attrs:{title:e.__("Due date")}},[n("i",{staticClass:"fa fa-calendar"}),e._v("\n          "+e._s(e.dueDateWords)+"\n        ")]):e._e(),e._v(" "),e.hasLabels?n("span",{staticClass:"js-labels"},e._l(e.issuable.labels,(function(t){return n("gl-link",{key:t.id,staticClass:"label-link mr-1",attrs:{href:e.labelHref(t)}},[n("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"badge color-label",style:e.labelStyle(t),attrs:{title:t.description}},[e._v(e._s(t.name))])])})),1):e._e(),e._v(" "),e.hasWeight?n("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"d-none d-sm-inline-block js-weight",attrs:{title:e.__("Weight")}},[n("icon",{staticClass:"align-text-bottom",attrs:{name:"weight"}}),e._v("\n          "+e._s(e.issuable.weight)+"\n        ")],1):e._e()],1)]),e._v(" "),n("div",{staticClass:"flex-shrink-0 d-flex flex-column align-items-end justify-content-center"},[n("div",{staticClass:"controls d-flex"},[e.isClosed?n("span",{staticClass:"issuable-status"},[e._v(e._s(e.__("CLOSED")))]):e._e(),e._v(" "),n("issue-assignees",{staticClass:"align-items-center d-flex ml-2",attrs:{assignees:e.issuable.assignees,"icon-size":16,"img-css-classes":"mr-1","max-visible":4}}),e._v(" "),e._l(e.issuableMeta,(function(t){return[t.value?n("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],key:t.key,class:["d-none d-sm-inline-block ml-2",t.class],attrs:{title:t.title}},[t.icon?n("icon",{attrs:{name:t.icon}}):n("i",{class:["fa",t.faicon]}),e._v("\n            "+e._s(t.value)+"\n          ")],1):e._e()]})),e._v(" "),n("gl-link",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"ml-2 js-notes",class:{"no-comments":e.hasNoComments},attrs:{href:e.issuable.web_url+"#notes",title:e.__("Comments")}},[n("i",{staticClass:"fa fa-comments"}),e._v("\n          "+e._s(e.userNotesCount)+"\n        ")])],2),e._v(" "),n("div",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"issuable-updated-at",attrs:{title:e.updatedDateString}},[e._v("\n        "+e._s(e.updatedDateAgo)+"\n      ")])])])])}),[],!1,null,null,null).exports,P="asc",L={priority:{order_by:"priority",sort:P},created_date:{order_by:"created_at",sort:"desc"},created_asc:{order_by:"created_at",sort:P},updated_desc:{order_by:"updated_at",sort:"desc"},updated_asc:{order_by:"updated_at",sort:P},milestone_due_desc:{order_by:"milestone_due",sort:"desc"},milestone:{order_by:"milestone_due",sort:P},due_date_desc:{order_by:"due_date",sort:"desc"},due_date:{order_by:"due_date",sort:P},popularity:{order_by:"popularity",sort:"desc"},popularity_asc:{order_by:"popularity",sort:P},label_priority:{order_by:"label_priority",sort:P},relative_position:{order_by:"relative_position",sort:P},weight_desc:{order_by:"weight",sort:"desc"},weight:{order_by:"weight",sort:P}},x=n(513);function A(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var M={LOADING_LIST_ITEMS_LENGTH:8,components:{GlEmptyState:c.a,GlPagination:u.a,GlSkeletonLoading:d.a,Issuable:D},props:{canBulkEdit:{type:Boolean,required:!1,default:!1},createIssuePath:{type:String,required:!1,default:""},emptySvgPath:{type:String,required:!1,default:""},endpoint:{type:String,required:!0},sortKey:{type:String,required:!1,default:""}},data:function(){return{filters:{},isBulkEditing:!1,issuables:[],loading:!1,page:null!==Object(f.m)("page",window.location.href)?l()(Object(f.m)("page")):1,selection:{},totalItems:0}},computed:{allIssuablesSelected:function(){return this.issuables.length===Object.keys(this.selection).length},emptyState:function(){return this.issuables.length?{}:this.hasFilters?{title:Object(v.a)("Sorry, your filter produced no results"),description:Object(v.a)("To widen your search, change or remove filters above")}:"opened"===this.filters.state?{title:Object(v.a)("There are no open issues"),description:Object(v.a)("To keep this project going, create a new issue"),primaryLink:this.createIssuePath,primaryText:Object(v.a)("New issue")}:"closed"===this.filters.state?{title:Object(v.a)("There are no closed issues")}:{title:Object(v.a)("There are no issues to show"),description:Object(v.a)("The Issue Tracker is the place to add things that need to be improved or solved in a project. You can register or sign in to create issues for this project.")}},hasFilters:function(){return Object.keys(o()(this.filters,["utf8","state","scope","order_by","sort"])).length>0},isManualOrdering:function(){return"relative_position"===this.sortKey},itemsPerPage:function(){return this.isManualOrdering?100:20},baseUrl:function(){return window.location.href.replace(/(\?.*)?(#.*)?$/,"")}},watch:{selection:function(){this.$nextTick((function(){x.a.$emit("issuables:updateBulkEdit")}))},issuables:function(){this.$nextTick((function(){Object(g.a)()}))}},mounted:function(){var e=this;this.canBulkEdit&&(this.unsubscribeToggleBulkEdit=x.a.$on("issuables:toggleBulkEdit",(function(t){e.isBulkEditing=t}))),this.fetchIssuables()},beforeDestroy:function(){x.a.$off("issuables:toggleBulkEdit")},methods:{isSelected:function(e){return Boolean(this.selection[e])},setSelection:function(e){var t=this;e.forEach((function(e){t.select(e,!0)}))},clearSelection:function(){this.selection={}},select:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t?this.$set(this.selection,e,!0):this.$delete(this.selection,e)},fetchIssuables:function(e){var t=this;return this.loading=!0,this.clearSelection(),this.setFilters(),p.a.get(this.endpoint,{params:N({},this.filters,{with_labels_details:!0,page:e||this.page,per_page:this.itemsPerPage})}).then((function(e){t.loading=!1,t.issuables=e.data,t.totalItems=Number(e.headers["x-total"]),t.page=Number(e.headers["x-page"])})).catch((function(){return t.loading=!1,Object(h.a)(Object(v.a)("An error occurred while loading issues"))}))},getQueryObject:function(){return Object(f.S)(window.location.search)},onPaginate:function(e){e!==this.page&&(Object(f.N)("#content-body"),Object(f.r)(Object(T.o)(N({},this.filters,{page:e}),window.location.href,!0)),this.fetchIssuables(e))},onSelectAll:function(){this.allIssuablesSelected?this.selection={}:this.setSelection(this.issuables.map((function(e){return e.id})))},onSelectIssuable:function(e){var t=e.issuable,n=e.selected;this.canBulkEdit&&this.select(t.id,n)},setFilters:function(){var e=this.getQueryObject(),t=e.label_name,n=e.milestone_title,r=A(e,["label_name","milestone_title"]);n&&(r.milestone=n),Array.isArray(t)&&(r.labels=t.join(",")),r.state||(r.state="opened"),Object.assign(r,L[this.sortKey]),this.filters=r}}},F=Object(I.a)(M,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.loading?n("ul",{staticClass:"content-list"},e._l(e.$options.LOADING_LIST_ITEMS_LENGTH,(function(e){return n("li",{key:e,staticClass:"issue"},[n("gl-skeleton-loading")],1)})),0):e.issuables.length?n("div",[e.isBulkEditing?n("div",{staticClass:"issue px-3 py-3 border-bottom border-light"},[n("input",{staticClass:"mr-2",attrs:{type:"checkbox"},domProps:{checked:e.allIssuablesSelected},on:{click:e.onSelectAll}}),e._v(" "),n("strong",[e._v(e._s(e.__("Select all")))])]):e._e(),e._v(" "),n("ul",{staticClass:"content-list issuable-list issues-list",class:{"manual-ordering":e.isManualOrdering}},e._l(e.issuables,(function(t){return n("issuable",{key:t.id,staticClass:"pr-3",class:{"user-can-drag":e.isManualOrdering},attrs:{issuable:t,"is-bulk-editing":e.isBulkEditing,selected:e.isSelected(t.id),"base-url":e.baseUrl},on:{select:e.onSelectIssuable}})})),1),e._v(" "),n("div",{staticClass:"mt-3"},[e.totalItems?n("gl-pagination",{staticClass:"justify-content-center",attrs:{value:e.page,"per-page":e.itemsPerPage,"total-items":e.totalItems},on:{input:e.onPaginate}}):e._e()],1)]):n("gl-empty-state",{attrs:{title:e.emptyState.title,description:e.emptyState.description,"svg-path":e.emptySvgPath,"primary-button-link":e.emptyState.primaryLink,"primary-button-text":e.emptyState.primaryText}})}),[],!1,null,null,null).exports;function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function W(){gon.features&&gon.features.vueIssuablesList&&document.querySelectorAll(".js-issuables-list").forEach((function(e){var t=e.dataset,n=t.canBulkEdit,r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){V(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},K(t,["canBulkEdit"]),{canBulkEdit:Boolean(n)});return new i.default({el:e,render:function(e){return e(F,{props:r})}})}))}var $=n(73),H=n(520),U=n(731),G=n(521);document.addEventListener("DOMContentLoaded",(function(){r.a.addExtraTokensForIssues(),U.a.init("issue_"),W(),Object(H.a)({page:G.a.ISSUES,isGroupDecendent:!0,filteredSearchTokenKeys:r.a}),Object($.a)(),Object(g.a)()}))},259:function(e,t,n){"use strict";n(24),n(49),n(56),n(26),n(78),n(40),n(69),n(145),n(18),n(68),n(36),n(27),n(41),n(90),n(30),n(65),n(46),n(55),n(91),n(67);var r=n(20),i=/\{\{(.+?)\}\}/g,a={toCamelCase:function(e){return this.camelize(e.split("-").slice(1).join(" "))},template:function(e,t){var n=Object(r.template)(e,{escape:i});return n(t)},camelize:function(e){return e.replace(/(?:^\w|[A-Z]|\b\w)/g,(function(e,t){return 0===t?e.toLowerCase():e.toUpperCase()})).replace(/\s+/g,"")},closest:function(e,t){for(;e&&e.tagName!==t&&"HTML"!==e.tagName;)e=e.parentNode;return e},isDropDownParts:function(e){return!(!e||!e.hasAttribute||"HTML"===e.tagName)&&(e.hasAttribute("data-dropdown-trigger")||e.hasAttribute("data-dropdown"))}};function o(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.currentIndex=0,this.hidden=!0,this.list="string"==typeof t?document.querySelector(t):t,this.items=[],this.eventWrapper={},this.hideOnClick=!1!==n.hideOnClick,n.addActiveClassToDropdownButton&&(this.dropdownToggle=this.list.parentNode.querySelector(".js-dropdown-toggle")),this.getItems(),this.initTemplateString(),this.addEvents(),this.initialState=t.innerHTML}var t,n,r;return t=e,r=[{key:"setImagesSrc",value:function(e){o(e.querySelectorAll("img[data-src]")).forEach((function(e){var t=e;t.src=t.getAttribute("data-src"),t.removeAttribute("data-src")}))}}],(n=[{key:"getItems",value:function(){return this.items=[].slice.call(this.list.querySelectorAll("li")),this.items}},{key:"initTemplateString",value:function(){var e=this.items||this.getItems(),t="";return e.length>0&&(t=e[e.length-1].outerHTML),this.templateString=t,this.templateString}},{key:"clickEvent",value:function(e){if("UL"!==e.target.tagName&&!e.target.closest(".".concat("droplab-item-ignore"))){var t=e.target.closest("li");if(t){this.addSelectedClass(t),e.preventDefault(),this.hideOnClick&&this.hide();var n=new CustomEvent("click.dl",{detail:{list:this,selected:t,data:e.target.dataset}});this.list.dispatchEvent(n)}}}},{key:"addSelectedClass",value:function(e){this.removeSelectedClasses(),e.classList.add("droplab-item-selected")}},{key:"removeSelectedClasses",value:function(){(this.items||this.getItems()).forEach((function(e){return e.classList.remove("droplab-item-selected")}))}},{key:"addEvents",value:function(){this.eventWrapper.clickEvent=this.clickEvent.bind(this),this.eventWrapper.closeDropdown=this.closeDropdown.bind(this),this.list.addEventListener("click",this.eventWrapper.clickEvent),this.list.addEventListener("keyup",this.eventWrapper.closeDropdown)}},{key:"closeDropdown",value:function(e){return 27!==e.keyCode||(e.preventDefault(),this.toggle())}},{key:"setData",value:function(e){this.data=e,this.render(e)}},{key:"addData",value:function(e){this.data=(this.data||[]).concat(e),this.render(this.data)}},{key:"render",value:function(e){var t=e?e.map(this.renderChildren.bind(this)):[];if(!this.list.querySelector(".filter-dropdown-loading")){(this.list.querySelector("ul[data-dynamic]")||this.list).innerHTML=t.join("");var n=new CustomEvent("render.dl",{detail:{list:this}});this.list.dispatchEvent(n)}}},{key:"renderChildren",value:function(t){var n=a.template(this.templateString,t),r=document.createElement("div");return r.innerHTML=n,e.setImagesSrc(r),r.firstChild.style.display=t.droplab_hidden?"none":"block",r.firstChild.outerHTML}},{key:"show",value:function(){this.hidden&&(this.list.style.display="block",this.currentIndex=0,this.hidden=!1,this.dropdownToggle&&this.dropdownToggle.classList.add("active"))}},{key:"hide",value:function(){this.hidden||(this.list.style.display="none",this.currentIndex=0,this.hidden=!0,this.dropdownToggle&&this.dropdownToggle.classList.remove("active"))}},{key:"toggle",value:function(){return this.hidden?this.show():this.hide()}},{key:"destroy",value:function(){this.hide(),this.list.removeEventListener("click",this.eventWrapper.clickEvent),this.list.removeEventListener("keyup",this.eventWrapper.closeDropdown)}}])&&s(t.prototype,n),r&&s(t,r),e}();var c=function e(t,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.trigger=t,this.list=new l(n,i),this.type="Hook",this.event="click",this.plugins=r||[],this.config=i||{},this.id=t.id};function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v=function(e){function t(e,n,r,i){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(a=h(this,p(t).call(this,e,n,r,i))).type="button",a.event="click",a.eventWrapper={},a.addEvents(),a.addPlugins(),a}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,e),n=t,(r=[{key:"addPlugins",value:function(){var e=this;this.plugins.forEach((function(t){return t.init(e)}))}},{key:"clicked",value:function(e){var t=new CustomEvent("click.dl",{detail:{hook:this},bubbles:!0,cancelable:!0});e.target.dispatchEvent(t),this.list.toggle()}},{key:"addEvents",value:function(){this.eventWrapper.clicked=this.clicked.bind(this),this.trigger.addEventListener("click",this.eventWrapper.clicked)}},{key:"removeEvents",value:function(){this.trigger.removeEventListener("click",this.eventWrapper.clicked)}},{key:"restoreInitialState",value:function(){this.list.list.innerHTML=this.list.initialState}},{key:"removePlugins",value:function(){this.plugins.forEach((function(e){return e.destroy()}))}},{key:"destroy",value:function(){this.restoreInitialState(),this.removeEvents(),this.removePlugins()}}])&&d(n.prototype,r),i&&d(n,i),t}(c);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var w=function(e){function t(e,n,r,i){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(a=b(this,y(t).call(this,e,n,r,i))).type="input",a.event="input",a.eventWrapper={},a.addEvents(),a.addPlugins(),a}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,e),n=t,(r=[{key:"addPlugins",value:function(){var e=this;this.plugins.forEach((function(t){return t.init(e)}))}},{key:"addEvents",value:function(){this.eventWrapper.mousedown=this.mousedown.bind(this),this.eventWrapper.input=this.input.bind(this),this.eventWrapper.keyup=this.keyup.bind(this),this.eventWrapper.keydown=this.keydown.bind(this),this.trigger.addEventListener("mousedown",this.eventWrapper.mousedown),this.trigger.addEventListener("input",this.eventWrapper.input),this.trigger.addEventListener("keyup",this.eventWrapper.keyup),this.trigger.addEventListener("keydown",this.eventWrapper.keydown)}},{key:"removeEvents",value:function(){this.hasRemovedEvents=!0,this.trigger.removeEventListener("mousedown",this.eventWrapper.mousedown),this.trigger.removeEventListener("input",this.eventWrapper.input),this.trigger.removeEventListener("keyup",this.eventWrapper.keyup),this.trigger.removeEventListener("keydown",this.eventWrapper.keydown)}},{key:"input",value:function(e){if(!this.hasRemovedEvents){this.list.show();var t=new CustomEvent("input.dl",{detail:{hook:this,text:e.target.value},bubbles:!0,cancelable:!0});e.target.dispatchEvent(t)}}},{key:"mousedown",value:function(e){if(!this.hasRemovedEvents){var t=new CustomEvent("mousedown.dl",{detail:{hook:this,text:e.target.value},bubbles:!0,cancelable:!0});e.target.dispatchEvent(t)}}},{key:"keyup",value:function(e){this.hasRemovedEvents||this.keyEvent(e,"keyup.dl")}},{key:"keydown",value:function(e){this.hasRemovedEvents||this.keyEvent(e,"keydown.dl")}},{key:"keyEvent",value:function(e,t){this.list.show();var n=new CustomEvent(t,{detail:{hook:this,text:e.target.value,which:e.which,key:e.key},bubbles:!0,cancelable:!0});e.target.dispatchEvent(n)}},{key:"restoreInitialState",value:function(){this.list.list.innerHTML=this.list.initialState}},{key:"removePlugins",value:function(){this.plugins.forEach((function(e){return e.destroy()}))}},{key:"destroy",value:function(){this.restoreInitialState(),this.removeEvents(),this.removePlugins(),this.list.destroy()}}])&&m(n.prototype,r),i&&m(n,i),t}(c),S=function(){var e,t=!1,n=!1,r=function(e){for(var t=Array.prototype.slice.call(e.list.querySelectorAll("li:not(.divider):not(.hidden)"),0),n=[],r=0;r<t.length;r++){var i=t[r];i.classList.remove("droplab-item-active"),"none"!==i.style.display&&n.push(i)}return n},i=function(e){var t=r(e)[e.currentIndex-1],n=new CustomEvent("click.dl",{detail:{list:e,selected:t,data:t.dataset}});e.list.dispatchEvent(n),e.hide()};document.addEventListener("mousedown.dl",(function(e){var i=e.detail.hook.list;r(i),i.show(),i.currentIndex=0,t=!1,n=!1})),document.addEventListener("keydown.dl",(function(a){a.target;var o=a.detail.hook.list,s=o.currentIndex;if(t=!1,n=!1,a.detail.which){if(13===(e=a.detail.which))return void i(a.detail.hook.list);38===e&&(t=!0),40===e&&(n=!0)}else if(a.detail.key){if("Enter"===(e=a.detail.key))return void i(a.detail.hook.list);"ArrowUp"===e&&(t=!0),"ArrowDown"===e&&(n=!0)}t&&s--,n&&s++,s<0&&(s=0),o.currentIndex=s,function(e){var t=r(e);if(e.currentIndex>0&&(t[e.currentIndex-1]||(e.currentIndex=e.currentIndex-1),t[e.currentIndex-1])){var n=t[e.currentIndex-1],i=n.closest(".filter-dropdown");if(n.classList.add("droplab-item-active"),i){var a=i.offsetHeight,o=n.offsetTop-30;o>a&&(i.scrollTop=o-a)}}}(a.detail.hook.list)}))};function E(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var T=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ready=!1,this.hooks=[],this.queuedData=[],this.config={},this.eventWrapper={}}var t,n,r;return t=e,(n=[{key:"loadStatic",value:function(){var e=[].slice.apply(document.querySelectorAll("[".concat("data-dropdown-trigger","]")));this.addHooks(e)}},{key:"addData",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.applyArgs(t,"processAddData")}},{key:"setData",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.applyArgs(t,"processSetData")}},{key:"destroy",value:function(){this.hooks.forEach((function(e){return e.destroy()})),this.hooks=[],this.removeEvents()}},{key:"applyArgs",value:function(e,t){return this.ready?this[t].apply(this,E(e)):(this.queuedData=this.queuedData||[],this.queuedData.push(e),this.ready)}},{key:"processAddData",value:function(e,t){this.processData(e,t,"addData")}},{key:"processSetData",value:function(e,t){this.processData(e,t,"setData")}},{key:"processData",value:function(e,t,n){this.hooks.forEach((function(r){Array.isArray(e)&&r.list[n](e),r.trigger.id===e&&r.list[n](t)}))}},{key:"addEvents",value:function(){this.eventWrapper.documentClicked=this.documentClicked.bind(this),document.addEventListener("mousedown",this.eventWrapper.documentClicked)}},{key:"documentClicked",value:function(e){var t=e.target;"UL"!==t.tagName&&(t=a.closest(t,"UL")),a.isDropDownParts(t,this.hooks)||a.isDropDownParts(e.target,this.hooks)||this.hooks.forEach((function(e){return e.list.hide()}))}},{key:"removeEvents",value:function(){document.removeEventListener("mousedown",this.eventWrapper.documentClicked)}},{key:"changeHookList",value:function(e,t,n,r){var i=this,a="string"==typeof e?document.getElementById(e):e;this.hooks.forEach((function(e,o){var s=e;s.list.list.dataset.dropdownActive=!1,s.trigger===a&&(s.destroy(),i.hooks.splice(o,1),i.addHook(a,t,n,r))}))}},{key:"addHook",value:function(e,t,n,r){var i,o="string"==typeof e?document.querySelector(e):e;(i="string"==typeof t?document.querySelector(t):t instanceof Element?t:document.querySelector(e.dataset[a.toCamelCase("data-dropdown-trigger")])).dataset.dropdownActive=!0;var s="INPUT"===o.tagName?w:v;return this.hooks.push(new s(o,i,n,r)),this}},{key:"addHooks",value:function(e,t,n){var r=this;return e.forEach((function(e){return r.addHook(e,null,t,n)})),this}},{key:"setConfig",value:function(e){this.config=e}},{key:"fireReady",value:function(){var e=new CustomEvent("ready.dl",{detail:{dropdown:this}});document.dispatchEvent(e),this.ready=!0}},{key:"init",value:function(e,t,n,r){var i=this;return e?this.addHook(e,t,n,r):this.loadStatic(),this.addEvents(),S(),this.fireReady(),this.queuedData.forEach((function(e){return i.addData(e)})),this.queuedData=[],this}}])&&O(t.prototype,n),r&&O(t,r),e}();t.a=T},273:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));n(30),n(65),n(46),n(38);var r=n(0),i=n.n(r),a=n(32),o=n(110);function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$el=t,this.namespacePath=n,this.projectPath=r,this.$dropdownBack=i()(".dropdown-menu-back",this.$el.closest(".dropdown")),this.$cancelButton=i()(".js-cancel-label-btn",this.$el),this.$newLabelField=i()("#new_label_name",this.$el),this.$newColorField=i()("#new_label_color",this.$el),this.$colorPreview=i()(".js-dropdown-label-color-preview",this.$el),this.$addList=i()(".js-add-list",this.$el),this.$newLabelError=i()(".js-label-error",this.$el),this.$newLabelCreateButton=i()(".js-new-label-btn",this.$el),this.$colorSuggestions=i()(".suggest-colors-dropdown a",this.$el),this.$newLabelError.hide(),this.$newLabelCreateButton.disable(),this.addListDefault=this.$addList.is(":checked"),this.cleanBinding(),this.addBinding()}var t,n,r;return t=e,(n=[{key:"cleanBinding",value:function(){this.$colorSuggestions.off("click"),this.$newLabelField.off("keyup change"),this.$newColorField.off("keyup change"),this.$dropdownBack.off("click"),this.$cancelButton.off("click"),this.$newLabelCreateButton.off("click")}},{key:"addBinding",value:function(){var e=this;this.$colorSuggestions.on("click",(function(t){var n=i()(this);e.addColorValue(t,n)})),this.$newLabelField.on("keyup change",this.enableLabelCreateButton.bind(this)),this.$newColorField.on("keyup change",this.enableLabelCreateButton.bind(this)),this.$dropdownBack.on("click",this.resetForm.bind(this)),this.$cancelButton.on("click",(function(t){t.preventDefault(),t.stopPropagation(),e.resetForm(),e.$dropdownBack.trigger("click")})),this.$newLabelCreateButton.on("click",this.saveLabel.bind(this))}},{key:"addColorValue",value:function(e,t){e.preventDefault(),e.stopPropagation(),this.$newColorField.val(t.data("color")).trigger("change"),this.$colorPreview.css("background-color",t.data("color")).parent().addClass("is-active")}},{key:"enableLabelCreateButton",value:function(){""!==this.$newLabelField.val()&&""!==this.$newColorField.val()?(this.$newLabelError.hide(),this.$newLabelCreateButton.enable()):this.$newLabelCreateButton.disable()}},{key:"resetForm",value:function(){this.$newLabelField.val("").trigger("change"),this.$newColorField.val("").trigger("change"),this.$addList.prop("checked",this.addListDefault),this.$colorPreview.css("background-color","").parent().removeClass("is-active")}},{key:"saveLabel",value:function(e){var t=this;e.preventDefault(),e.stopPropagation(),a.a.newLabel(this.namespacePath,this.projectPath,{title:this.$newLabelField.val(),color:this.$newColorField.val()},(function(e){if(t.$newLabelCreateButton.enable(),e.message){var n;n="string"==typeof e.message?e.message:Object.keys(e.message).map((function(t){return"".concat(Object(o.i)(t)," ").concat(e.message[t].join(", "))})).join("<br/>"),t.$newLabelError.html(n).show()}else{var r=t.$addList.is(":checked");t.$dropdownBack.trigger("click"),i()(document).trigger("created.label",[e,r])}}))}}])&&s(t.prototype,n),r&&s(t,r),e}()},286:function(e,t,n){"use strict";n.r(t);var r=n(96);document.addEventListener("DOMContentLoaded",(function(){Object(r.a)(document,gon)}))},291:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));n(24),n(30),n(28),n(42),n(26),n(78),n(85),n(65),n(46),n(69),n(145),n(72),n(50),n(58),n(38),n(18),n(55),n(68),n(36),n(91),n(67),n(27);var r=n(0),i=n.n(r),a=n(20),o=n.n(a),s=n(1),l=n(11),c=n(176),u=n(273),d=n(14),h=n(121),p=n(52),f=n(16);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var b=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=this,a=i()(t);t||(a=i()(".js-label-select")),a.each((function(t,a){var c=i()(a),v=c.closest(".labels-filter"),g=c.data("namespacePath"),m=c.data("projectPath"),b=c.data("issueUpdate"),y=c.data("selected");null==y||c.hasClass("js-multiselect")||(y=y.split(","));var k=c.data("showNo"),w=c.data("showAny"),S=c.data("showMenuAbove"),E=c.data("defaultLabel")||Object(s.a)("Label"),O=c.data("abilityName"),T=c.closest(".selectbox"),_=T.closest(".block"),j=c.closest("form, .js-issuable-update"),C=_.find(".sidebar-collapsed-icon span"),I=_.find(".js-sidebar-labels-tooltip"),D=_.find(".value"),P=c.parent().find(".dropdown-menu"),L=_.find(".block-loading").fadeOut(),x=c.data("fieldName"),A=T.find('input[name="'.concat(c.data("fieldName"),'"]')).map((function(){return this.value})).get(),B=c.data("scopedLabels"),N=c.data("scopedLabelsDocumentationLink"),q=n.handleClick;I.tooltip(),c.closest(".dropdown").find(".dropdown-new-label").length&&new u.a(c.closest(".dropdown").find(".dropdown-new-label"),g,m);var M=function(){var t=c.closest(".selectbox").find("input[name='".concat(x,"']")).map((function(){return this.value})).get();if(!o.a.isEqual(A,t)){A=t;var n={};n[O]={},n[O].label_ids=t,t.length||(n[O].label_ids=[""]),L.removeClass("hidden").fadeIn(),c.trigger("loading.gl.dropdown"),l.a.put(b,n).then((function(t){var n,r,a=t.data;L.fadeOut(),c.trigger("loaded.gl.dropdown"),T.hide(),a.issueUpdateURL=b;var l=0;a.labels.length&&b?(r=e.getLabelTemplate({labels:o.a.sortBy(a.labels,"title"),issueUpdateURL:b,enableScopedLabels:B,scopedLabelsDocumentationLink:N}),l=a.labels.length):r='<span class="no-value">'.concat(Object(s.a)("None"),"</span>");if(D.removeAttr("style").html(r),C.text(l),a.labels.length){var u=a.labels.map((function(e){return e.title}));u.length>5&&(u=u.slice(0,5)).push(Object(s.e)(Object(s.d)("Labels|and %{count} more"),{count:a.labels.length-5})),n=u.join(", ")}else n=Object(s.a)("Labels");I.attr("title",n).tooltip("_fixTitle"),i()(".has-tooltip",D).tooltip({container:"body"})})).catch((function(){return Object(d.a)(Object(s.a)("Error saving label update."))}))}};c.glDropdown({showMenuAbove:S,data:function(e,t){var n=c.attr("data-labels");l.a.get(n).then((function(e){var n=e.data;if(c.hasClass("js-extra-options")){var r=[];k&&r.unshift({id:0,title:Object(s.a)("No Label")}),w&&r.unshift({isAny:!0,title:Object(s.a)("Any Label")}),r.length&&(r.push({type:"divider"}),n=r.concat(n))}t(n),S&&c.data("glDropdown").positionMenuAbove()})).catch((function(){return Object(d.a)(Object(s.a)("Error fetching labels."))}))},renderRow:function(e){var t,n=[],r=e.id<=0||null==e.id;if(c.hasClass("js-filter-bulk-update")){var i=c.data("indeterminate")||[],a=c.data("marked")||[];if(-1!==i.indexOf(e.id)&&n.push("is-indeterminate"),-1!==a.indexOf(e.id)){var s=n.indexOf("is-indeterminate");-1!==s&&n.splice(s,1),n.push("is-active")}}else{if(this.id(e)){var l=this.id(e).toString().replace(/'/g,"\\'");j.find("input[type='hidden'][name='".concat(this.fieldName,"'][value='").concat(l,"']")).length&&n.push("is-active")}this.multiSelect&&r&&n.push("dropdown-clear-active")}t=e.color?"<span class='dropdown-label-box' style='background: ".concat(e.color,"'></span>"):"";var u=document.createElement("a");if(u.href="#",e.id){n.push.apply(n,["label-item"].concat(["d-flex","flex-row","text-break-word"])),u.dataset.labelId=e.id}u.className=n.join(" "),u.innerHTML="".concat(t," ").concat(o.a.escape(e.title));var d=document.createElement("li");return d.appendChild(u),d},search:{fields:["title"]},selectable:!0,filterable:!0,selected:c.data("selected")||[],toggleLabel:function(e,t){var n=c.parent(),r=n.find(".dropdown-input-field"),i=null!==t&&t.hasClass("is-active"),a=e?e.title:null,o=this.selected;if(r.length&&r.val().length&&n.find(".dropdown-input-clear").trigger("click"),e&&0===e.id)return this.selected=[],Object(s.a)("No Label");if(i)this.selected.push(a);else if(!i&&a){var l=this.selected.indexOf(a);this.selected.splice(l,1)}return 1===o.length?o:o.length?Object(s.e)(Object(s.a)("%{firstLabel} +%{labelCount} more"),{firstLabel:o[0],labelCount:o.length-1}):E},fieldName:c.data("fieldName"),id:function(e){return e.id<=0?e.title:c.hasClass("js-issuable-form-dropdown")?e.id:c.hasClass("js-filter-submit")&&null==e.isAny?e.title:e.id},hidden:function(){var e=i()("body").attr("data-page"),t="projects:issues:index"===e,n="projects:merge_requests:index"===e;T.hide(),D.removeAttr("style"),c.hasClass("js-issuable-form-dropdown")||i()("html").hasClass("issue-boards-page")||c.hasClass("js-multiselect")&&(c.hasClass("js-filter-submit")&&(t||n)?Issuable.filterResults(c.closest("form")):c.hasClass("js-filter-submit")?c.closest("form").submit():c.hasClass("js-filter-bulk-update")||(M(),c.data("glDropdown").clearMenu()))},multiSelect:c.hasClass("js-multiselect"),vue:c.hasClass("js-issue-board-sidebar"),clicked:function(e){var t=e.$el,n=e.e,a=e.isMarking,s=e.selectedObj,l=function(){L.fadeOut()},u=i()("body").attr("data-page"),d="projects:issues:index"===u,v="projects:merge_requests:index"===u;if(c.parent().find(".is-active:not(.dropdown-clear-active)").length&&c.parent().find(".dropdown-clear-active").removeClass("is-active"),!c.hasClass("js-issuable-form-dropdown")){if(c.hasClass("js-filter-bulk-update"))return r.enableBulkLabelDropdown(),void r.setDropdownData(c,a,s.id);var g;if(c.closest(".add-issues-modal").length&&(g=h.a.store.filter),g)return s.isAny?g.label_name=[]:t.hasClass("is-active")&&g.label_name.push(s.title),void n.preventDefault();if(c.hasClass("js-filter-submit")&&(d||v)){if(!c.hasClass("js-multiselect"))return y=s.title,Issuable.filterResults(c.closest("form"))}else{if(c.hasClass("js-filter-submit"))return c.closest("form").submit();if(c.hasClass("js-issue-board-sidebar")){if(t.hasClass("is-active"))p.c.detail.issue.labels.push(new ListLabel({id:s.id,title:s.title,color:s.color,textColor:"#fff"}));else{var m=p.c.detail.issue.labels;m=m.filter((function(e){return e.id!==s.id})),p.c.detail.issue.labels=m}L.fadeIn();var b=p.c.detail.issue.labels;p.c.detail.issue.update(c.attr("data-issue-update")).then((function(){if(Object(f.C)(s)){var e=b.map((function(e){return e.id})),t=p.c.detail.issue.labels.map((function(e){return e.id})),n=o.a.difference(e,t);c.data("marked",t),P.find(n.map((function(e){return'[data-label-id="'.concat(e,'"]')})).join(",")).removeClass("is-active")}})).then(l).catch(l)}else if(q)n.preventDefault(),q(s);else if(!c.hasClass("js-multiselect"))return M()}}},opened:function(){if(c.hasClass("js-issue-board-sidebar")){var e=c.attr("data-selected");this.selected=e?e.split(","):[],c.data("glDropdown").updateLabel()}},preserveContext:!0}),r.setOriginalDropdownData(v,c)})),this.bindEvents()}var t,n,r;return t=e,r=[{key:"getLabelTemplate",value:function(e){var t='<a href="<%- issueUpdateURL.slice(0, issueUpdateURL.lastIndexOf("/")) %>?label_name[]=<%- encodeURIComponent(label.title) %>" class="gl-link gl-label-link has-tooltip" <%= linkAttrs %> title="<%= tooltipTitleTemplate({ label, isScopedLabel, enableScopedLabels, escapeStr }) %>">',n='<span class="gl-label-text" style="background-color: <%= escapeStr(label.color) %>; color: <%= escapeStr(label.text_color) %>;">',r=o.a.template(['<span class="gl-label">',t,n,"<%- label.title %>","</span>","</a>","</span>"].join("")),i=o.a.template(['<a href="<%= scopedLabelsDocumentationLink %>" class="gl-link gl-label-icon" target="_blank" rel="noopener">','<i class="fa fa-question-circle"></i>',"</a>"].join("")),a=o.a.template(['<span class="gl-label gl-label-scoped" style="color: <%= escapeStr(label.color) %>;">',t,n,'<%- label.title.slice(0, label.title.lastIndexOf("::")) %>',"</span>",'<span class="gl-label-text" style="color: <%= rightLabelTextColor({ label, escapeStr }) %>;">','<%- label.title.slice(label.title.lastIndexOf("::") + 2) %>',"</span>","</a>","<%= infoIconTemplate({ label, scopedLabelsDocumentationLink, escapeStr }) %>","</span>"].join("")),s=o.a.template(["<% if (isScopedLabel(label) && enableScopedLabels) { %>","<span class='font-weight-bold scoped-label-tooltip-title'>Scoped label</span>","<br />","<%= escapeStr(label.description) %>","<% } else { %>","<%= escapeStr(label.description) %>","<% } %>"].join(""));return o.a.template(["<% _.each(labels, function(label){ %>","<% if (isScopedLabel(label) && enableScopedLabels) { %>",'<span class="d-inline-block position-relative scoped-label-wrapper">',"<%= scopedLabelTemplate({ label, issueUpdateURL, isScopedLabel, enableScopedLabels, rightLabelTextColor, infoIconTemplate, scopedLabelsDocumentationLink, tooltipTitleTemplate, escapeStr, linkAttrs: 'data-html=\"true\"' }) %>","</span>","<% } else { %>",'<%= labelTemplate({ label, issueUpdateURL, isScopedLabel, enableScopedLabels, tooltipTitleTemplate, escapeStr, linkAttrs: "" }) %>',"<% } %>","<% }); %>"].join(""))(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{labelTemplate:r,rightLabelTextColor:function(e){var t=e.label;return(0,e.escapeStr)("#FFFFFF"===t.text_color?t.color:t.text_color)},infoIconTemplate:i,scopedLabelTemplate:a,tooltipTitleTemplate:s,isScopedLabel:f.C,escapeStr:o.a.escape}))}}],(n=[{key:"bindEvents",value:function(){return i()("body").on("change",".selected-issuable",this.onSelectCheckboxIssue)}},{key:"onSelectCheckboxIssue",value:function(){if(!i()(".selected-issuable:checked").length)return i()(".issues-bulk-update .labels-filter .dropdown-toggle-text").text(Object(s.a)("Label"))}},{key:"enableBulkLabelDropdown",value:function(){c.a.willUpdateLabels=!0}},{key:"setDropdownData",value:function(e,t,n){var r=e.data("marked")||[],i=e.data("unmarked")||[],a=e.data("indeterminate")||[];if(t){r.push(n);var o=a.indexOf(n);o>-1&&a.splice(o,1),(o=i.indexOf(n))>-1&&i.splice(o,1)}else{var s=r.indexOf(n);s>-1&&r.splice(s,1),c.a.getOriginalIndeterminateIds().indexOf(n)>-1&&i.push(n),c.a.getOriginalCommonIds().indexOf(n)>-1&&i.push(n)}e.data("marked",r),e.data("unmarked",i),e.data("indeterminate",a)}},{key:"setOriginalDropdownData",value:function(e,t){var n=[];e.find('[name="label_name[]"]').map((function(){return n.push(this.value)})),t.data("marked",n)}}])&&m(t.prototype,n),r&&m(t,r),e}()},292:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));n(30),n(28),n(42),n(35);var r=n(0),i=n.n(r),a=n(20),o=n.n(a),s=n(1),l=(n(321),n(11)),c=n(62),u=n(121),d=n(52);function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var p=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),null!==t&&(this.currentProject="string"==typeof t?JSON.parse(t):t),e.init(n,r)}var t,n,r;return t=e,r=[{key:"init",value:function(e,t){var n=i()(e);e||(n=i()(".js-milestone-select")),n.each((function(e,n){var r,a,h,p,f=i()(n),v=f.data("milestones"),g=f.data("issueUpdate"),m=f.data("showNo"),b=f.data("showAny"),y=f.data("showMenuAbove"),k=f.data("showUpcoming"),w=f.data("showStarted"),S=f.data("useId"),E=f.data("defaultLabel"),O=f.data("defaultNo"),T=f.data("abilityName"),_=f.closest(".selectbox"),j=_.closest(".block"),C=j.find(".sidebar-collapsed-icon"),I=j.find(".value"),D=j.find(".block-loading").fadeOut();return p=b?"":null,p=m&&O?Object(s.a)("No Milestone"):p,h=f.data("selected")||p,g&&(a=o.a.template('<a href="<%- web_url %>" class="bold has-tooltip" data-container="body" title="<%- remaining %>"><%- title %></a>'),r='<span class="no-value">'.concat(Object(s.a)("None"),"</span>")),f.glDropdown({showMenuAbove:y,data:function(e,t){return l.a.get(v).then((function(e){var n=e.data,r=[];b&&r.push({id:null,name:null,title:Object(s.a)("Any Milestone")}),m&&r.push({id:-1,name:Object(s.a)("No Milestone"),title:Object(s.a)("No Milestone")}),k&&r.push({id:-2,name:"#upcoming",title:Object(s.a)("Upcoming")}),w&&r.push({id:-3,name:"#started",title:Object(s.a)("Started")}),r.length&&r.push({type:"divider"}),t(r.concat(n)),y&&f.data("glDropdown").positionMenuAbove(),i()('[data-milestone-id="'.concat(o.a.escape(h),'"] > a')).addClass("is-active")}))},renderRow:function(e){return'\n          <li data-milestone-id="'.concat(o.a.escape(e.name),"\">\n            <a href='#' class='dropdown-menu-milestone-link'>\n              ").concat(o.a.escape(e.title),"\n            </a>\n          </li>\n        ")},filterable:!0,search:{fields:["title"]},selectable:!0,toggleLabel:function(e,t){return e&&"id"in e&&i()(t).hasClass("is-active")?e.title:E},defaultLabel:E,fieldName:f.data("fieldName"),text:function(e){return o.a.escape(e.title)},id:function(e){return S||f.is(".js-issuable-form-dropdown")?e.id:e.name},hidden:function(){return _.hide(),I.css("display","")},opened:function(e){var n=i()(e.currentTarget);(f.hasClass("js-issue-board-sidebar")||t.handleClick)&&(h=f[0].dataset.selected||p),i()("a.is-active",n).removeClass("is-active"),i()('[data-milestone-id="'.concat(o.a.escape(h),'"] > a'),n).addClass("is-active")},vue:f.hasClass("js-issue-board-sidebar"),clicked:function(e){var n,o,v=e.e,m=e.selectedObj;if(m){if(t.handleClick)return v.preventDefault(),void t.handleClick(m);var b=i()("body").attr("data-page"),y="projects:issues:index"===b,k=b==b&&"projects:merge_requests:index"===b,w=m.name!==h;if(h=w?m.name:p,f.hasClass("js-filter-bulk-update")||f.hasClass("js-issuable-form-dropdown"))v.preventDefault();else if(f.closest(".add-issues-modal").length&&(o=u.a.store.filter),o)o[f.data("fieldName")]=m.name,v.preventDefault();else{if(f.hasClass("js-filter-submit")&&(y||k))return Issuable.filterResults(f.closest("form"));if(f.hasClass("js-filter-submit"))return f.closest("form").submit();if(!f.hasClass("js-issue-board-sidebar"))return m=_.find('input[type="hidden"]').val(),(n={})[T]={},n[T].milestone_id=null!=m?m:null,D.removeClass("hidden").fadeIn(),f.trigger("loading.gl.dropdown"),l.a.put(g,n).then((function(e){var t=e.data;return f.trigger("loaded.gl.dropdown"),D.fadeOut(),_.hide(),I.css("display",""),null!=t.milestone?(t.milestone.remaining=Object(c.s)(t.milestone.due_date),t.milestone.name=t.milestone.title,I.html(a(t.milestone)),C.attr("data-original-title","".concat(t.milestone.name,"<br />").concat(t.milestone.remaining)).find("span").text(t.milestone.title)):(I.html(r),C.attr("data-original-title",Object(s.a)("Milestone")).find("span").text(Object(s.a)("None")))})).catch((function(){D.fadeOut()}));-1!==m.id&&w?Object(d.b)("milestone",new ListMilestone({id:m.id,title:m.name})):Object(d.a)("milestone"),f.trigger("loading.gl.dropdown"),D.removeClass("hidden").fadeIn(),d.c.detail.issue.update(f.attr("data-issue-update")).then((function(){f.trigger("loaded.gl.dropdown"),D.fadeOut()})).catch((function(){D.fadeOut()}))}}}})}))}}],(n=null)&&h(t.prototype,n),r&&h(t,r),e}();window.MilestoneSelect=p},297:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(30),n(42),n(46),n(55),n(91);var r=n(1);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.tokenKeys=t,this.alternativeTokenKeys=n,this.conditions=r,this.tokenKeysWithAlternative=this.tokenKeys.concat(this.alternativeTokenKeys)}var t,n,a;return t=e,(n=[{key:"get",value:function(){return this.tokenKeys}},{key:"getKeys",value:function(){return this.tokenKeys.map((function(e){return e.key}))}},{key:"getAlternatives",value:function(){return this.alternativeTokenKeys}},{key:"getConditions",value:function(){return this.conditions}},{key:"shouldUppercaseTokenName",value:function(e){var t=this.searchByKey(e.toLowerCase());return t&&t.uppercaseTokenName}},{key:"shouldCapitalizeTokenValue",value:function(e){var t=this.searchByKey(e.toLowerCase());return t&&t.capitalizeTokenValue}},{key:"searchByKey",value:function(e){return this.tokenKeys.find((function(t){return t.key===e}))||null}},{key:"searchBySymbol",value:function(e){return this.tokenKeys.find((function(t){return t.symbol===e}))||null}},{key:"searchByKeyParam",value:function(e){return this.tokenKeysWithAlternative.find((function(t){var n=t.key;return n=n.replace("-","_"),t.param&&(n+="_".concat(t.param)),e===n}))||null}},{key:"searchByConditionUrl",value:function(e){return this.conditions.find((function(t){return t.url===e}))||null}},{key:"searchByConditionKeyValue",value:function(e,t,n){return this.conditions.find((function(r){return r.tokenKey===e&&r.operator===t&&r.value.toLowerCase()===n.toLowerCase()}))||null}},{key:"addExtraTokensForIssues",value:function(){var e={formattedKey:Object(r.a)("Confidential"),key:"confidential",type:"string",param:"",symbol:"",icon:"eye-slash",tag:Object(r.a)("Yes or No"),lowercaseValueOnSubmit:!0,uppercaseTokenName:!1,capitalizeTokenValue:!0};this.tokenKeys.push(e),this.tokenKeysWithAlternative.push(e)}}])&&i(t.prototype,n),a&&i(t,a),e}()},307:function(e,t,n){"use strict";n(24),n(49),n(56),n(30),n(28),n(26),n(104),n(40),n(46),n(69),n(50),n(58),n(38),n(18),n(55),n(68),n(122),n(36),n(67),n(27),n(41);var r=n(463),i=n.n(r),a=n(297),o=n(1);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var d=[{formattedKey:Object(o.a)("Author"),key:"author",type:"string",param:"username",symbol:"@",icon:"pencil",tag:"@author"},{formattedKey:Object(o.a)("Assignee"),key:"assignee",type:"string",param:"username",symbol:"@",icon:"user",tag:"@assignee"},{formattedKey:Object(o.a)("Milestone"),key:"milestone",type:"string",param:"title",symbol:"%",icon:"clock",tag:"%milestone"},{formattedKey:Object(o.a)("Release"),key:"release",type:"string",param:"tag",symbol:"",icon:"rocket",tag:Object(o.a)("tag name")},{formattedKey:Object(o.a)("Label"),key:"label",type:"array",param:"name[]",symbol:"~",icon:"labels",tag:"~label"}];gon.current_user_id&&d.push({formattedKey:Object(o.a)("My-Reaction"),key:"my-reaction",type:"string",param:"emoji",symbol:"",icon:"thumb-up",tag:"emoji"});var h=[{formattedKey:Object(o.a)("Label"),key:"label",type:"string",param:"name",symbol:"~"}],p=i()([{url:"assignee_id=None",tokenKey:"assignee",value:Object(o.a)("None")},{url:"assignee_id=Any",tokenKey:"assignee",value:Object(o.a)("Any")},{url:"milestone_title=None",tokenKey:"milestone",value:Object(o.a)("None")},{url:"milestone_title=Any",tokenKey:"milestone",value:Object(o.a)("Any")},{url:"milestone_title=%23upcoming",tokenKey:"milestone",value:Object(o.a)("Upcoming")},{url:"milestone_title=%23started",tokenKey:"milestone",value:Object(o.a)("Started")},{url:"release_tag=None",tokenKey:"release",value:Object(o.a)("None")},{url:"release_tag=Any",tokenKey:"release",value:Object(o.a)("Any")},{url:"label_name[]=None",tokenKey:"label",value:Object(o.a)("None")},{url:"label_name[]=Any",tokenKey:"label",value:Object(o.a)("Any")},{url:"my_reaction_emoji=None",tokenKey:"my-reaction",value:Object(o.a)("None")},{url:"my_reaction_emoji=Any",tokenKey:"my-reaction",value:Object(o.a)("Any")}].map((function(e){var t=u(e.url.split("="),2),n=t[0],r=t[1],i=n.includes("[]"),a="not[".concat(i?n.slice(0,-2):n,"]").concat(i?"[]":"","=").concat(r);return[l({},e,{operator:"="}),l({},e,{operator:"!=",url:a})]}))),f=new a.a(d,h,p);t.a=f},323:function(e,t,n){var r=n(426)();e.exports=r},350:function(e,t,n){"use strict";
/**!
 * Sortable 1.10.2
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}function s(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function l(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.r(t),n.d(t,"MultiDrag",(function(){return yt})),n.d(t,"Sortable",(function(){return Re})),n.d(t,"Swap",(function(){return lt}));function c(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var u=c(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),d=c(/Edge/i),h=c(/firefox/i),p=c(/safari/i)&&!c(/chrome/i)&&!c(/android/i),f=c(/iP(ad|od|hone)/i),v=c(/chrome/i)&&c(/android/i),g={capture:!1,passive:!1};function m(e,t,n){e.addEventListener(t,n,!u&&g)}function b(e,t,n){e.removeEventListener(t,n,!u&&g)}function y(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return!1}return!1}}function k(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function w(e,t,n,r){if(e){n=n||document;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&y(e,t):y(e,t))||r&&e===n)return e;if(e===n)break}while(e=k(e))}return null}var S,E=/\s+/g;function O(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(E," ").replace(" "+t+" "," ");e.className=(r+(n?" "+t:"")).replace(E," ")}}function T(e,t,n){var r=e&&e.style;if(r){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in r||-1!==t.indexOf("webkit")||(t="-webkit-"+t),r[t]=n+("string"==typeof n?"":"px")}}function _(e,t){var n="";if("string"==typeof e)n=e;else do{var r=T(e,"transform");r&&"none"!==r&&(n=r+" "+n)}while(!t&&(e=e.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function j(e,t,n){if(e){var r=e.getElementsByTagName(t),i=0,a=r.length;if(n)for(;i<a;i++)n(r[i],i);return r}return[]}function C(){var e=document.scrollingElement;return e||document.documentElement}function I(e,t,n,r,i){if(e.getBoundingClientRect||e===window){var a,o,s,l,c,d,h;if(e!==window&&e!==C()?(o=(a=e.getBoundingClientRect()).top,s=a.left,l=a.bottom,c=a.right,d=a.height,h=a.width):(o=0,s=0,l=window.innerHeight,c=window.innerWidth,d=window.innerHeight,h=window.innerWidth),(t||n)&&e!==window&&(i=i||e.parentNode,!u))do{if(i&&i.getBoundingClientRect&&("none"!==T(i,"transform")||n&&"static"!==T(i,"position"))){var p=i.getBoundingClientRect();o-=p.top+parseInt(T(i,"border-top-width")),s-=p.left+parseInt(T(i,"border-left-width")),l=o+a.height,c=s+a.width;break}}while(i=i.parentNode);if(r&&e!==window){var f=_(i||e),v=f&&f.a,g=f&&f.d;f&&(l=(o/=g)+(d/=g),c=(s/=v)+(h/=v))}return{top:o,left:s,bottom:l,right:c,width:h,height:d}}}function D(e,t,n){for(var r=B(e,!0),i=I(e)[t];r;){var a=I(r)[n];if(!("top"===n||"left"===n?i>=a:i<=a))return r;if(r===C())break;r=B(r,!1)}return!1}function P(e,t,n){for(var r=0,i=0,a=e.children;i<a.length;){if("none"!==a[i].style.display&&a[i]!==Re.ghost&&a[i]!==Re.dragged&&w(a[i],n.draggable,e,!1)){if(r===t)return a[i];r++}i++}return null}function L(e,t){for(var n=e.lastElementChild;n&&(n===Re.ghost||"none"===T(n,"display")||t&&!y(n,t));)n=n.previousElementSibling;return n||null}function x(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===Re.clone||t&&!y(e,t)||n++;return n}function A(e){var t=0,n=0,r=C();if(e)do{var i=_(e),a=i.a,o=i.d;t+=e.scrollLeft*a,n+=e.scrollTop*o}while(e!==r&&(e=e.parentNode));return[t,n]}function B(e,t){if(!e||!e.getBoundingClientRect)return C();var n=e,r=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=T(n);if(n.clientWidth<n.scrollWidth&&("auto"==i.overflowX||"scroll"==i.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==i.overflowY||"scroll"==i.overflowY)){if(!n.getBoundingClientRect||n===document.body)return C();if(r||t)return n;r=!0}}}while(n=n.parentNode);return C()}function N(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function q(e,t){return function(){if(!S){var n=arguments,r=this;1===n.length?e.call(r,n[0]):e.apply(r,n),S=setTimeout((function(){S=void 0}),t)}}}function M(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function F(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function R(e,t){T(e,"position","absolute"),T(e,"top",t.top),T(e,"left",t.left),T(e,"width",t.width),T(e,"height",t.height)}function V(e){T(e,"position",""),T(e,"top",""),T(e,"left",""),T(e,"width",""),T(e,"height","")}var K="Sortable"+(new Date).getTime();function W(){var e,t=[];return{captureAnimationState:function(){(t=[],this.options.animation)&&[].slice.call(this.el.children).forEach((function(e){if("none"!==T(e,"display")&&e!==Re.ghost){t.push({target:e,rect:I(e)});var n=o({},t[t.length-1].rect);if(e.thisAnimationDuration){var r=_(e,!0);r&&(n.top-=r.f,n.left-=r.e)}e.fromRect=n}}))},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(function(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var r in t)if(t.hasOwnProperty(r)&&t[r]===e[n][r])return Number(n);return-1}(t,{target:e}),1)},animateAll:function(n){var r=this;if(!this.options.animation)return clearTimeout(e),void("function"==typeof n&&n());var i=!1,a=0;t.forEach((function(e){var t=0,n=e.target,o=n.fromRect,s=I(n),l=n.prevFromRect,c=n.prevToRect,u=e.rect,d=_(n,!0);d&&(s.top-=d.f,s.left-=d.e),n.toRect=s,n.thisAnimationDuration&&N(l,s)&&!N(o,s)&&(u.top-s.top)/(u.left-s.left)==(o.top-s.top)/(o.left-s.left)&&(t=function(e,t,n,r){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*r.animation}(u,l,c,r.options)),N(s,o)||(n.prevFromRect=o,n.prevToRect=s,t||(t=r.options.animation),r.animate(n,u,s,t)),t&&(i=!0,a=Math.max(a,t),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout((function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null}),t),n.thisAnimationDuration=t)})),clearTimeout(e),i?e=setTimeout((function(){"function"==typeof n&&n()}),a):"function"==typeof n&&n(),t=[]},animate:function(e,t,n,r){if(r){T(e,"transition",""),T(e,"transform","");var i=_(this.el),a=i&&i.a,o=i&&i.d,s=(t.left-n.left)/(a||1),l=(t.top-n.top)/(o||1);e.animatingX=!!s,e.animatingY=!!l,T(e,"transform","translate3d("+s+"px,"+l+"px,0)"),function(e){e.offsetWidth}(e),T(e,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),T(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){T(e,"transition",""),T(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),r)}}}}var $=[],H={initializeByDefault:!0},U={mount:function(e){for(var t in H)!H.hasOwnProperty(t)||t in e||(e[t]=H[t]);$.push(e)},pluginEvent:function(e,t,n){var r=this;this.eventCanceled=!1,n.cancel=function(){r.eventCanceled=!0};var i=e+"Global";$.forEach((function(r){t[r.pluginName]&&(t[r.pluginName][i]&&t[r.pluginName][i](o({sortable:t},n)),t.options[r.pluginName]&&t[r.pluginName][e]&&t[r.pluginName][e](o({sortable:t},n)))}))},initializePlugins:function(e,t,n,r){for(var i in $.forEach((function(r){var i=r.pluginName;if(e.options[i]||r.initializeByDefault){var o=new r(e,t,e.options);o.sortable=e,o.options=e.options,e[i]=o,a(n,o.defaults)}})),e.options)if(e.options.hasOwnProperty(i)){var o=this.modifyOption(e,i,e.options[i]);void 0!==o&&(e.options[i]=o)}},getEventProperties:function(e,t){var n={};return $.forEach((function(r){"function"==typeof r.eventProperties&&a(n,r.eventProperties.call(t[r.pluginName],e))})),n},modifyOption:function(e,t,n){var r;return $.forEach((function(i){e[i.pluginName]&&i.optionListeners&&"function"==typeof i.optionListeners[t]&&(r=i.optionListeners[t].call(e[i.pluginName],n))})),r}};function G(e){var t=e.sortable,n=e.rootEl,r=e.name,i=e.targetEl,a=e.cloneEl,s=e.toEl,l=e.fromEl,c=e.oldIndex,h=e.newIndex,p=e.oldDraggableIndex,f=e.newDraggableIndex,v=e.originalEvent,g=e.putSortable,m=e.extraEventProperties;if(t=t||n&&n[K]){var b,y=t.options,k="on"+r.charAt(0).toUpperCase()+r.substr(1);!window.CustomEvent||u||d?(b=document.createEvent("Event")).initEvent(r,!0,!0):b=new CustomEvent(r,{bubbles:!0,cancelable:!0}),b.to=s||n,b.from=l||n,b.item=i||n,b.clone=a,b.oldIndex=c,b.newIndex=h,b.oldDraggableIndex=p,b.newDraggableIndex=f,b.originalEvent=v,b.pullMode=g?g.lastPutMode:void 0;var w=o({},m,U.getEventProperties(r,t));for(var S in w)b[S]=w[S];n&&n.dispatchEvent(b),y[k]&&y[k].call(t,b)}}var z=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.evt,i=s(n,["evt"]);U.pluginEvent.bind(Re)(e,t,o({dragEl:X,parentEl:Q,ghostEl:J,rootEl:Z,nextEl:ee,lastDownEl:te,cloneEl:ne,cloneHidden:re,dragStarted:ge,putSortable:ce,activeSortable:Re.active,originalEvent:r,oldIndex:ie,oldDraggableIndex:oe,newIndex:ae,newDraggableIndex:se,hideGhostForTarget:Ne,unhideGhostForTarget:qe,cloneNowHidden:function(){re=!0},cloneNowShown:function(){re=!1},dispatchSortableEvent:function(e){Y({sortable:t,name:e,originalEvent:r})}},i))};function Y(e){G(o({putSortable:ce,cloneEl:ne,targetEl:X,rootEl:Z,oldIndex:ie,oldDraggableIndex:oe,newIndex:ae,newDraggableIndex:se},e))}var X,Q,J,Z,ee,te,ne,re,ie,ae,oe,se,le,ce,ue,de,he,pe,fe,ve,ge,me,be,ye,ke,we=!1,Se=!1,Ee=[],Oe=!1,Te=!1,_e=[],je=!1,Ce=[],Ie="undefined"!=typeof document,De=f,Pe=d||u?"cssFloat":"float",Le=Ie&&!v&&!f&&"draggable"in document.createElement("div"),xe=function(){if(Ie){if(u)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),Ae=function(e,t){var n=T(e),r=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),i=P(e,0,t),a=P(e,1,t),o=i&&T(i),s=a&&T(a),l=o&&parseInt(o.marginLeft)+parseInt(o.marginRight)+I(i).width,c=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+I(a).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&o.float&&"none"!==o.float){var u="left"===o.float?"left":"right";return!a||"both"!==s.clear&&s.clear!==u?"horizontal":"vertical"}return i&&("block"===o.display||"flex"===o.display||"table"===o.display||"grid"===o.display||l>=r&&"none"===n[Pe]||a&&"none"===n[Pe]&&l+c>r)?"vertical":"horizontal"},Be=function(e){function t(e,n){return function(r,i,a,o){var s=r.options.group.name&&i.options.group.name&&r.options.group.name===i.options.group.name;if(null==e&&(n||s))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"==typeof e)return t(e(r,i,a,o),n)(r,i,a,o);var l=(n?r:i).options.group.name;return!0===e||"string"==typeof e&&e===l||e.join&&e.indexOf(l)>-1}}var n={},i=e.group;i&&"object"==r(i)||(i={name:i}),n.name=i.name,n.checkPull=t(i.pull,!0),n.checkPut=t(i.put),n.revertClone=i.revertClone,e.group=n},Ne=function(){!xe&&J&&T(J,"display","none")},qe=function(){!xe&&J&&T(J,"display","")};Ie&&document.addEventListener("click",(function(e){if(Se)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Se=!1,!1}),!0);var Me=function(e){if(X){e=e.touches?e.touches[0]:e;var t=(i=e.clientX,a=e.clientY,Ee.some((function(e){if(!L(e)){var t=I(e),n=e[K].options.emptyInsertThreshold,r=i>=t.left-n&&i<=t.right+n,s=a>=t.top-n&&a<=t.bottom+n;return n&&r&&s?o=e:void 0}})),o);if(t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[K]._onDragOver(n)}}var i,a,o},Fe=function(e){X&&X.parentNode[K]._isOutsideThisEl(e.target)};function Re(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=a({},t),e[K]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Ae(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Re.supportPointer&&"PointerEvent"in window,emptyInsertThreshold:5};for(var r in U.initializePlugins(this,e,n),n)!(r in t)&&(t[r]=n[r]);for(var i in Be(t),this)"_"===i.charAt(0)&&"function"==typeof this[i]&&(this[i]=this[i].bind(this));this.nativeDraggable=!t.forceFallback&&Le,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?m(e,"pointerdown",this._onTapStart):(m(e,"mousedown",this._onTapStart),m(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(m(e,"dragover",this),m(e,"dragenter",this)),Ee.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),a(this,W())}function Ve(e,t,n,r,i,a,o,s){var l,c,h=e[K],p=h.options.onMove;return!window.CustomEvent||u||d?(l=document.createEvent("Event")).initEvent("move",!0,!0):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=t,l.from=e,l.dragged=n,l.draggedRect=r,l.related=i||t,l.relatedRect=a||I(t),l.willInsertAfter=s,l.originalEvent=o,e.dispatchEvent(l),p&&(c=p.call(h,l,o)),c}function Ke(e){e.draggable=!1}function We(){je=!1}function $e(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;n--;)r+=t.charCodeAt(n);return r.toString(36)}function He(e){return setTimeout(e,0)}function Ue(e){return clearTimeout(e)}Re.prototype={constructor:Re,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(me=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,X):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,r=this.options,i=r.preventOnFilter,a=e.type,o=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,s=(o||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,c=r.filter;if(function(e){Ce.length=0;var t=e.getElementsByTagName("input"),n=t.length;for(;n--;){var r=t[n];r.checked&&Ce.push(r)}}(n),!X&&!(/mousedown|pointerdown/.test(a)&&0!==e.button||r.disabled||l.isContentEditable||(s=w(s,r.draggable,n,!1))&&s.animated||te===s)){if(ie=x(s),oe=x(s,r.draggable),"function"==typeof c){if(c.call(this,e,s,this))return Y({sortable:t,rootEl:l,name:"filter",targetEl:s,toEl:n,fromEl:n}),z("filter",t,{evt:e}),void(i&&e.cancelable&&e.preventDefault())}else if(c&&(c=c.split(",").some((function(r){if(r=w(l,r.trim(),n,!1))return Y({sortable:t,rootEl:r,name:"filter",targetEl:s,fromEl:n,toEl:n}),z("filter",t,{evt:e}),!0}))))return void(i&&e.cancelable&&e.preventDefault());r.handle&&!w(l,r.handle,n,!1)||this._prepareDragStart(e,o,s)}}},_prepareDragStart:function(e,t,n){var r,i=this,a=i.el,o=i.options,s=a.ownerDocument;if(n&&!X&&n.parentNode===a){var l=I(n);if(Z=a,Q=(X=n).parentNode,ee=X.nextSibling,te=n,le=o.group,Re.dragged=X,ue={target:X,clientX:(t||e).clientX,clientY:(t||e).clientY},fe=ue.clientX-l.left,ve=ue.clientY-l.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,X.style["will-change"]="all",r=function(){z("delayEnded",i,{evt:e}),Re.eventCanceled?i._onDrop():(i._disableDelayedDragEvents(),!h&&i.nativeDraggable&&(X.draggable=!0),i._triggerDragStart(e,t),Y({sortable:i,name:"choose",originalEvent:e}),O(X,o.chosenClass,!0))},o.ignore.split(",").forEach((function(e){j(X,e.trim(),Ke)})),m(s,"dragover",Me),m(s,"mousemove",Me),m(s,"touchmove",Me),m(s,"mouseup",i._onDrop),m(s,"touchend",i._onDrop),m(s,"touchcancel",i._onDrop),h&&this.nativeDraggable&&(this.options.touchStartThreshold=4,X.draggable=!0),z("delayStart",this,{evt:e}),!o.delay||o.delayOnTouchOnly&&!t||this.nativeDraggable&&(d||u))r();else{if(Re.eventCanceled)return void this._onDrop();m(s,"mouseup",i._disableDelayedDrag),m(s,"touchend",i._disableDelayedDrag),m(s,"touchcancel",i._disableDelayedDrag),m(s,"mousemove",i._delayedDragTouchMoveHandler),m(s,"touchmove",i._delayedDragTouchMoveHandler),o.supportPointer&&m(s,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(r,o.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){X&&Ke(X),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;b(e,"mouseup",this._disableDelayedDrag),b(e,"touchend",this._disableDelayedDrag),b(e,"touchcancel",this._disableDelayedDrag),b(e,"mousemove",this._delayedDragTouchMoveHandler),b(e,"touchmove",this._delayedDragTouchMoveHandler),b(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?m(document,"pointermove",this._onTouchMove):m(document,t?"touchmove":"mousemove",this._onTouchMove):(m(X,"dragend",this),m(Z,"dragstart",this._onDragStart));try{document.selection?He((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(e,t){if(we=!1,Z&&X){z("dragStarted",this,{evt:t}),this.nativeDraggable&&m(document,"dragover",Fe);var n=this.options;!e&&O(X,n.dragClass,!1),O(X,n.ghostClass,!0),Re.active=this,e&&this._appendGhost(),Y({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(de){this._lastX=de.clientX,this._lastY=de.clientY,Ne();for(var e=document.elementFromPoint(de.clientX,de.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(de.clientX,de.clientY))!==t;)t=e;if(X.parentNode[K]._isOutsideThisEl(e),t)do{if(t[K]){if(t[K]._onDragOver({clientX:de.clientX,clientY:de.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);qe()}},_onTouchMove:function(e){if(ue){var t=this.options,n=t.fallbackTolerance,r=t.fallbackOffset,i=e.touches?e.touches[0]:e,a=J&&_(J,!0),o=J&&a&&a.a,s=J&&a&&a.d,l=De&&ke&&A(ke),c=(i.clientX-ue.clientX+r.x)/(o||1)+(l?l[0]-_e[0]:0)/(o||1),u=(i.clientY-ue.clientY+r.y)/(s||1)+(l?l[1]-_e[1]:0)/(s||1);if(!Re.active&&!we){if(n&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(J){a?(a.e+=c-(he||0),a.f+=u-(pe||0)):a={a:1,b:0,c:0,d:1,e:c,f:u};var d="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");T(J,"webkitTransform",d),T(J,"mozTransform",d),T(J,"msTransform",d),T(J,"transform",d),he=c,pe=u,de=i}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!J){var e=this.options.fallbackOnBody?document.body:Z,t=I(X,!0,De,!0,e),n=this.options;if(De){for(ke=e;"static"===T(ke,"position")&&"none"===T(ke,"transform")&&ke!==document;)ke=ke.parentNode;ke!==document.body&&ke!==document.documentElement?(ke===document&&(ke=C()),t.top+=ke.scrollTop,t.left+=ke.scrollLeft):ke=C(),_e=A(ke)}O(J=X.cloneNode(!0),n.ghostClass,!1),O(J,n.fallbackClass,!0),O(J,n.dragClass,!0),T(J,"transition",""),T(J,"transform",""),T(J,"box-sizing","border-box"),T(J,"margin",0),T(J,"top",t.top),T(J,"left",t.left),T(J,"width",t.width),T(J,"height",t.height),T(J,"opacity","0.8"),T(J,"position",De?"absolute":"fixed"),T(J,"zIndex","100000"),T(J,"pointerEvents","none"),Re.ghost=J,e.appendChild(J),T(J,"transform-origin",fe/parseInt(J.style.width)*100+"% "+ve/parseInt(J.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,r=e.dataTransfer,i=n.options;z("dragStart",this,{evt:e}),Re.eventCanceled?this._onDrop():(z("setupClone",this),Re.eventCanceled||((ne=F(X)).draggable=!1,ne.style["will-change"]="",this._hideClone(),O(ne,this.options.chosenClass,!1),Re.clone=ne),n.cloneId=He((function(){z("clone",n),Re.eventCanceled||(n.options.removeCloneOnHide||Z.insertBefore(ne,X),n._hideClone(),Y({sortable:n,name:"clone"}))})),!t&&O(X,i.dragClass,!0),t?(Se=!0,n._loopId=setInterval(n._emulateDragOver,50)):(b(document,"mouseup",n._onDrop),b(document,"touchend",n._onDrop),b(document,"touchcancel",n._onDrop),r&&(r.effectAllowed="move",i.setData&&i.setData.call(n,r,X)),m(document,"drop",n),T(X,"transform","translateZ(0)")),we=!0,n._dragStartId=He(n._dragStarted.bind(n,t,e)),m(document,"selectstart",n),ge=!0,p&&T(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,r,i,a=this.el,s=e.target,l=this.options,c=l.group,u=Re.active,d=le===c,h=l.sort,p=ce||u,f=this,v=!1;if(!je){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),s=w(s,l.draggable,a,!0),N("dragOver"),Re.eventCanceled)return v;if(X.contains(e.target)||s.animated&&s.animatingX&&s.animatingY||f._ignoreWhileAnimating===s)return F(!1);if(Se=!1,u&&!l.disabled&&(d?h||(r=!Z.contains(X)):ce===this||(this.lastPutMode=le.checkPull(this,u,X,e))&&c.checkPut(this,u,X,e))){if(i="vertical"===this._getDirection(e,s),t=I(X),N("dragOverValid"),Re.eventCanceled)return v;if(r)return Q=Z,q(),this._hideClone(),N("revert"),Re.eventCanceled||(ee?Z.insertBefore(X,ee):Z.appendChild(X)),F(!0);var g=L(a,l.draggable);if(!g||function(e,t,n){var r=I(L(n.el,n.options.draggable));return t?e.clientX>r.right+10||e.clientX<=r.right&&e.clientY>r.bottom&&e.clientX>=r.left:e.clientX>r.right&&e.clientY>r.top||e.clientX<=r.right&&e.clientY>r.bottom+10}(e,i,this)&&!g.animated){if(g===X)return F(!1);if(g&&a===e.target&&(s=g),s&&(n=I(s)),!1!==Ve(Z,a,X,t,s,n,e,!!s))return q(),a.appendChild(X),Q=a,R(),F(!0)}else if(s.parentNode===a){n=I(s);var m,b,y,k=X.parentNode!==a,S=!function(e,t,n){var r=n?e.left:e.top,i=n?e.right:e.bottom,a=n?e.width:e.height,o=n?t.left:t.top,s=n?t.right:t.bottom,l=n?t.width:t.height;return r===o||i===s||r+a/2===o+l/2}(X.animated&&X.toRect||t,s.animated&&s.toRect||n,i),E=i?"top":"left",_=D(s,"top","top")||D(X,"top","top"),j=_?_.scrollTop:void 0;if(me!==s&&(b=n[E],Oe=!1,Te=!S&&l.invertSwap||k),0!==(m=function(e,t,n,r,i,a,o,s){var l=r?e.clientY:e.clientX,c=r?n.height:n.width,u=r?n.top:n.left,d=r?n.bottom:n.right,h=!1;if(!o)if(s&&ye<c*i){if(!Oe&&(1===be?l>u+c*a/2:l<d-c*a/2)&&(Oe=!0),Oe)h=!0;else if(1===be?l<u+ye:l>d-ye)return-be}else if(l>u+c*(1-i)/2&&l<d-c*(1-i)/2)return function(e){return x(X)<x(e)?1:-1}(t);if((h=h||o)&&(l<u+c*a/2||l>d-c*a/2))return l>u+c/2?1:-1;return 0}(e,s,n,i,S?1:l.swapThreshold,null==l.invertedSwapThreshold?l.swapThreshold:l.invertedSwapThreshold,Te,me===s))){var C=x(X);do{C-=m,y=Q.children[C]}while(y&&("none"===T(y,"display")||y===J))}if(0===m||y===s)return F(!1);me=s,be=m;var P=s.nextElementSibling,A=!1,B=Ve(Z,a,X,t,s,n,e,A=1===m);if(!1!==B)return 1!==B&&-1!==B||(A=1===B),je=!0,setTimeout(We,30),q(),A&&!P?a.appendChild(X):s.parentNode.insertBefore(X,A?P:s),_&&M(_,0,j-_.scrollTop),Q=X.parentNode,void 0===b||Te||(ye=Math.abs(b-I(s)[E])),R(),F(!0)}if(a.contains(X))return F(!1)}return!1}function N(l,c){z(l,f,o({evt:e,isOwner:d,axis:i?"vertical":"horizontal",revert:r,dragRect:t,targetRect:n,canSort:h,fromSortable:p,target:s,completed:F,onMove:function(n,r){return Ve(Z,a,X,t,n,I(n),e,r)},changed:R},c))}function q(){N("dragOverAnimationCapture"),f.captureAnimationState(),f!==p&&p.captureAnimationState()}function F(t){return N("dragOverCompleted",{insertion:t}),t&&(d?u._hideClone():u._showClone(f),f!==p&&(O(X,ce?ce.options.ghostClass:u.options.ghostClass,!1),O(X,l.ghostClass,!0)),ce!==f&&f!==Re.active?ce=f:f===Re.active&&ce&&(ce=null),p===f&&(f._ignoreWhileAnimating=s),f.animateAll((function(){N("dragOverAnimationComplete"),f._ignoreWhileAnimating=null})),f!==p&&(p.animateAll(),p._ignoreWhileAnimating=null)),(s===X&&!X.animated||s===a&&!s.animated)&&(me=null),l.dragoverBubble||e.rootEl||s===document||(X.parentNode[K]._isOutsideThisEl(e.target),!t&&Me(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),v=!0}function R(){ae=x(X),se=x(X,l.draggable),Y({sortable:f,name:"change",toEl:a,newIndex:ae,newDraggableIndex:se,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){b(document,"mousemove",this._onTouchMove),b(document,"touchmove",this._onTouchMove),b(document,"pointermove",this._onTouchMove),b(document,"dragover",Me),b(document,"mousemove",Me),b(document,"touchmove",Me)},_offUpEvents:function(){var e=this.el.ownerDocument;b(e,"mouseup",this._onDrop),b(e,"touchend",this._onDrop),b(e,"pointerup",this._onDrop),b(e,"touchcancel",this._onDrop),b(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;ae=x(X),se=x(X,n.draggable),z("drop",this,{evt:e}),Q=X&&X.parentNode,ae=x(X),se=x(X,n.draggable),Re.eventCanceled?this._nulling():(we=!1,Te=!1,Oe=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Ue(this.cloneId),Ue(this._dragStartId),this.nativeDraggable&&(b(document,"drop",this),b(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),p&&T(document.body,"user-select",""),T(X,"transform",""),e&&(ge&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),J&&J.parentNode&&J.parentNode.removeChild(J),(Z===Q||ce&&"clone"!==ce.lastPutMode)&&ne&&ne.parentNode&&ne.parentNode.removeChild(ne),X&&(this.nativeDraggable&&b(X,"dragend",this),Ke(X),X.style["will-change"]="",ge&&!we&&O(X,ce?ce.options.ghostClass:this.options.ghostClass,!1),O(X,this.options.chosenClass,!1),Y({sortable:this,name:"unchoose",toEl:Q,newIndex:null,newDraggableIndex:null,originalEvent:e}),Z!==Q?(ae>=0&&(Y({rootEl:Q,name:"add",toEl:Q,fromEl:Z,originalEvent:e}),Y({sortable:this,name:"remove",toEl:Q,originalEvent:e}),Y({rootEl:Q,name:"sort",toEl:Q,fromEl:Z,originalEvent:e}),Y({sortable:this,name:"sort",toEl:Q,originalEvent:e})),ce&&ce.save()):ae!==ie&&ae>=0&&(Y({sortable:this,name:"update",toEl:Q,originalEvent:e}),Y({sortable:this,name:"sort",toEl:Q,originalEvent:e})),Re.active&&(null!=ae&&-1!==ae||(ae=ie,se=oe),Y({sortable:this,name:"end",toEl:Q,originalEvent:e}),this.save()))),this._nulling())},_nulling:function(){z("nulling",this),Z=X=Q=J=ee=ne=te=re=ue=de=ge=ae=se=ie=oe=me=be=ce=le=Re.dragged=Re.ghost=Re.clone=Re.active=null,Ce.forEach((function(e){e.checked=!0})),Ce.length=he=pe=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":X&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,r=0,i=n.length,a=this.options;r<i;r++)w(e=n[r],a.draggable,this.el,!1)&&t.push(e.getAttribute(a.dataIdAttr)||$e(e));return t},sort:function(e){var t={},n=this.el;this.toArray().forEach((function(e,r){var i=n.children[r];w(i,this.options.draggable,n,!1)&&(t[e]=i)}),this),e.forEach((function(e){t[e]&&(n.removeChild(t[e]),n.appendChild(t[e]))}))},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return w(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var r=U.modifyOption(this,e,t);n[e]=void 0!==r?r:t,"group"===e&&Be(n)},destroy:function(){z("destroy",this);var e=this.el;e[K]=null,b(e,"mousedown",this._onTapStart),b(e,"touchstart",this._onTapStart),b(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(b(e,"dragover",this),b(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),Ee.splice(Ee.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!re){if(z("hideClone",this),Re.eventCanceled)return;T(ne,"display","none"),this.options.removeCloneOnHide&&ne.parentNode&&ne.parentNode.removeChild(ne),re=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(re){if(z("showClone",this),Re.eventCanceled)return;Z.contains(X)&&!this.options.group.revertClone?Z.insertBefore(ne,X):ee?Z.insertBefore(ne,ee):Z.appendChild(ne),this.options.group.revertClone&&this.animate(X,ne),T(ne,"display",""),re=!1}}else this._hideClone()}},Ie&&m(document,"touchmove",(function(e){(Re.active||we)&&e.cancelable&&e.preventDefault()})),Re.utils={on:m,off:b,css:T,find:j,is:function(e,t){return!!w(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},throttle:q,closest:w,toggleClass:O,clone:F,index:x,nextTick:He,cancelNextTick:Ue,detectDirection:Ae,getChild:P},Re.get=function(e){return e[K]},Re.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(Re.utils=o({},Re.utils,e.utils)),U.mount(e)}))},Re.create=function(e,t){return new Re(e,t)},Re.version="1.10.2";var Ge,ze,Ye,Xe,Qe,Je,Ze=[],et=!1;function tt(){Ze.forEach((function(e){clearInterval(e.pid)})),Ze=[]}function nt(){clearInterval(Je)}var rt,it=q((function(e,t,n,r){if(t.scroll){var i,a=(e.touches?e.touches[0]:e).clientX,o=(e.touches?e.touches[0]:e).clientY,s=t.scrollSensitivity,l=t.scrollSpeed,c=C(),u=!1;ze!==n&&(ze=n,tt(),Ge=t.scroll,i=t.scrollFn,!0===Ge&&(Ge=B(n,!0)));var d=0,h=Ge;do{var p=h,f=I(p),v=f.top,g=f.bottom,m=f.left,b=f.right,y=f.width,k=f.height,w=void 0,S=void 0,E=p.scrollWidth,O=p.scrollHeight,_=T(p),j=p.scrollLeft,D=p.scrollTop;p===c?(w=y<E&&("auto"===_.overflowX||"scroll"===_.overflowX||"visible"===_.overflowX),S=k<O&&("auto"===_.overflowY||"scroll"===_.overflowY||"visible"===_.overflowY)):(w=y<E&&("auto"===_.overflowX||"scroll"===_.overflowX),S=k<O&&("auto"===_.overflowY||"scroll"===_.overflowY));var P=w&&(Math.abs(b-a)<=s&&j+y<E)-(Math.abs(m-a)<=s&&!!j),L=S&&(Math.abs(g-o)<=s&&D+k<O)-(Math.abs(v-o)<=s&&!!D);if(!Ze[d])for(var x=0;x<=d;x++)Ze[x]||(Ze[x]={});Ze[d].vx==P&&Ze[d].vy==L&&Ze[d].el===p||(Ze[d].el=p,Ze[d].vx=P,Ze[d].vy=L,clearInterval(Ze[d].pid),0==P&&0==L||(u=!0,Ze[d].pid=setInterval(function(){r&&0===this.layer&&Re.active._onTouchMove(Qe);var t=Ze[this.layer].vy?Ze[this.layer].vy*l:0,n=Ze[this.layer].vx?Ze[this.layer].vx*l:0;"function"==typeof i&&"continue"!==i.call(Re.dragged.parentNode[K],n,t,e,Qe,Ze[this.layer].el)||M(Ze[this.layer].el,n,t)}.bind({layer:d}),24))),d++}while(t.bubbleScroll&&h!==c&&(h=B(h,!1)));et=u}}),30),at=function(e){var t=e.originalEvent,n=e.putSortable,r=e.dragEl,i=e.activeSortable,a=e.dispatchSortableEvent,o=e.hideGhostForTarget,s=e.unhideGhostForTarget;if(t){var l=n||i;o();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,u=document.elementFromPoint(c.clientX,c.clientY);s(),l&&!l.el.contains(u)&&(a("spill"),this.onSpill({dragEl:r,putSortable:n}))}};function ot(){}function st(){}function lt(){function e(){this.defaults={swapClass:"sortable-swap-highlight"}}return e.prototype={dragStart:function(e){var t=e.dragEl;rt=t},dragOverValid:function(e){var t=e.completed,n=e.target,r=e.onMove,i=e.activeSortable,a=e.changed,o=e.cancel;if(i.options.swap){var s=this.sortable.el,l=this.options;if(n&&n!==s){var c=rt;!1!==r(n)?(O(n,l.swapClass,!0),rt=n):rt=null,c&&c!==rt&&O(c,l.swapClass,!1)}a(),t(!0),o()}},drop:function(e){var t=e.activeSortable,n=e.putSortable,r=e.dragEl,i=n||this.sortable,a=this.options;rt&&O(rt,a.swapClass,!1),rt&&(a.swap||n&&n.options.swap)&&r!==rt&&(i.captureAnimationState(),i!==t&&t.captureAnimationState(),function(e,t){var n,r,i=e.parentNode,a=t.parentNode;if(!i||!a||i.isEqualNode(t)||a.isEqualNode(e))return;n=x(e),r=x(t),i.isEqualNode(a)&&n<r&&r++;i.insertBefore(t,i.children[n]),a.insertBefore(e,a.children[r])}(r,rt),i.animateAll(),i!==t&&t.animateAll())},nulling:function(){rt=null}},a(e,{pluginName:"swap",eventProperties:function(){return{swapItem:rt}}})}ot.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var r=P(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(t,r):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:at},a(ot,{pluginName:"revertOnSpill"}),st.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable||this.sortable;n.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),n.animateAll()},drop:at},a(st,{pluginName:"removeOnSpill"});var ct,ut,dt,ht,pt,ft=[],vt=[],gt=!1,mt=!1,bt=!1;function yt(){function e(e){for(var t in this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this));e.options.supportPointer?m(document,"pointerup",this._deselectMultiDrag):(m(document,"mouseup",this._deselectMultiDrag),m(document,"touchend",this._deselectMultiDrag)),m(document,"keydown",this._checkKeyDown),m(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(t,n){var r="";ft.length&&ut===e?ft.forEach((function(e,t){r+=(t?", ":"")+e.textContent})):r=n.textContent,t.setData("Text",r)}}}return e.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(e){var t=e.dragEl;dt=t},delayEnded:function(){this.isMultiDrag=~ft.indexOf(dt)},setupClone:function(e){var t=e.sortable,n=e.cancel;if(this.isMultiDrag){for(var r=0;r<ft.length;r++)vt.push(F(ft[r])),vt[r].sortableIndex=ft[r].sortableIndex,vt[r].draggable=!1,vt[r].style["will-change"]="",O(vt[r],this.options.selectedClass,!1),ft[r]===dt&&O(vt[r],this.options.chosenClass,!1);t._hideClone(),n()}},clone:function(e){var t=e.sortable,n=e.rootEl,r=e.dispatchSortableEvent,i=e.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||ft.length&&ut===t&&(kt(!0,n),r("clone"),i()))},showClone:function(e){var t=e.cloneNowShown,n=e.rootEl,r=e.cancel;this.isMultiDrag&&(kt(!1,n),vt.forEach((function(e){T(e,"display","")})),t(),pt=!1,r())},hideClone:function(e){var t=this,n=(e.sortable,e.cloneNowHidden),r=e.cancel;this.isMultiDrag&&(vt.forEach((function(e){T(e,"display","none"),t.options.removeCloneOnHide&&e.parentNode&&e.parentNode.removeChild(e)})),n(),pt=!0,r())},dragStartGlobal:function(e){e.sortable;!this.isMultiDrag&&ut&&ut.multiDrag._deselectMultiDrag(),ft.forEach((function(e){e.sortableIndex=x(e)})),ft=ft.sort((function(e,t){return e.sortableIndex-t.sortableIndex})),bt=!0},dragStarted:function(e){var t=this,n=e.sortable;if(this.isMultiDrag){if(this.options.sort&&(n.captureAnimationState(),this.options.animation)){ft.forEach((function(e){e!==dt&&T(e,"position","absolute")}));var r=I(dt,!1,!0,!0);ft.forEach((function(e){e!==dt&&R(e,r)})),mt=!0,gt=!0}n.animateAll((function(){mt=!1,gt=!1,t.options.animation&&ft.forEach((function(e){V(e)})),t.options.sort&&wt()}))}},dragOver:function(e){var t=e.target,n=e.completed,r=e.cancel;mt&&~ft.indexOf(t)&&(n(!1),r())},revert:function(e){var t=e.fromSortable,n=e.rootEl,r=e.sortable,i=e.dragRect;ft.length>1&&(ft.forEach((function(e){r.addAnimationState({target:e,rect:mt?I(e):i}),V(e),e.fromRect=i,t.removeAnimationState(e)})),mt=!1,function(e,t){ft.forEach((function(n,r){var i=t.children[n.sortableIndex+(e?Number(r):0)];i?t.insertBefore(n,i):t.appendChild(n)}))}(!this.options.removeCloneOnHide,n))},dragOverCompleted:function(e){var t=e.sortable,n=e.isOwner,r=e.insertion,i=e.activeSortable,a=e.parentEl,o=e.putSortable,s=this.options;if(r){if(n&&i._hideClone(),gt=!1,s.animation&&ft.length>1&&(mt||!n&&!i.options.sort&&!o)){var l=I(dt,!1,!0,!0);ft.forEach((function(e){e!==dt&&(R(e,l),a.appendChild(e))})),mt=!0}if(!n)if(mt||wt(),ft.length>1){var c=pt;i._showClone(t),i.options.animation&&!pt&&c&&vt.forEach((function(e){i.addAnimationState({target:e,rect:ht}),e.fromRect=ht,e.thisAnimationDuration=null}))}else i._showClone(t)}},dragOverAnimationCapture:function(e){var t=e.dragRect,n=e.isOwner,r=e.activeSortable;if(ft.forEach((function(e){e.thisAnimationDuration=null})),r.options.animation&&!n&&r.multiDrag.isMultiDrag){ht=a({},t);var i=_(dt,!0);ht.top-=i.f,ht.left-=i.e}},dragOverAnimationComplete:function(){mt&&(mt=!1,wt())},drop:function(e){var t=e.originalEvent,n=e.rootEl,r=e.parentEl,i=e.sortable,a=e.dispatchSortableEvent,o=e.oldIndex,s=e.putSortable,l=s||this.sortable;if(t){var c=this.options,u=r.children;if(!bt)if(c.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),O(dt,c.selectedClass,!~ft.indexOf(dt)),~ft.indexOf(dt))ft.splice(ft.indexOf(dt),1),ct=null,G({sortable:i,rootEl:n,name:"deselect",targetEl:dt,originalEvt:t});else{if(ft.push(dt),G({sortable:i,rootEl:n,name:"select",targetEl:dt,originalEvt:t}),t.shiftKey&&ct&&i.el.contains(ct)){var d,h,p=x(ct),f=x(dt);if(~p&&~f&&p!==f)for(f>p?(h=p,d=f):(h=f,d=p+1);h<d;h++)~ft.indexOf(u[h])||(O(u[h],c.selectedClass,!0),ft.push(u[h]),G({sortable:i,rootEl:n,name:"select",targetEl:u[h],originalEvt:t}))}else ct=dt;ut=l}if(bt&&this.isMultiDrag){if((r[K].options.sort||r!==n)&&ft.length>1){var v=I(dt),g=x(dt,":not(."+this.options.selectedClass+")");if(!gt&&c.animation&&(dt.thisAnimationDuration=null),l.captureAnimationState(),!gt&&(c.animation&&(dt.fromRect=v,ft.forEach((function(e){if(e.thisAnimationDuration=null,e!==dt){var t=mt?I(e):v;e.fromRect=t,l.addAnimationState({target:e,rect:t})}}))),wt(),ft.forEach((function(e){u[g]?r.insertBefore(e,u[g]):r.appendChild(e),g++})),o===x(dt))){var m=!1;ft.forEach((function(e){e.sortableIndex===x(e)||(m=!0)})),m&&a("update")}ft.forEach((function(e){V(e)})),l.animateAll()}ut=l}(n===r||s&&"clone"!==s.lastPutMode)&&vt.forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)}))}},nullingGlobal:function(){this.isMultiDrag=bt=!1,vt.length=0},destroyGlobal:function(){this._deselectMultiDrag(),b(document,"pointerup",this._deselectMultiDrag),b(document,"mouseup",this._deselectMultiDrag),b(document,"touchend",this._deselectMultiDrag),b(document,"keydown",this._checkKeyDown),b(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(e){if(!(void 0!==bt&&bt||ut!==this.sortable||e&&w(e.target,this.options.draggable,this.sortable.el,!1)||e&&0!==e.button))for(;ft.length;){var t=ft[0];O(t,this.options.selectedClass,!1),ft.shift(),G({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:t,originalEvt:e})}},_checkKeyDown:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},a(e,{pluginName:"multiDrag",utils:{select:function(e){var t=e.parentNode[K];t&&t.options.multiDrag&&!~ft.indexOf(e)&&(ut&&ut!==t&&(ut.multiDrag._deselectMultiDrag(),ut=t),O(e,t.options.selectedClass,!0),ft.push(e))},deselect:function(e){var t=e.parentNode[K],n=ft.indexOf(e);t&&t.options.multiDrag&&~n&&(O(e,t.options.selectedClass,!1),ft.splice(n,1))}},eventProperties:function(){var e=this,t=[],n=[];return ft.forEach((function(r){var i;t.push({multiDragElement:r,index:r.sortableIndex}),i=mt&&r!==dt?-1:mt?x(r,":not(."+e.options.selectedClass+")"):x(r),n.push({multiDragElement:r,index:i})})),{items:l(ft),clones:[].concat(vt),oldIndicies:t,newIndicies:n}},optionListeners:{multiDragKey:function(e){return"ctrl"===(e=e.toLowerCase())?e="Control":e.length>1&&(e=e.charAt(0).toUpperCase()+e.substr(1)),e}}})}function kt(e,t){vt.forEach((function(n,r){var i=t.children[n.sortableIndex+(e?Number(r):0)];i?t.insertBefore(n,i):t.appendChild(n)}))}function wt(){ft.forEach((function(e){e!==dt&&e.parentNode&&e.parentNode.removeChild(e)}))}Re.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?m(document,"dragover",this._handleAutoScroll):this.options.supportPointer?m(document,"pointermove",this._handleFallbackAutoScroll):t.touches?m(document,"touchmove",this._handleFallbackAutoScroll):m(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?b(document,"dragover",this._handleAutoScroll):(b(document,"pointermove",this._handleFallbackAutoScroll),b(document,"touchmove",this._handleFallbackAutoScroll),b(document,"mousemove",this._handleFallbackAutoScroll)),nt(),tt(),clearTimeout(S),S=void 0},nulling:function(){Qe=ze=Ge=et=Je=Ye=Xe=null,Ze.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n=this,r=(e.touches?e.touches[0]:e).clientX,i=(e.touches?e.touches[0]:e).clientY,a=document.elementFromPoint(r,i);if(Qe=e,t||d||u||p){it(e,this.options,a,t);var o=B(a,!0);!et||Je&&r===Ye&&i===Xe||(Je&&nt(),Je=setInterval((function(){var a=B(document.elementFromPoint(r,i),!0);a!==o&&(o=a,tt()),it(e,n.options,a,t)}),10),Ye=r,Xe=i)}else{if(!this.options.bubbleScroll||B(a,!0)===C())return void tt();it(e,this.options,B(a,!1),!1)}}},a(e,{pluginName:"scroll",initializeByDefault:!0})}),Re.mount(st,ot),t.default=Re},355:function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return s}));var r=38,i=40,a=13,o=27,s=8},386:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l}));n(26),n(77),n(38),n(27);var r=n(0),i=n.n(r),a={animation:200,forceFallback:!0,fallbackClass:"is-dragging",fallbackOnBody:!0,ghostClass:"is-ghost"};function o(){i()(".has-tooltip").tooltip("hide").tooltip("disable"),document.body.classList.add("is-dragging")}function s(){i()(".has-tooltip").tooltip("enable"),document.body.classList.remove("is-dragging")}function l(e){var t="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,n=Object.assign({},a,{filter:".no-drag",delay:t?100:0,scrollSensitivity:t?60:100,scrollSpeed:20,onStart:o,onEnd:s});return Object.keys(e).forEach((function(t){n[t]=e[t]})),n}},426:function(e,t,n){var r=n(427),i=n(382),a=n(653);e.exports=function(e){return function(t,n,o){return o&&"number"!=typeof o&&i(t,n,o)&&(n=o=void 0),t=a(t),void 0===n?(n=t,t=0):n=a(n),o=void 0===o?t<n?1:-1:a(o),r(t,n,o,e)}}},427:function(e,t){var n=Math.ceil,r=Math.max;e.exports=function(e,t,i,a){for(var o=-1,s=r(n((t-e)/(i||1)),0),l=Array(s);s--;)l[a?s:++o]=e,e+=i;return l}},435:function(e,t,n){"use strict";n.d(t,"a",(function(){return dt}));n(24),n(49),n(56),n(30),n(26),n(104),n(85),n(40),n(65),n(46),n(69),n(35),n(18),n(311),n(55),n(68),n(695),n(122),n(36),n(283),n(91),n(246),n(67),n(89),n(27),n(41);var r=n(219),i=n.n(r),a={issues:"issue-recent-searches",merge_requests:"merge-request-recent-searches"},o=n(16),s=n(307),l=n(33),c=n(14),u=n(111),d=n(17),h=new d.default,p=(n(498),n(297));function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var v=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"processTokens",value:function(e,t){var n=new RegExp("(".concat(t.join("|"),"):(=|!=)?([~%@]?)(?:('[^']*'{0,1})|(\"[^\"]*\"{0,1})|(\\S+))"),"g"),r=[],i=[],a=null,o=e.replace(n,(function(e,t,n,a,o,s,l){var c,u=o||s||l,d=a,h=n;return"~"!==u&&"%"!==u&&"@"!==u||(d=u,u=""),"!="!==u&&"="!==u||(h=u,u=""),c="".concat(t,":").concat(u),-1===i.indexOf(c)&&(i.push(c),r.push({key:t,value:u||"",symbol:d||"",operator:h||""})),""})).replace(/\s{2,}/g," ").trim()||"";if(r.length>0){var s=r[r.length-1],l="".concat(s.key,":").concat(s.operator).concat(s.symbol).concat(s.value);a=e.lastIndexOf(l)===e.length-l.length?s:o}else a=o;return{tokens:r,lastToken:a,searchToken:o}}}],(n=null)&&f(t.prototype,n),r&&f(t,r),e}(),g={name:"RecentSearchesDropdownContent",props:{items:{type:Array,required:!0},isLocalStorageAvailable:{type:Boolean,required:!1,default:!0},allowedKeys:{type:Array,required:!0}},computed:{processedItems:function(){var e=this;return this.items.map((function(t){var n=v.processTokens(t,e.allowedKeys),r=n.tokens,i=n.searchToken;return{text:t,tokens:r.map((function(e){return{prefix:"".concat(e.key,":"),operator:e.operator,suffix:"".concat(e.symbol).concat(e.value)}})),searchToken:i}}))},hasItems:function(){return this.items.length>0}},methods:{onItemActivated:function(e){h.$emit("recentSearchesItemSelected",e)},onRequestClearRecentSearches:function(e){e.stopPropagation(),h.$emit("requestClearRecentSearches")}}},m=n(4),b=Object(m.a)(g,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.isLocalStorageAvailable?e.hasItems?n("ul",[e._l(e.processedItems,(function(t,r){return n("li",{key:"processed-items-"+r,ref:"dropdownItem",refInFor:!0},[n("button",{staticClass:"filtered-search-history-dropdown-item js-dropdown-button",attrs:{type:"button"},on:{click:function(n){return e.onItemActivated(t.text)}}},[n("span",e._l(t.tokens,(function(t,r){return n("span",{key:"dropdown-token-"+r,staticClass:"filtered-search-history-dropdown-token js-dropdown-token"},[n("span",{staticClass:"name"},[e._v(e._s(t.prefix))]),e._v(" "),n("span",{staticClass:"name"},[e._v(e._s(t.operator))]),e._v(" "),n("span",{staticClass:"value"},[e._v(e._s(t.suffix))])])})),0),e._v(" "),n("span",{staticClass:"filtered-search-history-dropdown-search-token"},[e._v("\n          "+e._s(t.searchToken)+"\n        ")])])])})),e._v(" "),n("li",{staticClass:"divider"}),e._v(" "),n("li",[n("button",{ref:"clearButton",staticClass:"filtered-search-history-clear-button",attrs:{type:"button"},on:{click:function(t){return e.onRequestClearRecentSearches(t)}}},[e._v("\n        "+e._s(e.__("Clear recent searches"))+"\n      ")])])],2):n("div",{ref:"dropdownNote",staticClass:"dropdown-info-note"},[e._v("\n    "+e._s(e.__("You don't have any recent searches"))+"\n  ")]):n("div",{ref:"localStorageNote",staticClass:"dropdown-info-note"},[e._v("\n    "+e._s(e.__("This feature requires local storage to be enabled"))+"\n  ")])])}),[],!1,null,null,null).exports;function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var k=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=t,this.service=n,this.wrapperElement=r}var t,n,r;return t=e,(n=[{key:"init",value:function(){this.bindEvents(),this.render()}},{key:"bindEvents",value:function(){this.onRequestClearRecentSearchesWrapper=this.onRequestClearRecentSearches.bind(this),h.$on("requestClearRecentSearches",this.onRequestClearRecentSearchesWrapper)}},{key:"unbindEvents",value:function(){h.$off("requestClearRecentSearches",this.onRequestClearRecentSearchesWrapper)}},{key:"render",value:function(){var e=this.store.state;this.vm=new d.default({el:this.wrapperElement,components:{RecentSearchesDropdownContent:b},data:function(){return e},template:'\n        <recent-searches-dropdown-content\n          :items="recentSearches"\n          :is-local-storage-available="isLocalStorageAvailable"\n          :allowed-keys="allowedKeys"\n          />\n      '})}},{key:"onRequestClearRecentSearches",value:function(){var e=this.store.setRecentSearches([]);this.service.save(e)}},{key:"destroy",value:function(){this.unbindEvents(),this.vm&&this.vm.$destroy()}}])&&y(t.prototype,n),r&&y(t,r),e}(),w=(n(77),n(525)),S=n.n(w);function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var O=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.state=Object.assign({isLocalStorageAvailable:!0,recentSearches:[],allowedKeys:n},t)}var t,n,r;return t=e,(n=[{key:"addRecentSearch",value:function(e){return this.setRecentSearches([e].concat(this.state.recentSearches)),this.state.recentSearches}},{key:"setRecentSearches",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.map((function(e){return e.trim()}));return this.state.recentSearches=S()(t).slice(0,5),this.state.recentSearches}}])&&E(t.prototype,n),r&&E(t,r),e}(),T=(n(64),n(1));var _=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name="RecentSearchesServiceError",this.message=t||Object(T.a)("Recent Searches Service is unavailable")};_.prototype=Error.prototype;var j=_,C=n(71);function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var D=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"issuable-recent-searches";!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.localStorageKey=t}var t,n,r;return t=e,r=[{key:"isAvailable",value:function(){return C.a.isLocalStorageAccessSafe()}}],(n=[{key:"fetch",value:function(){if(!e.isAvailable()){var t=new j;return Promise.reject(t)}var n=window.localStorage.getItem(this.localStorageKey),r=[];if(n&&n.length>0)try{r=JSON.parse(n)}catch(e){return Promise.reject(e)}return Promise.resolve(r)}},{key:"save",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.isAvailable()&&window.localStorage.setItem(this.localStorageKey,JSON.stringify(t))}}])&&I(t.prototype,n),r&&I(t,r),e}(),P=n(324),L=(n(28),n(50),n(58),n(38),n(90),n(184),{keydown:function(e){if(!this.destroyed){var t,n=e.detail.hook.list,r=n.data,i=e.detail.hook.trigger.value.toLowerCase(),a=e.detail.hook.config.Filter,o=[];r&&(t=a&&a.filterFunction&&"function"==typeof a.filterFunction?a.filterFunction:function(e){return e.droplab_hidden=-1===e[a.template].toLowerCase().indexOf(i),e},r.filter((function(e){return!e.droplab_hidden})).length!==(o=r.map((function(e){return t(e,i)}))).filter((function(e){return!e.droplab_hidden})).length&&(n.setData(o),n.currentIndex=0))}},debounceKeydown:function(e){[13,16,17,18,20,37,38,39,40,91,92,93].indexOf(e.detail.which||e.detail.keyCode)>-1||(this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(this.keydown.bind(this,e),200))},init:function(e){var t=e.config.Filter;t&&t.template&&(this.hook=e,this.destroyed=!1,this.eventWrapper={},this.eventWrapper.debounceKeydown=this.debounceKeydown.bind(this),this.hook.trigger.addEventListener("keydown.dl",this.eventWrapper.debounceKeydown),this.hook.trigger.addEventListener("mousedown.dl",this.eventWrapper.debounceKeydown))},destroy:function(){this.timeout&&clearTimeout(this.timeout),this.destroyed=!0,this.hook.trigger.removeEventListener("keydown.dl",this.eventWrapper.debounceKeydown),this.hook.trigger.removeEventListener("mousedown.dl",this.eventWrapper.debounceKeydown)}}),x=(n(374),n(258),n(145),n(495),n(42),n(72),n(93)),A=n.n(x),B=["author","assignee"],N="hint",q="operator",M=n(200),F=n(543);function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var V=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.tokenValue=t,this.tokenType=n,this.tokenOperator=r}var t,r,i;return t=e,i=[{key:"replaceEpicTitle",value:function(e,t,n){var r=e,i=r.querySelector(".value");i&&(r.dataset.originalValue=i.innerText,i.innerText='"'.concat(t,'"::&').concat(n))}},{key:"setTokenStyle",value:function(e,t,n){var r=e;return r.style.backgroundColor=t,r.style.color=n,"#FFFFFF"===n&&r.querySelector(".remove-token").classList.add("inverted"),r}}],(r=[{key:"render",value:function(e,t){var n=this.tokenType,r=this.tokenValue;["none","any"].includes(r.toLowerCase())||("label"===n?this.updateLabelTokenColor(e):B.includes(n)?this.updateUserTokenAppearance(e,t):"my-reaction"===n?this.updateEmojiTokenAppearance(e,t):"epic"===n&&this.updateEpicLabel(e,t))}},{key:"updateUserTokenAppearance",value:function(e,t){var n=this.tokenValue,r=this.tokenValue.replace(/^@/,"");return F.a.retrieve(r).then((function(r){r&&(e.dataset.originalValue=n,t.innerHTML='\n          <img class="avatar s20" src="'.concat(r.avatar_url,'" alt="">\n          ').concat(A()(r.name),"\n        "))})).catch((function(){}))}},{key:"updateLabelTokenColor",value:function(t){var n=this.tokenValue,r=u.a.container.querySelector(".filtered-search"),i=r.dataset.labelsEndpoint,a=U.getEndpointWithQueryParams("".concat(i,".json"),r.dataset.endpointQueryParams);return M.a.retrieve(a).then((function(r){var i=(r||[]).find((function(e){return"~".concat(Y.getEscapedText(e.title))===n}));i&&e.setTokenStyle(t,i.color,i.text_color)})).catch((function(){return new c.a(Object(T.a)("An error occurred while fetching label colors."))}))}},{key:"updateEpicLabel",value:function(t){var n=this.tokenValue.replace(/^&/,""),r=u.a.container.querySelector(".filtered-search"),i=r.dataset.epicsEndpoint,a=U.getEndpointWithQueryParams("".concat(i,".json"),r.dataset.endpointQueryParams);return M.a.retrieve(a).then((function(r){var i=(r||[]).find((function(e){return e.id===Number(n)}));i&&e.replaceEpicTitle(t,i.title,i.id)})).catch((function(){return new c.a(Object(T.a)("An error occurred while adding formatted title for epic"))}))}},{key:"updateEmojiTokenAppearance",value:function(e,t){var r=e,i=t,a=this.tokenValue;return Promise.resolve().then(n.bind(null,447)).then((function(e){e.isEmojiNameValid(a)&&(r.dataset.originalValue=a,i.innerHTML=e.glEmojiTag(a))})).catch((function(){}))}}])&&R(t.prototype,r),i&&R(t,i),e}();function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var W,$,H,U=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"getOperatorToken",value:function(t){var n=null;return e.permissibleOperatorValues.forEach((function(e){t.startsWith(e)&&(n=e)})),n}},{key:"getValueToken",value:function(t){var n=t;return e.permissibleOperatorValues.forEach((function(e){t.startsWith(e)&&(n=t.slice(e.length))})),n}},{key:"getLastVisualTokenBeforeInput",value:function(){var e=u.a.container.querySelector(".input-token"),t=e&&e.previousElementSibling;return{lastVisualToken:t,isLastVisualTokenValid:null===t||-1!==t.className.indexOf("filtered-search-term")||t&&null!==t.querySelector(".operator")&&null!==t.querySelector(".value")}}},{key:"unselectTokens",value:function(){var e=u.a.container.querySelectorAll(".js-visual-token .selectable.selected");[].forEach.call(e,(function(e){return e.classList.remove("selected")}))}},{key:"selectToken",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.classList.contains("selected");e.unselectTokens(),r&&!n||t.classList.add("selected")}},{key:"removeSelectedToken",value:function(){var e=u.a.container.querySelector(".js-visual-token .selected");if(e){var t=e.closest(".js-visual-token");t.parentElement.removeChild(t)}}},{key:"createVisualTokenElementHTML",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.canEdit,n=void 0===t||t,r=e.hasOperator,i=void 0!==r&&r,a=e.uppercaseTokenName,o=void 0!==a&&a,s=e.capitalizeTokenValue,l=void 0!==s&&s;return'\n      <div class="'.concat(n?"selectable":"hidden",'" role="button">\n        <div class="').concat(o?"text-uppercase":"",' name"></div>\n        ').concat(i?'<div class="operator"></div>':"",'\n        <div class="value-container">\n          <div class="').concat(l?"text-capitalize":"",' value"></div>\n          <div class="remove-token" role="button">\n            <i class="fa fa-close"></i>\n          </div>\n        </div>\n      </div>\n    ')}},{key:"renderVisualTokenValue",value:function(e,t,n,r){var i=t.toLowerCase(),a=e.querySelector(".value-container"),o=a.querySelector(".value");o.innerText=n,new V(n,i,r).render(a,o)}},{key:"addVisualTokenElement",value:function(t){var n=t.name,r=t.operator,i=t.value,a=t.options,o=void 0===a?{}:a,s=o.isSearchTerm,l=void 0!==s&&s,c=o.canEdit,d=o.uppercaseTokenName,h=o.capitalizeTokenValue,p=o.tokenClass,f=void 0===p?"search-token-".concat(n.toLowerCase()):p,v=document.createElement("li");v.classList.add("js-visual-token"),v.classList.add(l?"filtered-search-term":"filtered-search-token"),l||v.classList.add(f);var g=Boolean(r);if(i)v.innerHTML=e.createVisualTokenElementHTML({canEdit:c,uppercaseTokenName:d,operator:r,hasOperator:g,capitalizeTokenValue:h}),e.renderVisualTokenValue(v,n,i,r);else{var m='<div class="'.concat(d?"text-uppercase":"",' name"></div>'),b="";g&&(b='<div class="operator"></div>'),v.innerHTML=m+b}v.querySelector(".name").innerText=n,g&&(v.querySelector(".operator").innerText=r);var y=u.a.container.querySelector(".tokens-container"),k=u.a.container.querySelector(".filtered-search");y.insertBefore(v,k.parentElement)}},{key:"addValueToPreviousVisualTokenElement",value:function(t){var n=e.getLastVisualTokenBeforeInput(),r=n.lastVisualToken;if(!n.isLastVisualTokenValid&&r.classList.contains("filtered-search-token")){var i=e.getLastTokenPartial(),a=e.getLastTokenOperator();r.innerHTML=e.createVisualTokenElementHTML({hasOperator:Boolean(a)}),r.querySelector(".name").innerText=i,r.querySelector(".operator").innerText=a,e.renderVisualTokenValue(r,i,t,a)}}},{key:"addFilterVisualToken",value:function(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=i.canEdit,o=i.uppercaseTokenName,s=void 0!==o&&o,l=i.capitalizeTokenValue,c=void 0!==l&&l,d=e.getLastVisualTokenBeforeInput(),h=d.lastVisualToken,p=d.isLastVisualTokenValid,f=e.addVisualTokenElement;if(p)f({name:t,operator:n,value:r,options:{canEdit:a,uppercaseTokenName:s,capitalizeTokenValue:c}});else if(p||!h||h.querySelector(".operator")){var v=h.querySelector(".name").innerText,g=h.querySelector(".operator").innerText,m=u.a.container.querySelector(".tokens-container");m.removeChild(h);var b=r;b||n||(b=t),f({name:v,operator:g,value:b,options:{canEdit:a,uppercaseTokenName:s,capitalizeTokenValue:c}})}else{var y=u.a.container.querySelector(".tokens-container");y.removeChild(h),f({name:t,operator:n,value:r,options:{canEdit:a,uppercaseTokenName:s,capitalizeTokenValue:c}})}}},{key:"addSearchVisualToken",value:function(t){var n=e.getLastVisualTokenBeforeInput().lastVisualToken;n&&n.classList.contains("filtered-search-term")?n.querySelector(".name").innerText+=" ".concat(t):e.addVisualTokenElement({name:t,operator:null,value:null,options:{isSearchTerm:!0}})}},{key:"getLastTokenPartial",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=e.getLastVisualTokenBeforeInput(),r=n.lastVisualToken;if(!r)return"";var i=r.querySelector(".value-container"),a=i&&i.dataset.originalValue;if(a)return a;var o=r.querySelector(".value"),s=r.querySelector(".name"),l=o?o.innerText:"",c=s?s.innerText:"";if(t){var u=r.querySelector(".operator"),d=u?u.innerText:"";return l||d||c}return l||c}},{key:"getLastTokenOperator",value:function(){var t=e.getLastVisualTokenBeforeInput().lastVisualToken,n=t&&t.querySelector(".operator");return null==n?void 0:n.innerText}},{key:"removeLastTokenPartial",value:function(){var t=e.getLastVisualTokenBeforeInput().lastVisualToken;if(t){var n=t.querySelector(".value"),r=t.querySelector(".operator");if(n){var i=t.querySelector(".selectable"),a=t.querySelector(".value-container");i.removeChild(a),t.innerHTML=i.innerHTML}else r?t.removeChild(r):t.closest(".tokens-container").removeChild(t)}}},{key:"tokenizeInput",value:function(){var t=u.a.container.querySelector(".filtered-search"),n=e.getLastVisualTokenBeforeInput().isLastVisualTokenValid;t.value&&(n?e.addSearchVisualToken(t.value):e.addValueToPreviousVisualTokenElement(t.value),t.value="")}},{key:"getEndpointWithQueryParams",value:function(e,t){if(!t)return e;var n=Object(o.E)(JSON.parse(t));return"".concat(e,"?").concat(n)}},{key:"editToken",value:function(t){var n=u.a.container.querySelector(".filtered-search");e.tokenizeInput();var r=t.parentElement,i=n.parentElement;r.replaceChild(i,t);var a,o=t.querySelector(".name"),s=t.querySelector(".operator");if(t.classList.contains("filtered-search-token")){e.addFilterVisualToken(o.innerText,s.innerText,null,{uppercaseTokenName:o.classList.contains("text-uppercase")});var l=t.querySelector(".value-container");(a=l.dataset.originalValue)||(a=l.querySelector(".value").innerText)}a||(a=o.innerText),n.value=a;var c=new Event("input");n.dispatchEvent(c),n.focus()}},{key:"moveInputToTheRight",value:function(){var t=u.a.container.querySelector(".filtered-search");if(t){var n=t.parentElement,r=u.a.container.querySelector(".tokens-container");if(e.tokenizeInput(),!r.lastElementChild.isEqualNode(n)){if(!e.getLastVisualTokenBeforeInput().isLastVisualTokenValid){var i=e.getLastTokenPartial();e.removeLastTokenPartial(),e.addSearchVisualToken(i)}r.removeChild(n),r.appendChild(n)}}}}],(n=null)&&K(t.prototype,n),r&&K(t,r),e}();function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}H=["=","!="],($="permissibleOperatorValues")in(W=U)?Object.defineProperty(W,$,{value:H,enumerable:!0,configurable:!0,writable:!0}):W[$]=H;var Y=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"getEscapedText",value:function(e){var t=e,n=-1!==e.indexOf(" "),r=-1!==e.indexOf('"');return n&&(t=r?"'".concat(e,"'"):'"'.concat(e,'"')),t}},{key:"filterWithSymbol",value:function(t,n,r){var i=r,a=e.getSearchInput(n),o=i.title.toLowerCase(),s=a.toLowerCase(),l="";s[0]===t&&(l=G(s,1)[0],s=s.slice(1)),'"'!==s[0]&&"'"!==s[0]||-1===o.indexOf(" ")||(s=s.slice(1));var c=l===t&&-1!==o.indexOf(s),u=-1!==o.indexOf("".concat(l).concat(s));return i.droplab_hidden=!u&&!c,i}},{key:"filterHint",value:function(t,n){var r=t.input,a=t.allowedKeys,o=n,s=e.getSearchQuery(r),l=v.processTokens(s,a),c=l.lastToken,u=l.tokens,d=c.key||c||"",h="array"===n.type,p=u.some((function(e){return e.key===n.hint})),f="search"===o.hint;if(f&&(o.droplab_hidden=!0),!h&&p)o.droplab_hidden=!0;else if(f||d&&" "!==i()(s.split(""))){if(d){var g=d.split(":"),m=i()(g[0].split(" ")),b=f?a.some((function(e){return e.startsWith(m.toLowerCase())})):-1===o.hint.indexOf(m.toLowerCase());o.droplab_hidden=!!m&&b}}else o.droplab_hidden=!1;return o}},{key:"setDataValueIfSelected",value:function(e,t,n){var r=n.getAttribute("data-value");return r&&st.addWordToInput({tokenName:e,tokenOperator:t,tokenValue:r,clicked:!0,options:{capitalizeTokenValue:n.hasAttribute("data-capitalize")}}),null!==r}},{key:"getVisualTokenValues",value:function(e){var t=e&&e.querySelector(".name").textContent.trim(),n=e&&e.querySelector(".value")&&e.querySelector(".value").textContent.trim();"label"===t&&n&&(n=n.replace(/^~("|')?(.*)/,"$2").replace(/("|')$/,""));var r=e&&e.querySelector(".operator");return{tokenName:t,tokenOperator:r&&r.textContent.trim(),tokenValue:n}}},{key:"getSearchQuery",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=u.a.container,n=[].slice.call(t.querySelectorAll(".tokens-container li")),r=[];if(e){var i=n.findIndex((function(e){return e.classList.contains("input-token")}));n.splice(i+1)}return n.forEach((function(e){if(e.classList.contains("js-visual-token")){var t=e.querySelector(".name"),n=e.querySelector(".operator"),i=e.querySelector(".value"),a=e.querySelector(".value-container"),o=i&&i.dataset.symbol?i.dataset.symbol:"",s="",l="";n&&(l=n.textContent.trim()),a&&a.dataset.originalValue?s=a.dataset.originalValue:i&&i.innerText&&(s=i.innerText),-1!==e.className.indexOf("filtered-search-token")?r.push("".concat(t.innerText.toLowerCase(),":").concat(l).concat(o).concat(s)):r.push(t.innerText)}else if(e.classList.contains("input-token")){var c=U.getLastVisualTokenBeforeInput().isLastVisualTokenValid,d=u.a.container.querySelector(".filtered-search"),h=d&&d.value;if(c)r.push(h);else{var p=r.pop();r.push("".concat(p).concat(h))}}})),r.map((function(e){return e.trim()})).join(" ")}},{key:"getSearchInput",value:function(t){var n=t.value,r=e.getInputSelectionPosition(t).right;return n.slice(0,r)}},{key:"getInputSelectionPosition",value:function(e){var t=e.selectionStart,n=e.value,r=(n=n.replace(/(('[^']*'{0,1})|("[^"]*"{0,1})|:\s+)/g,(function(e){return e.replace(/\s/g,"_")}))).slice(t).search(/\s/);r>=0?r+=t:r<0&&(r=n.length);var i=n.slice(0,r).search(/\S+$/);return 0===t?i=0:t===n.length&&i<0?i=n.length:i<0&&(i=t),{left:i,right:r}}}],(n=null)&&z(t.prototype,n),r&&z(t,r),e}();function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Q=function(){function e(t){var n=t.droplab,r=t.dropdown,i=t.input,a=t.filter;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.droplab=n,this.hookId=i&&i.id,this.input=i,this.filter=a,this.dropdown=r,this.loadingTemplate='<div class="filter-dropdown-loading">\n      <span class="spinner"></span>\n    </div>',this.bindEvents()}var t,n,r;return t=e,(n=[{key:"bindEvents",value:function(){this.itemClickedWrapper=this.itemClicked.bind(this),this.dropdown.addEventListener("click.dl",this.itemClickedWrapper)}},{key:"unbindEvents",value:function(){this.dropdown.removeEventListener("click.dl",this.itemClickedWrapper)}},{key:"getCurrentHook",value:function(){var e=this;return this.droplab.hooks.filter((function(t){return t.id===e.hookId}))[0]||null}},{key:"itemClicked",value:function(e,t){var n=e.detail.selected;if("LI"===n.tagName&&n.innerHTML){var r=U.getLastVisualTokenBeforeInput().lastVisualToken,i=Y.getVisualTokenValues(r).tokenOperator;if(!Y.setDataValueIfSelected(this.filter,i,n)){var a=t(n);st.addWordToInput({tokenName:this.filter,tokenOperator:i,tokenValue:a,clicked:!0})}this.resetFilters(),this.dismissDropdown(),this.dispatchInputEvent()}}},{key:"setAsDropdown",value:function(){this.input.setAttribute("data-dropdown-trigger","#".concat(this.dropdown.id))}},{key:"setOffset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;window.innerWidth>480?this.dropdown.style.left="".concat(e,"px"):this.dropdown.style.left="0px"}},{key:"renderContent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.getCurrentHook();e&&t&&t.list.hidden&&t.list.show()}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.setAsDropdown();var n=this.getCurrentHook(),r=null===n;r||e?this.renderContent(t):n.list.list.id!==this.dropdown.id&&this.renderContent(t)}},{key:"dismissDropdown",value:function(){this.input.focus()}},{key:"dispatchInputEvent",value:function(){this.input.dispatchEvent(new CustomEvent("input",{bubbles:!0,cancelable:!0}))}},{key:"dispatchFormSubmitEvent",value:function(){this.input.form.dispatchEvent(new Event("submit"))}},{key:"hideDropdown",value:function(){var e=this.getCurrentHook();e&&e.list.hide()}},{key:"resetFilters",value:function(){var e=this.getCurrentHook();if(e){var t=e.list.data||[];if(!t)return;var n=t.map((function(e){var t=e;return t.droplab_hidden=!1,t}));e.list.render(n)}}}])&&X(t.prototype,n),r&&X(t,r),e}();function J(e){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ee(e,t){return!t||"object"!==J(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function te(e,t,n){return(te="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ne(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function ne(e){return(ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function re(e,t){return(re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ie=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=n.input,i=n.tokenKeys;return(e=ee(this,ne(t).call(this,n))).config={Filter:{template:"hint",filterFunction:Y.filterHint.bind(null,{input:r,allowedKeys:i.getKeys()})}},e.tokenKeys=i,e}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&re(e,t)}(t,e),n=t,(r=[{key:"itemClicked",value:function(e){var t=e.detail.selected;if("LI"===t.tagName)if(t.hasAttribute("data-value"))this.dismissDropdown();else if("submit"===t.getAttribute("data-action"))this.dismissDropdown(),this.dispatchFormSubmitEvent();else{var n=t.closest(".filter-dropdown-item").dataset,r=n.hint;if(n.tag.length){var i=this.input.value.split(" "),a=[];i.forEach((function(e,t){a.push(e),t===i.length-1&&-1!==r.indexOf(e.toLowerCase())&&a.pop()})),a.length>0&&U.addSearchVisualToken(a.join(" "));var o=r.replace(":",""),s=this.tokenKeys.searchByKey(o).uppercaseTokenName;st.addWordToInput({tokenName:o,clicked:!1,options:{uppercaseTokenName:s}})}this.dismissDropdown(),this.dispatchInputEvent()}}},{key:"renderContent",value:function(){var e=[{hint:"search",tag:"search",formattedKey:Object(T.a)("Search for this text"),icon:"".concat(gon.sprite_icons,"#search")}],n=this.tokenKeys.get().map((function(e){return{icon:"".concat(gon.sprite_icons,"#").concat(e.icon),hint:e.key,tag:":".concat(e.tag),type:e.type,formattedKey:e.formattedKey}})).concat(e);this.droplab.changeHookList(this.hookId,this.dropdown,[L],this.config),this.droplab.setData(this.hookId,n),te(ne(t.prototype),"renderContent",this).call(this)}},{key:"init",value:function(){this.droplab.addHook(this.input,this.dropdown,[L],this.config).init()}}])&&Z(n.prototype,r),i&&Z(n,i),t}(Q),ae={init:function(e){this.destroyed=!1,this.hook=e,this.notLoading(),this.eventWrapper={},this.eventWrapper.debounceTrigger=this.debounceTrigger.bind(this),this.hook.trigger.addEventListener("keydown.dl",this.eventWrapper.debounceTrigger),this.hook.trigger.addEventListener("focus",this.eventWrapper.debounceTrigger),this.trigger(!0)},notLoading:function(){this.loading=!1},debounceTrigger:function(e){var t=[16,17,18,20,37,38,39,40,91,93].indexOf(e.detail.which||e.detail.keyCode)>-1,n="focus"===e.type;t||this.loading||(this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(this.trigger.bind(this,n),200))},trigger:function(e){var t=this,n=this.hook.config.AjaxFilter,r=this.trigger.value;if(n&&n.endpoint&&n.searchKey){if(n.searchValueFunction&&(r=n.searchValueFunction()),n.loadingTemplate&&void 0===this.hook.list.data||0===this.hook.list.data.length){var i=this.hook.list.list.querySelector("[data-dynamic]"),a=document.createElement("div");a.innerHTML=n.loadingTemplate,a.setAttribute("data-loading-template",!0),this.listTemplate=i.outerHTML,i.outerHTML=a.outerHTML}if(e&&(r=""),n.searchKey===r)return this.list.show();this.loading=!0;var o=n.params||{};o[n.searchKey]=r;var s=n.endpoint+this.buildParams(o);return M.a.retrieve(s).then((function(e){t._loadData(e,n),n.onLoadingFinished&&n.onLoadingFinished(e)})).catch(n.onError)}},_loadData:function(e,t){var n=this.hook.list;if(t.loadingTemplate&&void 0===n.data||0===n.data.length){var r=n.list.querySelector("[data-loading-template]");r&&(r.outerHTML=this.listTemplate)}if(!this.destroyed){var i=n.list.children;1===i.length&&i[0].hasAttribute("data-dynamic")&&0===e.length&&n.hide(),n.setData.call(n,e)}this.notLoading(),n.currentIndex=0},buildParams:function(e){return e?"?"+Object.keys(e).map((function(t){return t+"="+(e[t]||"")})).join("&"):""},destroy:function(){this.timeout&&clearTimeout(this.timeout),this.destroyed=!0,this.hook.trigger.removeEventListener("keydown.dl",this.eventWrapper.debounceTrigger),this.hook.trigger.removeEventListener("focus",this.eventWrapper.debounceTrigger)}};function oe(e){return(oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function le(e,t){return!t||"object"!==oe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ce(e,t,n){return(ce="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ue(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function ue(e){return(ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function de(e,t){return(de=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var he=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=n.tokenKeys,i=n.endpoint,a=n.symbol;return(e=le(this,ue(t).call(this,n))).tokenKeys=r,e.endpoint=i,e.symbol=a,e.config={AjaxFilter:e.ajaxFilterConfig()},e}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&de(e,t)}(t,e),n=t,(r=[{key:"ajaxFilterConfig",value:function(){return{endpoint:"".concat(gon.relative_url_root||"").concat(this.endpoint),searchKey:"search",searchValueFunction:this.getSearchInput.bind(this),loadingTemplate:this.loadingTemplate,onError:function(){Object(c.a)(Object(T.a)("An error occurred fetching the dropdown data."))}}}},{key:"itemClicked",value:function(e){ce(ue(t.prototype),"itemClicked",this).call(this,e,(function(e){return e.querySelector(".dropdown-light-content").innerText.trim()}))}},{key:"renderContent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.droplab.changeHookList(this.hookId,this.dropdown,[ae],this.config),ce(ue(t.prototype),"renderContent",this).call(this,e)}},{key:"getSearchInput",value:function(){var e=Y.getSearchInput(this.input),t=v.processTokens(e,this.tokenKeys.getKeys()).lastToken||"";return t[0]===this.symbol&&(t=t.slice(1)),'"'!==t[0]&&"'"!==t[0]||(t=t.slice(1)),t}},{key:"init",value:function(){this.droplab.addHook(this.input,this.dropdown,[ae],this.config).init()}}])&&se(n.prototype,r),i&&se(n,i),t}(Q);function pe(e){return(pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach((function(t){ge(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function be(e,t){return!t||"object"!==pe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ye(e,t,n){return(ye="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ke(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function ke(e){return(ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function we(e,t){return(we=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Se=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),be(this,ke(t).call(this,ve({},e,{endpoint:"/autocomplete/users.json",symbol:"@"})))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&we(e,t)}(t,e),n=t,(r=[{key:"ajaxFilterConfig",value:function(){var e=this;return ve({},ye(ke(t.prototype),"ajaxFilterConfig",this).call(this),{params:ve({active:!0,group_id:this.getGroupId(),project_id:this.getProjectId(),current_user:!0},this.projectOrGroupId()),onLoadingFinished:function(){e.hideCurrentUser()}})}},{key:"hideCurrentUser",value:function(){Object(P.a)(this.dropdown.querySelector(".js-current-user"),"hidden")}},{key:"getGroupId",value:function(){return this.input.getAttribute("data-group-id")}},{key:"getProjectId",value:function(){return this.input.getAttribute("data-project-id")}},{key:"projectOrGroupId",value:function(){var e=this.getProjectId(),t=this.getGroupId();return t?{group_id:t}:{project_id:e}}}])&&me(n.prototype,r),i&&me(n,i),t}(he),Ee={_loadData:function(e,t,n){if(t.loadingTemplate){var r=n.hook.list.list.querySelector("[data-loading-template]");r&&(r.outerHTML=n.listTemplate)}n.destroyed||n.hook.list[t.method].call(n.hook.list,e)},preprocessing:function(e,t){var n=t;return e.preprocessing&&!t.preprocessed&&(n=e.preprocessing(t),M.a.override(e.endpoint,n)),n},init:function(e){var t=this;t.destroyed=!1;var n=e.config.Ajax;if(this.hook=e,n&&n.endpoint&&n.method&&("setData"===n.method||"addData"===n.method)){if(n.loadingTemplate){var r=e.list.list.querySelector("[data-dynamic]"),i=document.createElement("div");i.innerHTML=n.loadingTemplate,i.setAttribute("data-loading-template",""),this.listTemplate=r.outerHTML,r.outerHTML=i.outerHTML}return M.a.retrieve(n.endpoint).then(t.preprocessing.bind(null,n)).then((function(e){return t._loadData(e,n,t)})).catch(n.onError)}},destroy:function(){this.destroyed=!0}};function Oe(e){return(Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _e(e,t){return!t||"object"!==Oe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function je(e,t,n){return(je="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ce(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Ce(e){return(Ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ie(e,t){return(Ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var De=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=n.input,i=n.endpoint,a=n.symbol,o=n.preprocessing;return(e=_e(this,Ce(t).call(this,n))).symbol=a,e.config={Ajax:{endpoint:i,method:"setData",loadingTemplate:e.loadingTemplate,preprocessing:o,onError:function(){new c.a(Object(T.a)("An error occurred fetching the dropdown data."))}},Filter:{filterFunction:Y.filterWithSymbol.bind(null,e.symbol,r),template:"title"}},e}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ie(e,t)}(t,e),n=t,(r=[{key:"itemClicked",value:function(e){var n=this;je(Ce(t.prototype),"itemClicked",this).call(this,e,(function(e){var t=e.querySelector(".js-data-value").innerText.trim();return"".concat(n.symbol).concat(Y.getEscapedText(t))}))}},{key:"renderContent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.droplab.changeHookList(this.hookId,this.dropdown,[Ee,L],this.config),je(Ce(t.prototype),"renderContent",this).call(this,e)}},{key:"init",value:function(){this.droplab.addHook(this.input,this.dropdown,[Ee,L],this.config).init()}}])&&Te(n.prototype,r),i&&Te(n,i),t}(Q);n(78);function Pe(e){return(Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Le(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function xe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ae(e,t){return!t||"object"!==Pe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Be(e,t,n){return(Be="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ne(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Ne(e){return(Ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qe(e,t){return(qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Me=function(e){function t(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=Ae(this,Ne(t).call(this,r))).config={Ajax:{endpoint:"".concat(gon.relative_url_root||"","/autocomplete/award_emojis"),method:"setData",loadingTemplate:e.loadingTemplate,onError:function(){new c.a(Object(T.a)("An error occurred fetching the dropdown data."))}},Filter:{template:"name"}},Promise.resolve().then(n.bind(null,447)).then((function(t){var n=t.glEmojiTag;e.glEmojiTag=n})).catch((function(){})),e.unbindEvents(),e.bindEvents(),e}var r,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qe(e,t)}(t,e),r=t,(i=[{key:"bindEvents",value:function(){Be(Ne(t.prototype),"bindEvents",this).call(this),this.listRenderedWrapper=this.listRendered.bind(this),this.dropdown.addEventListener("render.dl",this.listRenderedWrapper)}},{key:"unbindEvents",value:function(){this.dropdown.removeEventListener("render.dl",this.listRenderedWrapper),Be(Ne(t.prototype),"unbindEvents",this).call(this)}},{key:"listRendered",value:function(){this.replaceEmojiElement()}},{key:"itemClicked",value:function(e){Be(Ne(t.prototype),"itemClicked",this).call(this,e,(function(e){var t=e.querySelector(".js-data-value").innerText.trim();return Y.getEscapedText(t)}))}},{key:"renderContent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.droplab.changeHookList(this.hookId,this.dropdown,[Ee,L],this.config),Be(Ne(t.prototype),"renderContent",this).call(this,e)}},{key:"replaceEmojiElement",value:function(){var e=this;this.glEmojiTag&&Le(this.dropdown.querySelectorAll(".filter-dropdown-item")).forEach((function(t){var n=t.querySelector(".js-data-value");if(null!==n){var r=n.innerText,i=e.glEmojiTag(r);t.querySelector("gl-emoji").outerHTML=i}}))}},{key:"init",value:function(){this.droplab.addHook(this.input,this.dropdown,[Ee,L],this.config).init()}}])&&xe(r.prototype,i),a&&xe(r,a),t}(Q);function Fe(e){return(Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ve(e,t){return!t||"object"!==Fe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ke(e,t,n){return(Ke="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=We(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function We(e){return(We=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $e(e,t){return($e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var He=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ve(this,We(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$e(e,t)}(t,e),n=t,(r=[{key:"renderContent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.droplab.changeHookList(this.hookId,this.dropdown,[],this.config),Ke(We(t.prototype),"renderContent",this).call(this,e)}}])&&Re(n.prototype,r),i&&Re(n,i),t}(Q);function Ue(e){return(Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ze(e,t){return!t||"object"!==Ue(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ye(e,t,n){return(Ye="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Xe(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Xe(e){return(Xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qe(e,t){return(Qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Je=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=n.input,i=n.tokenKeys;return(e=ze(this,Xe(t).call(this,n))).config={Filter:{filterFunction:Y.filterWithSymbol.bind(null,"",r),template:"title"}},e.tokenKeys=i,e}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qe(e,t)}(t,e),n=t,(r=[{key:"itemClicked",value:function(e){var t=e.detail.selected;if("LI"===t.tagName&&t.hasAttribute("data-value")){var n=t.dataset.value;U.removeLastTokenPartial(),st.addWordToInput({tokenName:this.filter,tokenOperator:n,clicked:!1})}this.dismissDropdown(),this.dispatchInputEvent()}},{key:"renderContent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.filter=U.getLastTokenPartial();var n=[{tag:"equal",type:"string",title:"=",help:Object(T.a)("is")},{tag:"not-equal",type:"string",title:"!=",help:Object(T.a)("is not")}];this.droplab.changeHookList(this.hookId,this.dropdown,[L],this.config),this.droplab.setData(this.hookId,n),Ye(Xe(t.prototype),"renderContent",this).call(this,e)}},{key:"init",value:function(){this.droplab.addHook(this.input,this.dropdown,[L],this.config).init()}}])&&Ge(n.prototype,r),i&&Ge(n,i),t}(Q);function Ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function et(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var nt=function(){function e(t){var n=t.container,r=t.runnerTagsEndpoint,i=t.labelsEndpoint,a=t.milestonesEndpoint,o=t.releasesEndpoint,s=t.groupsOnly,l=t.includeAncestorGroups,c=t.includeDescendantGroups;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=n,this.runnerTagsEndpoint=r,this.labelsEndpoint=i,this.milestonesEndpoint=a,this.releasesEndpoint=o,this.groupsOnly=s,this.includeAncestorGroups=l,this.includeDescendantGroups=c,this.filteredSearchInput=this.container.querySelector(".filtered-search")}var t,n,r;return t=e,(n=[{key:"getAllowedMappings",value:function(e){return this.buildMappings(e,this.getMappings())}},{key:"buildMappings",value:function(e,t){var n={hint:{reference:null,gl:ie,element:this.container.querySelector("#js-dropdown-hint")},operator:{reference:null,gl:Je,element:this.container.querySelector("#js-dropdown-operator")}};return e.forEach((function(e){t[e]&&(n[e]=t[e])})),n}},{key:"getMappings",value:function(){return{author:{reference:null,gl:Se,element:this.container.querySelector("#js-dropdown-author")},assignee:{reference:null,gl:Se,element:this.container.querySelector("#js-dropdown-assignee")},milestone:{reference:null,gl:De,extraArguments:{endpoint:this.getMilestoneEndpoint(),symbol:"%"},element:this.container.querySelector("#js-dropdown-milestone")},release:{reference:null,gl:De,extraArguments:{endpoint:this.getReleasesEndpoint(),symbol:"",preprocessing:function(e){return e.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(n),!0).forEach((function(t){et(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{title:e.tag})}))}},element:this.container.querySelector("#js-dropdown-release")},label:{reference:null,gl:De,extraArguments:{endpoint:this.getLabelsEndpoint(),symbol:"~",preprocessing:Y.duplicateLabelPreprocessing},element:this.container.querySelector("#js-dropdown-label")},"my-reaction":{reference:null,gl:Me,element:this.container.querySelector("#js-dropdown-my-reaction")},wip:{reference:null,gl:De,element:this.container.querySelector("#js-dropdown-wip")},confidential:{reference:null,gl:De,element:this.container.querySelector("#js-dropdown-confidential")},status:{reference:null,gl:He,element:this.container.querySelector("#js-dropdown-admin-runner-status")},type:{reference:null,gl:He,element:this.container.querySelector("#js-dropdown-admin-runner-type")},tag:{reference:null,gl:he,extraArguments:{endpoint:this.getRunnerTagsEndpoint(),symbol:"~"},element:this.container.querySelector("#js-dropdown-runner-tag")},"target-branch":{reference:null,gl:De,extraArguments:{endpoint:this.getMergeRequestTargetBranchesEndpoint(),symbol:""},element:this.container.querySelector("#js-dropdown-target-branch")}}}},{key:"getMilestoneEndpoint",value:function(){return"".concat(this.milestonesEndpoint,".json")}},{key:"getReleasesEndpoint",value:function(){return"".concat(this.releasesEndpoint,".json")}},{key:"getLabelsEndpoint",value:function(){var e="".concat(this.labelsEndpoint,".json?");return this.groupsOnly&&(e="".concat(e,"only_group_labels=true&")),this.includeAncestorGroups&&(e="".concat(e,"include_ancestor_groups=true&")),this.includeDescendantGroups&&(e="".concat(e,"include_descendant_groups=true")),e}},{key:"getRunnerTagsEndpoint",value:function(){return"".concat(this.runnerTagsEndpoint,".json")}},{key:"getMergeRequestTargetBranchesEndpoint",value:function(){var e="".concat(gon.relative_url_root||"","/autocomplete/merge_request_target_branches.json"),t={group_id:this.getGroupId(),project_id:this.getProjectId()};return Object(l.h)(t,e)}},{key:"getGroupId",value:function(){return this.filteredSearchInput.getAttribute("data-group-id")||""}},{key:"getProjectId",value:function(){return this.filteredSearchInput.getAttribute("data-project-id")||""}}])&&tt(t.prototype,n),r&&tt(t,r),e}(),rt=n(259);function it(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function at(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ot(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var st=function(){function e(t){var n=t.runnerTagsEndpoint,r=void 0===n?"":n,i=t.labelsEndpoint,a=void 0===i?"":i,o=t.milestonesEndpoint,s=void 0===o?"":o,l=t.releasesEndpoint,c=void 0===l?"":l,d=t.epicsEndpoint,h=void 0===d?"":d,f=t.tokenizer,v=t.page,g=t.isGroup,m=t.isGroupAncestor,b=t.isGroupDecendent,y=t.filteredSearchTokenKeys;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var k=function(e){return e.replace(/\/$/,"")};this.container=u.a.container,this.runnerTagsEndpoint=k(r),this.labelsEndpoint=k(a),this.milestonesEndpoint=k(s),this.releasesEndpoint=k(c),this.epicsEndpoint=k(h),this.tokenizer=f,this.filteredSearchTokenKeys=y||p.a,this.filteredSearchInput=this.container.querySelector(".filtered-search"),this.page=v,this.groupsOnly=g,this.includeAncestorGroups=m,this.includeDescendantGroups=b,this.setupMapping(),this.cleanupWrapper=this.cleanup.bind(this),document.addEventListener("beforeunload",this.cleanupWrapper)}var t,n,r;return t=e,r=[{key:"addWordToInput",value:function(e){var t=e.tokenName,n=e.tokenOperator,r=void 0===n?"":n,i=e.tokenValue,a=void 0===i?"":i,o=e.clicked,s=void 0!==o&&o,l=e.options,c=void 0===l?{}:l,d=c.uppercaseTokenName,h=void 0!==d&&d,p=c.capitalizeTokenValue,f=void 0!==p&&p,v=u.a.container.querySelector(".filtered-search");U.addFilterVisualToken(t,r,a,{uppercaseTokenName:h,capitalizeTokenValue:f}),v.value="",s&&U.moveInputToTheRight()}}],(n=[{key:"cleanup",value:function(){this.droplab&&(this.droplab.destroy(),this.droplab=null),this.setupMapping(),document.removeEventListener("beforeunload",this.cleanupWrapper)}},{key:"setupMapping",value:function(){var e=this.filteredSearchTokenKeys.getKeys(),t=new nt(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?it(Object(n),!0).forEach((function(t){at(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):it(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this));this.mapping=t.getAllowedMappings(e)}},{key:"updateCurrentDropdownOffset",value:function(){this.updateDropdownOffset(this.currentDropdown)}},{key:"updateDropdownOffset",value:function(e){var t=this.filteredSearchInput.getBoundingClientRect().left-this.container.querySelector(".scroll-container").getBoundingClientRect().left,n=this.mapping[e].element.clientWidth||240,r=this.container.querySelector(".scroll-container").clientWidth-n;r<t&&(t=r),this.mapping[e].reference.setOffset(t)}},{key:"load",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.mapping[e],r=n.gl,i=n.element,a=!1;if(!n.reference){var o={droplab:this.droplab,dropdown:i,input:this.filteredSearchInput,tokenKeys:this.filteredSearchTokenKeys,filter:e},s=n.extraArguments||{},l=Object.assign({},o,s);n.reference=new(Function.prototype.bind.apply(r,[null,l]))}t&&n.reference.init(),this.currentDropdown!==N&&this.currentDropdown!==q||(a=!0),this.updateDropdownOffset(e),n.reference.render(t,a),this.currentDropdown=e}},{key:"loadDropdown",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=!1;if(this.droplab||(t=!0,this.droplab=new rt.a),e!==q){var n=this.filteredSearchTokenKeys.searchByKey(e.toLowerCase()),r=n&&this.currentDropdown!==n.key&&this.mapping[n.key],i=!n&&this.currentDropdown!==N;if(r||i){var a=n&&n.key?n.key:N;this.load(a,t)}}else this.load(e,t)}},{key:"setDropdown",value:function(){var e=Y.getSearchQuery(!0),t=this.tokenizer.processTokens(e,this.filteredSearchTokenKeys.getKeys()),n=t.lastToken,r=t.searchToken;if(this.currentDropdown&&this.updateCurrentDropdownOffset(),n===r&&null!==n){var a=n.split(":"),o=i()(a[0].split(" ")),s=i()(a[1]),l=U.permissibleOperatorValues.includes(s&&s.trim()),c="";if(a.length>1){var u=U.getLastTokenOperator();c=l&&u?o:q}this.loadDropdown(c)}else if(n){var d=U.getLastTokenOperator();this.loadDropdown(d?n.key:q)}else this.loadDropdown(N)}},{key:"resetDropdowns",value:function(){this.currentDropdown&&(this.mapping[this.currentDropdown].reference.hideDropdown(),this.setDropdown(),this.mapping[this.currentDropdown].reference.resetFilters(),this.updateDropdownOffset(this.currentDropdown))}},{key:"destroyDroplab",value:function(){this.droplab.destroy()}}])&&ot(t.prototype,n),r&&ot(t,r),e}(),lt=n(355);function ct(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ut(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var dt=function(){function e(t){var n=t.page,r=t.isGroup,i=void 0!==r&&r,o=t.isGroupAncestor,l=void 0===o||o,c=t.isGroupDecendent,d=void 0!==c&&c,h=t.filteredSearchTokenKeys,p=void 0===h?s.a:h,f=t.stateFiltersSelector,v=void 0===f?".issues-state-filters":f;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isGroup=i,this.isGroupAncestor=l,this.isGroupDecendent=d,this.states=["opened","closed","merged","all"],this.page=n,this.container=u.a.container,this.filteredSearchInput=this.container.querySelector(".filtered-search"),this.filteredSearchInputForm=this.filteredSearchInput.form,this.clearSearchButton=this.container.querySelector(".clear-search"),this.tokensContainer=this.container.querySelector(".tokens-container"),this.filteredSearchTokenKeys=p,this.stateFiltersSelector=v,this.filteredSearchInput.dataset.multipleAssignees&&this.filteredSearchTokenKeys.enableMultipleAssignees&&this.filteredSearchTokenKeys.enableMultipleAssignees(),!this.filteredSearchInput.dataset.epicsEndpoint&&this.filteredSearchTokenKeys.removeEpicToken&&this.filteredSearchTokenKeys.removeEpicToken(),this.recentSearchesStore=new O({isLocalStorageAvailable:D.isAvailable(),allowedKeys:this.filteredSearchTokenKeys.getKeys()}),this.searchHistoryDropdownElement=document.querySelector(".js-filtered-search-history-dropdown");var g=this.searchHistoryDropdownElement?this.searchHistoryDropdownElement.dataset.fullPath:"project",m="".concat(g,"-").concat(a[this.page]);this.recentSearchesService=new D(m)}var t,n,r;return t=e,(n=[{key:"setup",value:function(){var e=this;if(this.fetchingRecentSearchesPromise=this.recentSearchesService.fetch().catch((function(e){if("RecentSearchesServiceError"!==e.name)return new c.a(Object(T.a)("An error occurred while parsing recent searches")),[]})).then((function(t){if(t){var n=e.recentSearchesStore.setRecentSearches(e.recentSearchesStore.state.recentSearches.concat(t));e.recentSearchesService.save(n)}})),this.filteredSearchInput){this.tokenizer=v;var t=this.filteredSearchInput.dataset,n=t.runnerTagsEndpoint,r=void 0===n?"":n,i=t.labelsEndpoint,a=void 0===i?"":i,o=t.milestonesEndpoint,s=void 0===o?"":o,l=t.releasesEndpoint,u=void 0===l?"":l,d=t.epicsEndpoint,h=void 0===d?"":d;this.dropdownManager=new st({runnerTagsEndpoint:r,labelsEndpoint:a,milestonesEndpoint:s,releasesEndpoint:u,epicsEndpoint:h,tokenizer:this.tokenizer,page:this.page,isGroup:this.isGroup,isGroupAncestor:this.isGroupAncestor,isGroupDecendent:this.isGroupDecendent,filteredSearchTokenKeys:this.filteredSearchTokenKeys}),this.recentSearchesRoot=new k(this.recentSearchesStore,this.recentSearchesService,this.searchHistoryDropdownElement),this.recentSearchesRoot.init(),this.bindEvents(),this.loadSearchParamsFromURL(),this.dropdownManager.setDropdown(),this.cleanupWrapper=this.cleanup.bind(this),document.addEventListener("beforeunload",this.cleanupWrapper)}}},{key:"cleanup",value:function(){this.unbindEvents(),document.removeEventListener("beforeunload",this.cleanupWrapper),this.recentSearchesRoot&&this.recentSearchesRoot.destroy()}},{key:"bindStateEvents",value:function(){var e=this;this.stateFilters=document.querySelector(".container-fluid ".concat(this.stateFiltersSelector)),this.stateFilters&&(this.searchStateWrapper=this.searchState.bind(this),this.applyToStateFilters((function(t){t.addEventListener("click",e.searchStateWrapper)})))}},{key:"unbindStateEvents",value:function(){var e=this;this.stateFilters&&this.applyToStateFilters((function(t){t.removeEventListener("click",e.searchStateWrapper)}))}},{key:"applyToStateFilters",value:function(e){var t=this;this.stateFilters.querySelectorAll("a[data-state]").forEach((function(n){t.states.indexOf(n.dataset.state)>-1&&e(n)}))}},{key:"bindEvents",value:function(){this.handleFormSubmit=this.handleFormSubmit.bind(this),this.setDropdownWrapper=this.dropdownManager.setDropdown.bind(this.dropdownManager),this.toggleClearSearchButtonWrapper=this.toggleClearSearchButton.bind(this),this.handleInputPlaceholderWrapper=this.handleInputPlaceholder.bind(this),this.handleInputVisualTokenWrapper=this.handleInputVisualToken.bind(this),this.checkForEnterWrapper=this.checkForEnter.bind(this),this.onClearSearchWrapper=this.onClearSearch.bind(this),this.checkForBackspaceWrapper=this.checkForBackspace.call(this),this.removeSelectedTokenKeydownWrapper=this.removeSelectedTokenKeydown.bind(this),this.unselectEditTokensWrapper=this.unselectEditTokens.bind(this),this.editTokenWrapper=this.editToken.bind(this),this.tokenChange=this.tokenChange.bind(this),this.addInputContainerFocusWrapper=this.addInputContainerFocus.bind(this),this.removeInputContainerFocusWrapper=this.removeInputContainerFocus.bind(this),this.onrecentSearchesItemSelectedWrapper=this.onrecentSearchesItemSelected.bind(this),this.removeTokenWrapper=this.removeToken.bind(this),this.filteredSearchInputForm.addEventListener("submit",this.handleFormSubmit),this.filteredSearchInput.addEventListener("input",this.setDropdownWrapper),this.filteredSearchInput.addEventListener("input",this.toggleClearSearchButtonWrapper),this.filteredSearchInput.addEventListener("input",this.handleInputPlaceholderWrapper),this.filteredSearchInput.addEventListener("keyup",this.handleInputVisualTokenWrapper),this.filteredSearchInput.addEventListener("keydown",this.checkForEnterWrapper),this.filteredSearchInput.addEventListener("keyup",this.checkForBackspaceWrapper),this.filteredSearchInput.addEventListener("click",this.tokenChange),this.filteredSearchInput.addEventListener("keyup",this.tokenChange),this.filteredSearchInput.addEventListener("focus",this.addInputContainerFocusWrapper),this.tokensContainer.addEventListener("click",this.removeTokenWrapper),this.tokensContainer.addEventListener("click",this.editTokenWrapper),this.clearSearchButton.addEventListener("click",this.onClearSearchWrapper),document.addEventListener("click",this.unselectEditTokensWrapper),document.addEventListener("click",this.removeInputContainerFocusWrapper),document.addEventListener("keydown",this.removeSelectedTokenKeydownWrapper),h.$on("recentSearchesItemSelected",this.onrecentSearchesItemSelectedWrapper),this.bindStateEvents()}},{key:"unbindEvents",value:function(){this.filteredSearchInputForm.removeEventListener("submit",this.handleFormSubmit),this.filteredSearchInput.removeEventListener("input",this.setDropdownWrapper),this.filteredSearchInput.removeEventListener("input",this.toggleClearSearchButtonWrapper),this.filteredSearchInput.removeEventListener("input",this.handleInputPlaceholderWrapper),this.filteredSearchInput.removeEventListener("keyup",this.handleInputVisualTokenWrapper),this.filteredSearchInput.removeEventListener("keydown",this.checkForEnterWrapper),this.filteredSearchInput.removeEventListener("keyup",this.checkForBackspaceWrapper),this.filteredSearchInput.removeEventListener("click",this.tokenChange),this.filteredSearchInput.removeEventListener("keyup",this.tokenChange),this.filteredSearchInput.removeEventListener("focus",this.addInputContainerFocusWrapper),this.tokensContainer.removeEventListener("click",this.removeTokenWrapper),this.tokensContainer.removeEventListener("click",this.editTokenWrapper),this.clearSearchButton.removeEventListener("click",this.onClearSearchWrapper),document.removeEventListener("click",this.unselectEditTokensWrapper),document.removeEventListener("click",this.removeInputContainerFocusWrapper),document.removeEventListener("keydown",this.removeSelectedTokenKeydownWrapper),h.$off("recentSearchesItemSelected",this.onrecentSearchesItemSelectedWrapper),this.unbindStateEvents()}},{key:"checkForBackspace",value:function(){var e=this,t=0;return function(n){if(8===n.keyCode||46===n.keyCode){var r=U.getLastVisualTokenBeforeInput().lastVisualToken,i=Y.getVisualTokenValues(r),a=i.tokenName,o=i.tokenValue,s=a&&e.canEdit&&e.canEdit(a,o);""===e.filteredSearchInput.value&&r&&s&&2===(t+=1)&&(t=0,e.filteredSearchInput.value=U.getLastTokenPartial(!0),U.removeLastTokenPartial()),e.dropdownManager.updateCurrentDropdownOffset()}else t=0}}},{key:"checkForEnter",value:function(e){if(38===e.keyCode||40===e.keyCode){var t=this.filteredSearchInput.selectionStart;e.preventDefault(),this.filteredSearchInput.setSelectionRange(t,t)}if(13===e.keyCode){var n=this.dropdownManager.mapping[this.dropdownManager.currentDropdown].element.querySelectorAll(".droplab-item-active");e.preventDefault(),n.length||(this.isHandledAsync?(e.stopImmediatePropagation(),this.filteredSearchInput.blur(),this.dropdownManager.resetDropdowns()):this.dropdownManager.destroyDroplab(),this.search())}}},{key:"addInputContainerFocus",value:function(){Object(P.a)(this.filteredSearchInput.closest(".filtered-search-box"),"focus")}},{key:"removeInputContainerFocus",value:function(e){var t=this.filteredSearchInput.closest(".filtered-search-box"),n=t&&t.contains(e.target),r=null!==e.target.closest(".filter-dropdown"),i=null!==e.target.closest("ul[data-dropdown]");n||r||i||!t||t.classList.remove("focus")}},{key:"removeToken",value:function(e){if(e.target.closest(".remove-token")){e.preventDefault(),e.stopImmediatePropagation();var t=e.target.closest(".selectable");U.selectToken(t,!0),this.removeSelectedToken()}}},{key:"unselectEditTokens",value:function(e){var t=this.container.querySelector(".filtered-search-box"),n=t&&t.contains(e.target),r=null!==e.target.closest(".filter-dropdown"),i=e.target.classList.contains("tokens-container");(!n&&!r||i)&&(U.moveInputToTheRight(),this.dropdownManager.resetDropdowns())}},{key:"editToken",value:function(e){var t=e.target.closest(".js-visual-token"),n=t&&t.querySelector(".name").textContent.trim(),r=this.canEdit&&this.canEdit(n);t&&r&&(e.preventDefault(),e.stopPropagation(),U.editToken(t),this.tokenChange())}},{key:"toggleClearSearchButton",value:function(){var e=Y.getSearchQuery(),t=this.clearSearchButton.classList.contains("hidden");0!==e.length||t?e.length&&t&&this.clearSearchButton.classList.remove("hidden"):this.clearSearchButton.classList.add("hidden")}},{key:"handleInputPlaceholder",value:function(){var e=Y.getSearchQuery(),t=Object(T.a)("Search or filter results..."),n=this.filteredSearchInput.placeholder;0===e.length&&n!==t?this.filteredSearchInput.placeholder=t:e.length>0&&""!==n&&(this.filteredSearchInput.placeholder="")}},{key:"removeSelectedTokenKeydown",value:function(e){8!==e.keyCode&&46!==e.keyCode||this.removeSelectedToken()}},{key:"removeSelectedToken",value:function(){U.removeSelectedToken(),this.handleInputPlaceholder(),this.toggleClearSearchButton(),this.dropdownManager.updateCurrentDropdownOffset()}},{key:"onClearSearch",value:function(e){e.preventDefault(),this.clearSearch()}},{key:"clearSearch",value:function(){var e=this;this.filteredSearchInput.value="";var t=[];[].forEach.call(this.tokensContainer.children,(function(n){var r=n.classList.contains("js-visual-token");if(r){var i=Y.getVisualTokenValues(n),a=i.tokenName,o=i.tokenValue;r=e.canEdit&&e.canEdit(a,o)}r&&t.push(n)})),t.forEach((function(e){e.parentElement.removeChild(e)})),this.clearSearchButton.classList.add("hidden"),this.handleInputPlaceholder(),this.dropdownManager.resetDropdowns(),this.isHandledAsync&&this.search()}},{key:"handleInputVisualToken",value:function(e){var t=this;if(e.keyCode!==lt.a){var n=this.filteredSearchInput,r=this.tokenizer.processTokens(n.value,this.filteredSearchTokenKeys.getKeys()),a=r.tokens,o=r.searchToken,s=U.getLastVisualTokenBeforeInput().isLastVisualTokenValid;if(s){a.forEach((function(e){n.value=n.value.replace("".concat(e.key,":").concat(e.operator).concat(e.symbol).concat(e.value),""),U.addFilterVisualToken(e.key,e.operator,"".concat(e.symbol).concat(e.value),{uppercaseTokenName:t.filteredSearchTokenKeys.shouldUppercaseTokenName(e.key),capitalizeTokenValue:t.filteredSearchTokenKeys.shouldCapitalizeTokenValue(e.key)})}));var l=o.split(":");if(l.length>1){var c=l[0].split(" "),u=i()(c);if(c.length>1){c.pop();var d=c.join(" ");n.value=n.value.replace(d,""),U.addSearchVisualToken(d)}U.addFilterVisualToken(u,null,null,{uppercaseTokenName:this.filteredSearchTokenKeys.shouldUppercaseTokenName(u),capitalizeTokenValue:this.filteredSearchTokenKeys.shouldCapitalizeTokenValue(u)}),n.value=n.value.replace("".concat(u,":"),"")}}else if(s||U.getLastTokenOperator()){if(o.match(/([~%@]{0,1}".+")|([~%@]{0,1}'.+')|^((?![~%@]')(?![~%@]")(?!')(?!")).*/g)&&" "===n.value[n.value.length-1]){var h=U.getLastTokenPartial();U.addFilterVisualToken(o,null,null,{capitalizeTokenValue:this.filteredSearchTokenKeys.shouldCapitalizeTokenValue(h)}),n.value=n.value.replace(o,"").trim()}}else{var p=U.getLastTokenPartial(),f=o&&o.trim();U.permissibleOperatorValues.includes(f)&&(U.removeLastTokenPartial(),U.addFilterVisualToken(p,f,null,{capitalizeTokenValue:this.filteredSearchTokenKeys.shouldCapitalizeTokenValue(p)}),n.value=n.value.replace(o,"").trim())}}}},{key:"handleFormSubmit",value:function(e){e.preventDefault(),this.search()}},{key:"saveCurrentSearchQuery",value:function(){var e=this;this.fetchingRecentSearchesPromise.then((function(){var t=Y.getSearchQuery();if(t.length>0){var n=e.recentSearchesStore.addRecentSearch(t);e.recentSearchesService.save(n)}})).catch((function(){}))}},{key:"getAllParams",value:function(e){return this.modifyUrlParams?this.modifyUrlParams(e):e}},{key:"transformParams",value:function(t){var n=this,r=new RegExp(/not\[(\w+)\]\[?\]?=(.*)/);return t.map((function(t){var i=t.match(r);if(i&&3===i.length){var a=i[1];if(e.notTransformableQueryParams.includes(a)||n.filteredSearchTokenKeys.searchByConditionUrl(t))return t;var o=i[2],s=encodeURIComponent("!=");return"".concat(a,"=").concat(s).concat(o)}var l=ct(t.split("="),2),c=l[0],u=l[1];if(e.notTransformableQueryParams.includes(c)||n.filteredSearchTokenKeys.searchByConditionUrl(t))return t;var d=encodeURIComponent("=");return"".concat(c,"=").concat(d).concat(u)}))}},{key:"loadSearchParamsFromURL",value:function(){var e=this,t=Object(o.p)(),n=this.transformParams(t),r=this.getAllParams(n),i=this.getUsernameParams(),a=!1;r.forEach((function(t){var n=t.split("="),r=decodeURIComponent(n[0]),o=n[1],s=e.filteredSearchTokenKeys.searchByConditionUrl(t);if(s){a=!0;var l=e.canEdit&&e.canEdit(s.tokenKey);U.addFilterVisualToken(s.tokenKey,s.operator,s.value,{canEdit:l})}else{var c=o?decodeURIComponent(o.replace(/\+/g," ")):o,u=e.filteredSearchTokenKeys.searchByKeyParam(r);if(u){var d=u.key,h=u.symbol,p="";-1!==c.indexOf(" ")&&(p=-1===c.indexOf('"')?'"':"'"),a=!0;var f=e.canEdit&&e.canEdit(d,c),v=u.uppercaseTokenName,g=u.capitalizeTokenValue,m=U.getOperatorToken(c),b=U.getValueToken(c);U.addFilterVisualToken(d,m,"".concat(h).concat(p).concat(b).concat(p),{canEdit:f,uppercaseTokenName:v,capitalizeTokenValue:g})}else if(u||"assignee_id"!==r)if(u||"author_id"!==r)u||"search"!==r||(a=!0,e.filteredSearchInput.value=c);else{var y=parseInt(o,10);if(i[y]){a=!0;var k=e.canEdit&&e.canEdit("author"),w=U.getOperatorToken(i[y]),S=U.getValueToken(i[y]);U.addFilterVisualToken("author",w,"@".concat(S),{canEdit:k})}}else{var E=parseInt(o,10);if(i[E]){a=!0;var O=e.canEdit&&e.canEdit("assignee"),T=U.getOperatorToken(i[E]),_=U.getValueToken(i[E]);U.addFilterVisualToken("assignee",T,"@".concat(_),{canEdit:O})}}}})),this.saveCurrentSearchQuery(),a&&(this.clearSearchButton.classList.remove("hidden"),this.handleInputPlaceholder())}},{key:"searchState",value:function(e){e.preventDefault();var t=e.currentTarget;t.blur();var n=t.dataset&&t.dataset.state;n&&this.search(n)}},{key:"search",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=[],r=Y.getSearchQuery();this.saveCurrentSearchQuery();var i=this.filteredSearchTokenKeys.getKeys(),a=this.tokenizer.processTokens(r,i),s=a.tokens,c=a.searchToken,u=t||Object(o.m)("state")||"opened";if(n.push("state=".concat(u)),s.forEach((function(t){var r=e.filteredSearchTokenKeys.searchByConditionKeyValue(t.key,t.operator,t.value),i=e.filteredSearchTokenKeys.searchByKey(t.key)||{},a=i.param,o=t.key.replace("-","_"),s=a?"".concat(o,"_").concat(a):o,l="";if(r)l=r.url;else{var c=t.value;if(i.lowercaseValueOnSubmit&&(c=c.toLowerCase()),("'"===c[0]&&"'"===c[c.length-1]||'"'===c[0]&&'"'===c[c.length-1])&&(c=c.slice(1,c.length-1)),"!="===t.operator){var u=s.endsWith("[]");l="not[".concat(u?s.slice(0,-2):s,"]").concat(u?"[]":"","=").concat(encodeURIComponent(c))}else l="".concat(s,"=").concat(encodeURIComponent(c))}n.push(l)})),c){var d=c.split(" ").map((function(e){return encodeURIComponent(e)})).join("+");n.push("search=".concat(d))}var h="?scope=all&utf8=%E2%9C%93&".concat(n.join("&"));this.updateObject?this.updateObject(h):Object(l.s)(h)}},{key:"getUsernameParams",value:function(){var e={};try{var t=this.filteredSearchInput.getAttribute("data-username-params");JSON.parse(t).forEach((function(t){e[t.id]=t.username}))}catch(e){}return e}},{key:"tokenChange",value:function(){var e=this.dropdownManager.mapping[this.dropdownManager.currentDropdown];if(e){var t=e.reference;this.setDropdownWrapper(),t.dispatchInputEvent()}}},{key:"onrecentSearchesItemSelected",value:function(e){this.clearSearch(),this.filteredSearchInput.value=e,this.filteredSearchInput.dispatchEvent(new CustomEvent("input")),this.search()}},{key:"canEdit",value:function(){return!0}}])&&ut(t.prototype,n),r&&ut(t,r),e}();!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(dt,"notTransformableQueryParams",["scope","utf8","state","search"])},494:function(e,t,n){"use strict";var r=n(467),i=n(343),a=n(223),o=n(546),s=n(459),l=Math.min,c=[].lastIndexOf,u=!!c&&1/[1].lastIndexOf(1,-0)<0,d=o("lastIndexOf"),h=s("indexOf",{ACCESSORS:!0,1:0}),p=u||!d||!h;e.exports=p?function(e){if(u)return c.apply(this,arguments)||0;var t=r(this),n=a(t.length),o=n-1;for(arguments.length>1&&(o=l(o,i(arguments[1]))),o<0&&(o=n+o);o>=0;o--)if(o in t&&t[o]===e)return o||0;return-1}:c},498:function(e,t,n){var r=n(108),i=n(494);r({target:"Array",proto:!0,forced:i!==[].lastIndexOf},{lastIndexOf:i})},513:function(e,t,n){"use strict";var r=new(n(17).default);t.a=r},520:function(e,t,n){"use strict";var r=n(435);t.a=function(e){var t=e.page,n=e.filteredSearchTokenKeys,i=e.isGroup,a=e.isGroupAncestor,o=e.isGroupDecendent,s=e.stateFiltersSelector;r.a&&document.querySelector(".filtered-search")&&new r.a({page:t,isGroup:i,isGroupAncestor:a,isGroupDecendent:o,filteredSearchTokenKeys:n,stateFiltersSelector:s}).setup()}},521:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={MERGE_REQUESTS:"merge_requests",ISSUES:"issues",ADMIN_RUNNERS:"admin/runners"}},696:function(e,t,n){"use strict";var r=n(323),i=n.n(r),a=n(256),o=n.n(a),s=n(237),l=n.n(s),c=n(301),u=n(103),d=n(222),h=n(337),p=n(25),f=n(60),v=n.n(f);function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){g(e,t,n[t])}))}return e}var b=Object(h.c)(0);const y={name:"Pagination",components:{GlLink:c.a,GlIcon:u.a},model:{prop:"value",event:"input"},props:{value:{type:Number,required:!1,default:1,validator:b},perPage:{type:Number,required:!1,default:20,validator:b},totalItems:{type:Number,required:!1,default:0},limits:{type:Object,required:!1,default:function(){return{xs:0,sm:3,md:9,default:9}},validator:function(e){return 0===Object.keys(d.a).filter((function(t){return!e[t]})).length||e.default}},linkGen:{type:Function,required:!1,default:null},prevPage:{type:Number,required:!1,default:null},prevText:{type:String,required:!1,default:"Prev"},nextPage:{type:Number,required:!1,default:null},nextText:{type:String,required:!1,default:"Next"},ellipsisText:{type:String,required:!1,default:"â¦"},labelFirstPage:{type:String,default:"Go to first page"},labelPrevPage:{type:String,default:"Go to previous page"},labelNextPage:{type:String,default:"Go to next page"},labelLastPage:{type:String,default:"Go to last page"},labelPage:{type:Function,default:function(e){return"Go to page ".concat(e)}},size:{type:String,required:!1,default:null,validator:function(e){return Object.keys(p.w).includes(e)}},align:{type:String,required:!1,default:p.d.left,validator:function(e){return Object.keys(p.d).includes(e)}},disabled:{type:Boolean,required:!1,default:!1}},data:function(){return{breakpoint:d.b.getBreakpointSize(),minTotalPagesToCollapse:4}},computed:{isVisible:function(){return this.totalPages>1||this.isCompactPagination},isLinkBased:function(){return o()(this.linkGen)},paginationLimit:function(){return void 0!==this.limits[this.breakpoint]?this.limits[this.breakpoint]:this.limits.default},maxAdjacentPages:function(){return Math.max(Math.ceil((this.paginationLimit-1)/2),0)},totalPages:function(){return Math.ceil(this.totalItems/this.perPage)},isFillAlign:function(){return this.align===p.d.fill},wrapperClasses:function(){var e=[];return this.align===p.d.center&&e.push("justify-content-center"),this.align===p.d.right&&e.push("justify-content-end"),this.isFillAlign&&e.push("text-center"),this.size&&e.push("pagination-".concat(this.size)),Object.keys(this.$slots).length>0&&e.push("custom-rendering"),e},shouldCollapseLeftSide:function(){var e=this.value-this.maxAdjacentPages;return e>=this.maxAdjacentPages&&e>3&&this.totalPages>this.minTotalPagesToCollapse},shouldCollapseRightSide:function(){return this.totalPages-2-this.value>this.maxAdjacentPages&&this.totalPages>this.minTotalPagesToCollapse},visibleItems:function(){var e,t,n=this,r=[];if(!this.isCompactPagination){var a=this.shouldCollapseLeftSide?this.value-this.maxAdjacentPages:1;a=Math.min(a,this.totalPages-1);var o=this.shouldCollapseRightSide?this.value+this.maxAdjacentPages:this.totalPages;o=Math.max(o,2),r=(e=a,t=o,i()(e,t+1,1)).map((function(e){return n.getPageItem(e)})),this.shouldCollapseLeftSide&&r.splice(0,0,this.getPageItem(1,this.labelFirstPage),this.getEllipsisItem("left")),this.shouldCollapseRightSide&&r.push(this.getEllipsisItem("right"),this.getPageItem(this.totalPages,this.labelLastPage))}return r},isCompactPagination:function(){return Boolean(!this.totalItems&&(this.prevPage||this.nextPage))},prevPageIsDisabled:function(){return this.pageIsDisabled(this.value-1)},nextPageIsDisabled:function(){return this.pageIsDisabled(this.value+1)}},created:function(){window.addEventListener("resize",l()(this.setBreakpoint,p.v))},beforeDestroy:function(){window.removeEventListener("resize",l()(this.setBreakpoint,p.v))},methods:{setBreakpoint:function(){this.breakpoint=d.b.getBreakpointSize()},pageIsDisabled:function(e){return this.disabled||e<1||this.isCompactPagination&&e>this.value&&!this.nextPage||!this.isCompactPagination&&e>this.totalPages},getPageItem:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r={"aria-label":n||this.labelPage(e),href:"#",class:[]},i=e===this.value,a=this.pageIsDisabled(e),o=m({},r),s={};return i&&o.class.push("active","btn-primary"),this.isLinkBased?o.href=this.linkGen(e):s.click=function(n){n.preventDefault(),t.$emit("input",e)},{content:e,component:a?"span":c.a,disabled:a,key:"page_".concat(e),slot:"page-number",slotData:{page:e,active:i,disabled:a},attrs:o,listeners:s}},getEllipsisItem:function(e){return{content:this.ellipsisText,key:"ellipsis_".concat(e),slot:"ellipsis-".concat(e),component:"span",disabled:!0}}}};const k=v()({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isVisible?n("ul",{staticClass:"pagination gl-pagination text-nowrap",class:e.wrapperClasses,attrs:{role:"navigation","aria-label":"Pagination"}},[n("li",{staticClass:"page-item",class:{disabled:e.prevPageIsDisabled,"flex-fill":e.isFillAlign}},[n(e.prevPageIsDisabled?"span":"a",{tag:"component",staticClass:"page-link prev-page-item",attrs:{"aria-disabled":e.prevPageIsDisabled,"aria-label":e.labelPrevPage||e.labelPage(e.value-1),href:e.isLinkBased?e.linkGen(e.value-1):"#"},on:{click:function(t){return t.preventDefault(),e.$emit("input",e.value-1)}}},[e._t("previous",[n("gl-icon",{attrs:{name:"chevron-left"}}),e._v(" "),n("span",[e._v(e._s(e.prevText))])],null,{page:e.value-1,disabled:e.prevPageIsDisabled})],2)],1),e._v(" "),e._l(e.visibleItems,(function(t){return n("li",{key:t.key,staticClass:"page-item",class:{disabled:t.disabled,"flex-fill":e.isFillAlign}},[n(t.component,e._g(e._b({tag:"component",staticClass:"page-link",attrs:{size:e.size,"aria-disabled":t.disabled}},"component",t.attrs,!1),t.listeners),[e._t(t.slot,[e._v(e._s(t.content))],null,t.slotData)],2)],1)})),e._v(" "),n("li",{staticClass:"page-item",class:{disabled:e.nextPageIsDisabled,"flex-fill":e.isFillAlign}},[n(e.nextPageIsDisabled?"span":"a",{tag:"component",staticClass:"page-link next-page-item",attrs:{"aria-disabled":e.nextPageIsDisabled,"aria-label":e.labelNextPage||e.labelPage(e.value+1),href:e.isLinkBased?e.linkGen(e.value+1):"#"},on:{click:function(t){return t.preventDefault(),e.$emit("input",e.value+1)}}},[e._t("next",[n("span",[e._v(e._s(e.nextText))]),e._v(" "),n("gl-icon",{attrs:{name:"chevron-right"}})],null,{page:e.value+1,disabled:e.nextPageIsDisabled})],2)],1)],2):e._e()},staticRenderFns:[]},void 0,y,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=k},73:function(e,t,n){"use strict";n(30),n(35),n(18),n(64);var r=n(0),i=n.n(r),a=n(32),o=(n(65),n(69),n(55),n(67),n(71));function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.projectSelectInput=i()(t),this.newItemBtn=i()(".new-project-item-link"),this.resourceType=this.newItemBtn.data("type"),this.resourceLabel=this.newItemBtn.data("label"),this.formattedText=this.deriveTextVariants(),this.groupId=this.projectSelectInput.data("groupId"),this.bindEvents(),this.initLocalStorage()}var t,r,a;return t=e,(r=[{key:"bindEvents",value:function(){var e=this;this.projectSelectInput.siblings(".new-project-item-select-button").on("click",(function(t){return e.openDropdown(t)})),this.newItemBtn.on("click",(function(t){e.getProjectFromLocalStorage()||(t.preventDefault(),e.openDropdown(t))})),this.projectSelectInput.on("change",(function(){return e.selectProject()}))}},{key:"initLocalStorage",value:function(){o.a.isLocalStorageAccessSafe()&&(this.localStorageKey=["group",this.groupId,this.formattedText.localStorageItemType,"recent-project"].join("-"),this.setBtnTextFromLocalStorage())}},{key:"openDropdown",value:function(e){n.e(239).then(n.t.bind(null,428,7)).then((function(){i()(e.currentTarget).siblings(".project-item-select").select2("open")})).catch((function(){}))}},{key:"selectProject",value:function(){var e=JSON.parse(this.projectSelectInput.val()),t={url:"".concat(e.url,"/").concat(this.projectSelectInput.data("relativePath")),name:e.name};this.setNewItemBtnAttributes(t),this.setProjectInLocalStorage(t)}},{key:"setBtnTextFromLocalStorage",value:function(){var e=this.getProjectFromLocalStorage();this.setNewItemBtnAttributes(e)}},{key:"setNewItemBtnAttributes",value:function(e){e?(this.newItemBtn.attr("href",e.url),this.newItemBtn.text("".concat(this.formattedText.defaultTextPrefix," in ").concat(e.name))):this.newItemBtn.text("Select project to create ".concat(this.formattedText.presetTextSuffix))}},{key:"getProjectFromLocalStorage",value:function(){var e=localStorage.getItem(this.localStorageKey);return JSON.parse(e)}},{key:"setProjectInLocalStorage",value:function(e){var t=JSON.stringify(e);localStorage.setItem(this.localStorageKey,t)}},{key:"deriveTextVariants",value:function(){var e=this.resourceLabel;return{localStorageItemType:"new-".concat(this.resourceType.split("_").join("-").slice(0,-1)),defaultTextPrefix:e,presetTextSuffix:this.resourceType.split("_").join(" ").slice(0,-1)}}}])&&s(t.prototype,r),a&&s(t,a),e}(),c=n(1),u=function(){i()(".ajax-project-select").each((function(e,t){var n,r=this,o=i()(t).data("simpleFilter")||!1,s=i()(t).data("select2");return this.groupId=i()(t).data("groupId"),this.userId=i()(t).data("userId"),this.includeGroups=i()(t).data("includeGroups"),this.allProjects=i()(t).data("allProjects")||!1,this.orderBy=i()(t).data("orderBy")||"id",this.withIssuesEnabled=i()(t).data("withIssuesEnabled"),this.withMergeRequestsEnabled=i()(t).data("withMergeRequestsEnabled"),this.withShared=void 0===i()(t).data("withShared")||i()(t).data("withShared"),this.includeProjectsInSubgroups=i()(t).data("includeProjectsInSubgroups")||!1,this.allowClear=i()(t).data("allowClear")||!1,n=Object(c.d)("ProjectSelect|Search for project"),this.includeGroups&&(n+=Object(c.d)("ProjectSelect| or group")),i()(t).select2({placeholder:n,minimumInputLength:0,query:function(e){var t,n=function(t){var n={results:t};return e.callback(n)};return t=r.includeGroups?function(t){return a.a.groups(e.term,{},(function(e){var r=e.concat(t);return n(r)}))}:n,r.groupId?a.a.groupProjects(r.groupId,e.term,{with_issues_enabled:r.withIssuesEnabled,with_merge_requests_enabled:r.withMergeRequestsEnabled,with_shared:r.withShared,include_subgroups:r.includeProjectsInSubgroups},t):r.userId?a.a.userProjects(r.userId,e.term,{with_issues_enabled:r.withIssuesEnabled,with_merge_requests_enabled:r.withMergeRequestsEnabled,with_shared:r.withShared,include_subgroups:r.includeProjectsInSubgroups},t):a.a.projects(e.term,{order_by:r.orderBy,with_issues_enabled:r.withIssuesEnabled,with_merge_requests_enabled:r.withMergeRequestsEnabled,membership:!r.allProjects},t)},id:function(e){return o?e.id:JSON.stringify({name:e.name,url:e.web_url})},text:function(e){return e.name_with_namespace||e.name},initSelection:function(e,t){return a.a.project(e.val()).then((function(e){var n=e.data;return t(n)}))},allowClear:this.allowClear,dropdownCssClass:"ajax-project-dropdown"}),s||o?t:new l(t)}))};t.a=function(){return n.e(239).then(n.t.bind(null,428,7)).then(u).catch((function(){}))}},731:function(e,t,n){"use strict";n(42),n(46);var r=n(0),i=n.n(r),a=n(20),o=n(176),s=n(292),l=n(1);var c=n(291),u=n(513);function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var h=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.vueIssuablesListFeature=Object(a.property)(["gon","features","vueIssuablesList"])(window),this.initDomElements(),this.bindEvents(),this.initDropdowns(),this.setupBulkUpdateActions()}var t,n,r;return t=e,r=[{key:"getCheckedIssueIds",value:function(){var e=i()(".selected-issuable:checked");return e.length>0?i.a.map(e,(function(e){return i()(e).data("id")})):[]}}],(n=[{key:"initDomElements",value:function(){this.$page=i()(".layout-page"),this.$sidebar=i()(".right-sidebar"),this.$sidebarInnerContainer=this.$sidebar.find(".issuable-sidebar"),this.$bulkEditCancelBtn=i()(".js-bulk-update-menu-hide"),this.$bulkEditSubmitBtn=i()(".update-selected-issues"),this.$bulkUpdateEnableBtn=i()(".js-bulk-update-toggle"),this.$otherFilters=i()(".issues-other-filters"),this.$checkAllContainer=i()(".check-all-holder"),this.$issueChecks=i()(".issue-check"),this.$issuesList=i()(".selected-issuable"),this.$issuableIdsInput=i()("#update_issuable_ids")}},{key:"bindEvents",value:function(){var e=this;this.$bulkUpdateEnableBtn.on("click",(function(t){return e.toggleBulkEdit(t,!0)})),this.$bulkEditCancelBtn.on("click",(function(t){return e.toggleBulkEdit(t,!1)})),this.$checkAllContainer.on("click",(function(t){return e.selectAll(t)})),this.$issuesList.on("change",(function(){return e.updateFormState()})),this.$bulkEditSubmitBtn.on("click",(function(){return e.prepForSubmit()})),this.$checkAllContainer.on("click",(function(){return e.updateFormState()})),this.vueIssuablesListFeature&&u.a.$on("issuables:updateBulkEdit",(function(){e.updateFormState()}))}},{key:"initDropdowns",value:function(){new c.a,new s.a,i()(".js-issue-status").each((function(e,t){var n=i()(t).data("fieldName");return i()(t).glDropdown({selectable:!0,fieldName:n,toggleLabel:function(e,t,n){var r=Object(l.a)("Author"),i=n.dropdown.find(".is-active");return i.length&&(r=i.text()),r},clicked:function(e){return e.e.preventDefault()},id:function(e,t){return i()(t).data("id")}})})),i()(".js-subscription-event").each((function(e,t){var n=i()(t).data("fieldName");return i()(t).glDropdown({selectable:!0,fieldName:n,toggleLabel:function(e,t,n){var r=Object(l.a)("Subscription"),i=n.dropdown.find(".is-active");return i.length&&(r=i.text()),r},clicked:function(e){return e.e.preventDefault()},id:function(e,t){return i()(t).data("id")}})}))}},{key:"setupBulkUpdateActions",value:function(){o.a.setOriginalDropdownData()}},{key:"updateFormState",value:function(){var e=!i()(".selected-issuable:checked").length;this.toggleSubmitButtonDisabled(e),this.updateSelectedIssuableIds(),o.a.setOriginalDropdownData()}},{key:"prepForSubmit",value:function(){var e=this;setTimeout((function(){return e.$bulkEditSubmitBtn.disable()})),this.updateSelectedIssuableIds()}},{key:"toggleBulkEdit",value:function(e,t){e.preventDefault(),u.a.$emit("issuables:toggleBulkEdit",t),this.toggleSidebarDisplay(t),this.toggleBulkEditButtonDisabled(t),this.toggleOtherFiltersDisabled(t),this.toggleCheckboxDisplay(t)}},{key:"updateSelectedIssuableIds",value:function(){this.$issuableIdsInput.val(e.getCheckedIssueIds())}},{key:"selectAll",value:function(){var e=this.$checkAllContainer.find("input").prop("checked");this.$issuesList.prop("checked",e)}},{key:"toggleSidebarDisplay",value:function(e){this.$page.toggleClass("right-sidebar-expanded issuable-bulk-update-sidebar",e),this.$page.toggleClass("right-sidebar-collapsed issuable-bulk-update-sidebar",!e),this.$sidebarInnerContainer.toggleClass("hidden",!e),this.$sidebar.toggleClass("right-sidebar-expanded issuable-bulk-update-sidebar",e),this.$sidebar.toggleClass("right-sidebar-collapsed issuable-bulk-update-sidebar",!e)}},{key:"toggleBulkEditButtonDisabled",value:function(e){e?this.$bulkUpdateEnableBtn.disable():this.$bulkUpdateEnableBtn.enable()}},{key:"toggleCheckboxDisplay",value:function(e){this.$checkAllContainer.toggleClass("hidden",!e||this.vueIssuablesListFeature),this.$issueChecks.toggleClass("hidden",!e)}},{key:"toggleOtherFiltersDisabled",value:function(e){this.$otherFilters.toggleClass("disabled-content",e)}},{key:"toggleSubmitButtonDisabled",value:function(e){e?this.$bulkEditSubmitBtn.disable():this.$bulkEditSubmitBtn.enable()}}])&&d(t.prototype,n),r&&d(t,r),e}();t.a={bulkUpdateSidebar:null,init:function(e){var t=document.querySelector(".issues-bulk-update"),n=Boolean(this.bulkUpdateSidebar);return t&&!n&&(o.a.init({prefixId:e}),this.bulkUpdateSidebar=new h),this.bulkUpdateSidebar}}},749:function(e,t,n){"use strict";var r=n(350),i=n(1),a=n(14),o=n(386),s=n(11),l=function(e,t,n){var r=n.move_before_id,o=n.move_after_id;return s.a.put("".concat(e,"/reorder"),{move_before_id:r,move_after_id:o,group_full_path:t.dataset.groupFullPath}).catch((function(){Object(a.a)(Object(i.d)("ManualOrdering|Couldn't save the order of the issues"))}))};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"li.issue",t=document.querySelector(".manual-ordering");t&&gon.current_user_id>0&&r.default.create(t,Object(o.a)({scroll:!0,fallbackTolerance:1,dataIdAttr:"data-id",fallbackOnBody:!1,group:{name:"issues"},draggable:e,onStart:function(){Object(o.c)()},onUpdate:function(e){var n=e.item,r=n.getAttribute("url")||n.dataset.url,i=n.previousElementSibling,a=n.nextElementSibling,o=i&&parseInt(i.dataset.id,10),s=a&&parseInt(a.dataset.id,10);l(r,t,{move_after_id:s,move_before_id:o})}}))}},822:function(e,t,n){"use strict";n(69),n(35),n(72);var r=n(828),i=n(1),a={components:{UserAvatarLink:n(180).a},directives:{GlTooltip:r.a},props:{assignees:{type:Array,required:!0},iconSize:{type:Number,required:!1,default:24},imgCssClasses:{type:String,required:!1,default:""},maxVisible:{type:Number,required:!1,default:3}},data:function(){return{maxAssignees:99}},computed:{assigneesToShow:function(){var e=this.assignees.length-this.numHiddenAssignees;return this.assignees.slice(0,e)},assigneesCounterTooltip:function(){return Object(i.e)(Object(i.a)("%{count} more assignees"),{count:this.numHiddenAssignees})},numHiddenAssignees:function(){return this.assignees.length>this.maxVisible?this.assignees.length-this.maxVisible+1:0},assigneeCounterLabel:function(){return this.numHiddenAssignees>this.maxAssignees?"".concat(this.maxAssignees,"+"):"+".concat(this.numHiddenAssignees)}},methods:{avatarUrlTitle:function(e){return Object(i.e)(Object(i.a)("Avatar for %{assigneeName}"),{assigneeName:e.name})},webUrl:function(e){return e.web_url||e.webUrl},avatarUrl:function(e){return e.avatar_url||e.avatarUrl}}},o=n(4),s=Object(o.a)(a,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"issue-assignees"},[e._l(e.assigneesToShow,(function(t){return n("user-avatar-link",{key:t.id,staticClass:"js-no-trigger",attrs:{"link-href":e.webUrl(t),"img-alt":e.avatarUrlTitle(t),"img-css-classes":e.imgCssClasses,"img-src":e.avatarUrl(t),"img-size":e.iconSize,"tooltip-placement":"bottom"}},[n("span",{staticClass:"js-assignee-tooltip"},[n("span",{staticClass:"bold d-block"},[e._v(e._s(e.__("Assignee")))]),e._v(" "+e._s(t.name)+"\n      "),n("span",{staticClass:"text-white-50"},[e._v("@"+e._s(t.username))])])])})),e._v(" "),e.numHiddenAssignees>0?n("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"avatar-counter",attrs:{title:e.assigneesCounterTooltip,"data-placement":"bottom"}},[e._v(e._s(e.assigneeCounterLabel))]):e._e()],2)}),[],!1,null,null,null);t.a=s.exports}},[[2194,1,0,2,6]]]);
//# sourceMappingURL=pages.groups.issues.5674524e.chunk.js.map